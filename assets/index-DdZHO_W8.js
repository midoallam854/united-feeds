(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function nw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var np={exports:{}},kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3;function z9(){if(A3)return kc;A3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return kc.Fragment=e,kc.jsx=n,kc.jsxs=n,kc}var R3;function H9(){return R3||(R3=1,np.exports=z9()),np.exports}var p=H9(),ip={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3;function q9(){if(N3)return Oe;N3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,V={};function N(F,le,me){this.props=F,this.context=le,this.refs=V,this.updater=me||E}N.prototype.isReactComponent={},N.prototype.setState=function(F,le){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,le,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=N.prototype;function j(F,le,me){this.props=F,this.context=le,this.refs=V,this.updater=me||E}var L=j.prototype=new D;L.constructor=j,R(L,N.prototype),L.isPureReactComponent=!0;var Y=Array.isArray,K={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function O(F,le,me,J,ie,_e){return me=_e.ref,{$$typeof:t,type:F,key:le,ref:me!==void 0?me:null,props:_e}}function S(F,le){return O(F.type,le,void 0,void 0,void 0,F.props)}function C(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function k(F){var le={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(me){return le[me]})}var B=/\/+/g;function z(F,le){return typeof F=="object"&&F!==null&&F.key!=null?k(""+F.key):le.toString(36)}function M(){}function ue(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(M,M):(F.status="pending",F.then(function(le){F.status==="pending"&&(F.status="fulfilled",F.value=le)},function(le){F.status==="pending"&&(F.status="rejected",F.reason=le)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Xe(F,le,me,J,ie){var _e=typeof F;(_e==="undefined"||_e==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(_e){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case t:case e:Ee=!0;break;case v:return Ee=F._init,Xe(Ee(F._payload),le,me,J,ie)}}if(Ee)return ie=ie(F),Ee=J===""?"."+z(F,0):J,Y(ie)?(me="",Ee!=null&&(me=Ee.replace(B,"$&/")+"/"),Xe(ie,le,me,"",function(Ue){return Ue})):ie!=null&&(C(ie)&&(ie=S(ie,me+(ie.key==null||F&&F.key===ie.key?"":(""+ie.key).replace(B,"$&/")+"/")+Ee)),le.push(ie)),1;Ee=0;var ze=J===""?".":J+":";if(Y(F))for(var Pe=0;Pe<F.length;Pe++)J=F[Pe],_e=ze+z(J,Pe),Ee+=Xe(J,le,me,_e,ie);else if(Pe=T(F),typeof Pe=="function")for(F=Pe.call(F),Pe=0;!(J=F.next()).done;)J=J.value,_e=ze+z(J,Pe++),Ee+=Xe(J,le,me,_e,ie);else if(_e==="object"){if(typeof F.then=="function")return Xe(ue(F),le,me,J,ie);throw le=String(F),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function de(F,le,me){if(F==null)return F;var J=[],ie=0;return Xe(F,J,"","",function(_e){return le.call(me,_e,ie++)}),J}function G(F){if(F._status===-1){var le=F._result;le=le(),le.then(function(me){(F._status===0||F._status===-1)&&(F._status=1,F._result=me)},function(me){(F._status===0||F._status===-1)&&(F._status=2,F._result=me)}),F._status===-1&&(F._status=0,F._result=le)}if(F._status===1)return F._result.default;throw F._result}var se=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Re(){}return Oe.Children={map:de,forEach:function(F,le,me){de(F,function(){le.apply(this,arguments)},me)},count:function(F){var le=0;return de(F,function(){le++}),le},toArray:function(F){return de(F,function(le){return le})||[]},only:function(F){if(!C(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Oe.Component=N,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=j,Oe.StrictMode=i,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(F){return function(){return F.apply(null,arguments)}},Oe.cloneElement=function(F,le,me){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var J=R({},F.props),ie=F.key,_e=void 0;if(le!=null)for(Ee in le.ref!==void 0&&(_e=void 0),le.key!==void 0&&(ie=""+le.key),le)!$.call(le,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&le.ref===void 0||(J[Ee]=le[Ee]);var Ee=arguments.length-2;if(Ee===1)J.children=me;else if(1<Ee){for(var ze=Array(Ee),Pe=0;Pe<Ee;Pe++)ze[Pe]=arguments[Pe+2];J.children=ze}return O(F.type,ie,void 0,void 0,_e,J)},Oe.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Oe.createElement=function(F,le,me){var J,ie={},_e=null;if(le!=null)for(J in le.key!==void 0&&(_e=""+le.key),le)$.call(le,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ie[J]=le[J]);var Ee=arguments.length-2;if(Ee===1)ie.children=me;else if(1<Ee){for(var ze=Array(Ee),Pe=0;Pe<Ee;Pe++)ze[Pe]=arguments[Pe+2];ie.children=ze}if(F&&F.defaultProps)for(J in Ee=F.defaultProps,Ee)ie[J]===void 0&&(ie[J]=Ee[J]);return O(F,_e,void 0,void 0,null,ie)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(F){return{$$typeof:d,render:F}},Oe.isValidElement=C,Oe.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:G}},Oe.memo=function(F,le){return{$$typeof:g,type:F,compare:le===void 0?null:le}},Oe.startTransition=function(F){var le=K.T,me={};K.T=me;try{var J=F(),ie=K.S;ie!==null&&ie(me,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Re,se)}catch(_e){se(_e)}finally{K.T=le}},Oe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Oe.use=function(F){return K.H.use(F)},Oe.useActionState=function(F,le,me){return K.H.useActionState(F,le,me)},Oe.useCallback=function(F,le){return K.H.useCallback(F,le)},Oe.useContext=function(F){return K.H.useContext(F)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(F,le){return K.H.useDeferredValue(F,le)},Oe.useEffect=function(F,le){return K.H.useEffect(F,le)},Oe.useId=function(){return K.H.useId()},Oe.useImperativeHandle=function(F,le,me){return K.H.useImperativeHandle(F,le,me)},Oe.useInsertionEffect=function(F,le){return K.H.useInsertionEffect(F,le)},Oe.useLayoutEffect=function(F,le){return K.H.useLayoutEffect(F,le)},Oe.useMemo=function(F,le){return K.H.useMemo(F,le)},Oe.useOptimistic=function(F,le){return K.H.useOptimistic(F,le)},Oe.useReducer=function(F,le,me){return K.H.useReducer(F,le,me)},Oe.useRef=function(F){return K.H.useRef(F)},Oe.useState=function(F){return K.H.useState(F)},Oe.useSyncExternalStore=function(F,le,me){return K.H.useSyncExternalStore(F,le,me)},Oe.useTransition=function(){return K.H.useTransition()},Oe.version="19.0.0",Oe}var I3;function O2(){return I3||(I3=1,ip.exports=q9()),ip.exports}var I=O2();const Qe=nw(I);var sp={exports:{}},Oc={},rp={exports:{}},ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P3;function $9(){return P3||(P3=1,function(t){function e(de,G){var se=de.length;de.push(G);e:for(;0<se;){var Re=se-1>>>1,F=de[Re];if(0<a(F,G))de[Re]=G,de[se]=F,se=Re;else break e}}function n(de){return de.length===0?null:de[0]}function i(de){if(de.length===0)return null;var G=de[0],se=de.pop();if(se!==G){de[0]=se;e:for(var Re=0,F=de.length,le=F>>>1;Re<le;){var me=2*(Re+1)-1,J=de[me],ie=me+1,_e=de[ie];if(0>a(J,se))ie<F&&0>a(_e,J)?(de[Re]=_e,de[ie]=se,Re=ie):(de[Re]=J,de[me]=se,Re=me);else if(ie<F&&0>a(_e,se))de[Re]=_e,de[ie]=se,Re=ie;else break e}}return G}function a(de,G){var se=de.sortIndex-G.sortIndex;return se!==0?se:de.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],g=[],v=1,_=null,T=3,E=!1,R=!1,V=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function L(de){for(var G=n(g);G!==null;){if(G.callback===null)i(g);else if(G.startTime<=de)i(g),G.sortIndex=G.expirationTime,e(f,G);else break;G=n(g)}}function Y(de){if(V=!1,L(de),!R)if(n(f)!==null)R=!0,ue();else{var G=n(g);G!==null&&Xe(Y,G.startTime-de)}}var K=!1,$=-1,O=5,S=-1;function C(){return!(t.unstable_now()-S<O)}function k(){if(K){var de=t.unstable_now();S=de;var G=!0;try{e:{R=!1,V&&(V=!1,D($),$=-1),E=!0;var se=T;try{t:{for(L(de),_=n(f);_!==null&&!(_.expirationTime>de&&C());){var Re=_.callback;if(typeof Re=="function"){_.callback=null,T=_.priorityLevel;var F=Re(_.expirationTime<=de);if(de=t.unstable_now(),typeof F=="function"){_.callback=F,L(de),G=!0;break t}_===n(f)&&i(f),L(de)}else i(f);_=n(f)}if(_!==null)G=!0;else{var le=n(g);le!==null&&Xe(Y,le.startTime-de),G=!1}}break e}finally{_=null,T=se,E=!1}G=void 0}}finally{G?B():K=!1}}}var B;if(typeof j=="function")B=function(){j(k)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,M=z.port2;z.port1.onmessage=k,B=function(){M.postMessage(null)}}else B=function(){N(k,0)};function ue(){K||(K=!0,B())}function Xe(de,G){$=N(function(){de(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_continueExecution=function(){R||E||(R=!0,ue())},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(de){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var se=T;T=G;try{return de()}finally{T=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(de,G){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var se=T;T=de;try{return G()}finally{T=se}},t.unstable_scheduleCallback=function(de,G,se){var Re=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Re+se:Re):se=Re,de){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=se+F,de={id:v++,callback:G,priorityLevel:de,startTime:se,expirationTime:F,sortIndex:-1},se>Re?(de.sortIndex=se,e(g,de),n(f)===null&&de===n(g)&&(V?(D($),$=-1):V=!0,Xe(Y,se-Re))):(de.sortIndex=F,e(f,de),R||E||(R=!0,ue())),de},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(de){var G=T;return function(){var se=T;T=G;try{return de.apply(this,arguments)}finally{T=se}}}}(ap)),ap}var D3;function G9(){return D3||(D3=1,rp.exports=$9()),rp.exports}var op={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function K9(){if(k3)return hn;k3=1;var t=O2();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(f,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(f,g,null,v)},hn.flushSync=function(f){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=v,i.d.f()}},hn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},hn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},hn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var v=g.as,_=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:E}):v==="script"&&i.d.X(f,{crossOrigin:_,integrity:T,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},hn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=d(v,g.crossOrigin);i.d.L(f,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(f,g){if(typeof f=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},hn.requestFormReset=function(f){i.d.r(f)},hn.unstable_batchedUpdates=function(f,g){return f(g)},hn.useFormState=function(f,g,v){return c.H.useFormState(f,g,v)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.0.0",hn}var O3;function W9(){if(O3)return op.exports;O3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=K9(),op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3;function Y9(){if(j3)return Oc;j3=1;var t=G9(),e=O2(),n=W9();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function S(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case f:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case V:return"Suspense";case N:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case E:return(s.displayName||"Context")+".Provider";case T:return(s._context.displayName||"Context")+".Consumer";case R:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:S(s.type)||"Memo";case j:r=s._payload,s=s._init;try{return S(s(r))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,B,z;function M(s){if(B===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);B=r&&r[1]||"",z=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+s+z}var ue=!1;function Xe(s,r){if(!s||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var Z=te}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(te){Z=te}s.call(ce.prototype)}}else{try{throw Error()}catch(te){Z=te}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],A=y[1];if(w&&A){var U=w.split(`
`),q=A.split(`
`);for(m=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(u===U.length||m===q.length)for(u=U.length-1,m=q.length-1;1<=u&&0<=m&&U[u]!==q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(U[u]!==q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||U[u]!==q[m]){var ne=`
`+U[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=m);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?M(o):""}function de(s){switch(s.tag){case 26:case 27:case 5:return M(s.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return s=Xe(s.type,!1),s;case 11:return s=Xe(s.type.render,!1),s;case 1:return s=Xe(s.type,!0),s;default:return""}}function G(s){try{var r="";do r+=de(s),s=s.return;while(s);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function se(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function Re(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function F(s){if(se(s)!==s)throw Error(i(188))}function le(s){var r=s.alternate;if(!r){if(r=se(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return F(m),s;if(y===u)return F(m),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=y;else{for(var w=!1,A=m.child;A;){if(A===o){w=!0,o=m,u=y;break}if(A===u){w=!0,u=m,o=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===o){w=!0,o=y,u=m;break}if(A===u){w=!0,u=y,o=m;break}A=A.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function me(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=me(s),r!==null)return r;s=s.sibling}return null}var J=Array.isArray,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ee=[],ze=-1;function Pe(s){return{current:s}}function Ue(s){0>ze||(s.current=Ee[ze],Ee[ze]=null,ze--)}function Ze(s,r){ze++,Ee[ze]=s.current,s.current=r}var pe=Pe(null),fe=Pe(null),Ve=Pe(null),nt=Pe(null);function Et(s,r){switch(Ze(Ve,r),Ze(fe,s),Ze(pe,null),s=r.nodeType,s){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?n3(r):0;break;default:if(s=s===8?r.parentNode:r,r=s.tagName,s=s.namespaceURI)s=n3(s),r=i3(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ue(pe),Ze(pe,r)}function It(){Ue(pe),Ue(fe),Ue(Ve)}function Kr(s){s.memoizedState!==null&&Ze(nt,s);var r=pe.current,o=i3(r,s.type);r!==o&&(Ze(fe,s),Ze(pe,o))}function no(s){fe.current===s&&(Ue(pe),Ue(fe)),nt.current===s&&(Ue(nt),Rc._currentValue=_e)}var io=Object.prototype.hasOwnProperty,Wr=t.unstable_scheduleCallback,so=t.unstable_cancelCallback,s0=t.unstable_shouldYield,Nl=t.unstable_requestPaint,Nn=t.unstable_now,Zu=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,Kt=t.unstable_UserBlockingPriority,is=t.unstable_NormalPriority,Ju=t.unstable_LowPriority,Il=t.unstable_IdlePriority,r0=t.log,Yr=t.unstable_setDisableYieldValue,qs=null,un=null;function Pl(s){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(qs,s,void 0,(s.current.flags&128)===128)}catch{}}function Ii(s){if(typeof r0=="function"&&Yr(s),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(qs,s)}catch{}}var _n=Math.clz32?Math.clz32:td,Dl=Math.log,ed=Math.LN2;function td(s){return s>>>=0,s===0?32:31-(Dl(s)/ed|0)|0}var Pi=128,$s=4194304;function gi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Gn(s,r){var o=s.pendingLanes;if(o===0)return 0;var u=0,m=s.suspendedLanes,y=s.pingedLanes,w=s.warmLanes;s=s.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~m,o!==0?u=gi(o):(y&=A,y!==0?u=gi(y):s||(w=A&~w,w!==0&&(u=gi(w))))):(A=o&~m,A!==0?u=gi(A):y!==0?u=gi(y):s||(w=o&~w,w!==0&&(u=gi(w)))),u===0?0:r!==0&&r!==u&&(r&m)===0&&(m=u&-u,w=r&-r,m>=w||m===32&&(w&4194176)!==0)?r:u}function Gs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function ro(s,r){switch(s){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var s=Pi;return Pi<<=1,(Pi&4194176)===0&&(Pi=128),s}function Ks(){var s=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),s}function ao(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Ct(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function nd(s,r,o,u,m,y){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,U=s.expirationTimes,q=s.hiddenUpdates;for(o=w&~o;0<o;){var ne=31-_n(o),ce=1<<ne;A[ne]=0,U[ne]=-1;var Z=q[ne];if(Z!==null)for(q[ne]=null,ne=0;ne<Z.length;ne++){var te=Z[ne];te!==null&&(te.lane&=-536870913)}o&=~ce}u!==0&&Ws(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~r))}function Ws(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-_n(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&4194218}function Ys(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-_n(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function id(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sd(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:x3(s.type))}function Qs(s,r){var o=ie.p;try{return ie.p=s,r()}finally{ie.p=o}}var Di=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Di,Lt="__reactProps$"+Di,ss="__reactContainer$"+Di,Qr="__reactEvents$"+Di,oo="__reactListeners$"+Di,ki="__reactHandles$"+Di,Ol="__reactResources$"+Di,Xs="__reactMarker$"+Di;function Xr(s){delete s[Wt],delete s[Lt],delete s[Qr],delete s[oo],delete s[ki]}function yi(s){var r=s[Wt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[ss]||o[Wt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=a3(s);s!==null;){if(o=s[Wt])return o;s=a3(s)}return r}s=o,o=s.parentNode}return null}function rs(s){if(s=s[Wt]||s[ss]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Zs(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Js(s){var r=s[Ol];return r||(r=s[Ol]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(s){s[Xs]=!0}var jl=new Set,lo={};function Ln(s,r){In(s,r),In(s+"Capture",r)}function In(s,r){for(lo[s]=r,s=0;s<r.length;s++)jl.add(r[s])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Vl={};function rd(s){return io.call(Vl,s)?!0:io.call(Ml,s)?!1:a0.test(s)?Vl[s]=!0:(Ml[s]=!0,!1)}function er(s,r,o){if(rd(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function tr(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Kn(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function xn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ad(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function o0(s){var r=ad(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),u=""+s[r];if(!s.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(w){u=""+w,y.call(this,w)}}),Object.defineProperty(s,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Zr(s){s._valueTracker||(s._valueTracker=o0(s))}function Ll(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=ad(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function co(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var as=/[\n"\\]/g;function bt(s){return s.replace(as,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function nr(s,r,o,u,m,y,w,A){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+xn(r)):s.value!==""+xn(r)&&(s.value=""+xn(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?uo(s,w,xn(r)):o!=null?uo(s,w,xn(o)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+xn(A):s.removeAttribute("name")}function Jr(s,r,o,u,m,y,w,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;o=o!=null?""+xn(o):"",r=r!=null?""+xn(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function uo(s,r,o){r==="number"&&co(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Je(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+xn(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function ea(s,r,o){if(r!=null&&(r=""+xn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+xn(o):""}function ir(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(J(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=xn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u)}function Wn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var l0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||l0.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function od(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Ul(s,m,u)}else for(var y in r)r.hasOwnProperty(y)&&Ul(s,y,r[y])}function Bl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(s){return u0.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Yn=null;function ho(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var os=null,ls=null;function cs(s){var r=rs(s);if(r&&(s=r.stateNode)){var o=s[Lt]||null;e:switch(s=r.stateNode,r.type){case"input":if(nr(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[Lt]||null;if(!m)throw Error(i(90));nr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Ll(u)}break e;case"textarea":ea(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Je(s,!!o.multiple,r,!1)}}}var Fl=!1;function ld(s,r,o){if(Fl)return s(r,o);Fl=!0;try{var u=s(r);return u}finally{if(Fl=!1,(os!==null||ls!==null)&&(Jd(),os&&(r=os,s=ls,ls=os=null,cs(r),s)))for(r=0;r<s.length;r++)cs(s[r])}}function ta(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Lt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Qn=!1;if(Un)try{var na={};Object.defineProperty(na,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Qn=!1}var ji=null,sr=null,us=null;function zl(){if(us)return us;var s,r=sr,o=r.length,u,m="value"in ji?ji.value:ji.textContent,y=m.length;for(s=0;s<o&&r[s]===m[s];s++);var w=o-s;for(u=1;u<=w&&r[o-u]===m[y-u];u++);return us=m.slice(s,1<u?1-u:void 0)}function Mi(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Vi(){return!0}function Hl(){return!1}function Yt(s){function r(o,u,m,y,w){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Vi:Hl,this.isPropagationStopped=Hl,this}return k(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),r}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=Yt(it),ia=k({},it,{view:0,detail:0}),cd=Yt(ia),mo,po,Li,sa=k({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Li&&(Li&&s.type==="mousemove"?(mo=s.screenX-Li.screenX,po=s.screenY-Li.screenY):po=mo=0,Li=s),mo)},movementY:function(s){return"movementY"in s?s.movementY:po}}),Xn=Yt(sa),ud=k({},sa,{dataTransfer:0}),d0=Yt(ud),ra=k({},ia,{relatedTarget:0}),go=Yt(ra),ql=k({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=Yt(ql),dd=k({},it,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vo=Yt(dd),h0=k({},it,{data:0}),$l=Yt(h0),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=fd[s])?!!r[s]:!1}function oa(){return Gl}var md=k({},ia,{key:function(s){if(s.key){var r=aa[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Mi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(s){return s.type==="keypress"?Mi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),bo=Yt(md),pd=k({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=Yt(pd),ds=k({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),gd=Yt(ds),yd=k({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),vd=Yt(yd),bd=k({},sa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_o=Yt(bd),wn=k({},it,{newState:0,oldState:0}),_d=Yt(wn),xd=[9,13,27,32],Ui=Un&&"CompositionEvent"in window,h=null;Un&&"documentMode"in document&&(h=document.documentMode);var b=Un&&"TextEvent"in window&&!h,x=Un&&(!Ui||h&&8<h&&11>=h),P=" ",Q=!1;function ee(s,r){switch(s){case"keyup":return xd.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ge=!1;function Ut(s,r){switch(s){case"compositionend":return he(r);case"keypress":return r.which!==32?null:(Q=!0,P);case"textInput":return s=r.data,s===P&&Q?null:s;default:return null}}function Ke(s,r){if(Ge)return s==="compositionend"||!Ui&&ee(s,r)?(s=zl(),us=sr=ji=null,Ge=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return x&&r.locale!=="ko"?null:r.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Qt[s.type]:r==="textarea"}function hs(s,r,o,u){os?ls?ls.push(u):ls=[u]:os=u,r=sh(r,"onChange"),0<r.length&&(o=new fo("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var tn=null,Bi=null;function Wl(s){Xv(s,0)}function wd(s){var r=Zs(s);if(Ll(r))return s}function Sy(s,r){if(s==="change")return r}var Ay=!1;if(Un){var f0;if(Un){var m0="oninput"in document;if(!m0){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),m0=typeof Ry.oninput=="function"}f0=m0}else f0=!1;Ay=f0&&(!document.documentMode||9<document.documentMode)}function Ny(){tn&&(tn.detachEvent("onpropertychange",Iy),Bi=tn=null)}function Iy(s){if(s.propertyName==="value"&&wd(Bi)){var r=[];hs(r,Bi,s,ho(s)),ld(Wl,r)}}function vE(s,r,o){s==="focusin"?(Ny(),tn=r,Bi=o,tn.attachEvent("onpropertychange",Iy)):s==="focusout"&&Ny()}function bE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wd(Bi)}function _E(s,r){if(s==="click")return wd(r)}function xE(s,r){if(s==="input"||s==="change")return wd(r)}function wE(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Bn=typeof Object.is=="function"?Object.is:wE;function Yl(s,r){if(Bn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!io.call(r,m)||!Bn(s[m],r[m]))return!1}return!0}function Py(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Dy(s,r){var o=Py(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Py(o)}}function ky(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?ky(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Oy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=co(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=co(s.document)}return r}function p0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}function TE(s,r){var o=Oy(r);r=s.focusedElem;var u=s.selectionRange;if(o!==r&&r&&r.ownerDocument&&ky(r.ownerDocument.documentElement,r)){if(u!==null&&p0(r)){if(s=u.start,o=u.end,o===void 0&&(o=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(o,r.value.length);else if(o=(s=r.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var m=r.textContent.length,y=Math.min(u.start,m);u=u.end===void 0?y:Math.min(u.end,m),!o.extend&&y>u&&(m=u,u=y,y=m),m=Dy(r,y);var w=Dy(r,u);m&&w&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==w.node||o.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),o.removeAllRanges(),y>u?(o.addRange(s),o.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),o.addRange(s)))}}for(s=[],o=r;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)o=s[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var EE=Un&&"documentMode"in document&&11>=document.documentMode,xo=null,g0=null,Ql=null,y0=!1;function jy(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;y0||xo==null||xo!==co(u)||(u=xo,"selectionStart"in u&&p0(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ql&&Yl(Ql,u)||(Ql=u,u=sh(g0,"onSelect"),0<u.length&&(r=new fo("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=xo)))}function la(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var wo={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},v0={},My={};Un&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function ca(s){if(v0[s])return v0[s];if(!wo[s])return s;var r=wo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in My)return v0[s]=r[o];return s}var Vy=ca("animationend"),Ly=ca("animationiteration"),Uy=ca("animationstart"),CE=ca("transitionrun"),SE=ca("transitionstart"),AE=ca("transitioncancel"),By=ca("transitionend"),Fy=new Map,zy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vi(s,r){Fy.set(s,r),Ln(r,[s])}var Zn=[],To=0,b0=0;function Td(){for(var s=To,r=b0=To=0;r<s;){var o=Zn[r];Zn[r++]=null;var u=Zn[r];Zn[r++]=null;var m=Zn[r];Zn[r++]=null;var y=Zn[r];if(Zn[r++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}y!==0&&Hy(o,m,y)}}function Ed(s,r,o,u){Zn[To++]=s,Zn[To++]=r,Zn[To++]=o,Zn[To++]=u,b0|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function _0(s,r,o,u){return Ed(s,r,o,u),Cd(s)}function rr(s,r){return Ed(s,null,null,r),Cd(s)}function Hy(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&r!==null&&s.tag===3&&(y=s.stateNode,m=31-_n(o),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[r]:s.push(r),r.lane=o|536870912)}function Cd(s){if(50<xc)throw xc=0,Sm=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Eo={},qy=new WeakMap;function Jn(s,r){if(typeof s=="object"&&s!==null){var o=qy.get(s);return o!==void 0?o:(r={value:s,source:r,stack:G(r)},qy.set(s,r),r)}return{value:s,source:r,stack:G(r)}}var Co=[],So=0,Sd=null,Ad=0,ei=[],ti=0,ua=null,fs=1,ms="";function da(s,r){Co[So++]=Ad,Co[So++]=Sd,Sd=s,Ad=r}function $y(s,r,o){ei[ti++]=fs,ei[ti++]=ms,ei[ti++]=ua,ua=s;var u=fs;s=ms;var m=32-_n(u)-1;u&=~(1<<m),o+=1;var y=32-_n(r)+m;if(30<y){var w=m-m%5;y=(u&(1<<w)-1).toString(32),u>>=w,m-=w,fs=1<<32-_n(r)+m|o<<m|u,ms=y+s}else fs=1<<y|o<<m|u,ms=s}function x0(s){s.return!==null&&(da(s,1),$y(s,1,0))}function w0(s){for(;s===Sd;)Sd=Co[--So],Co[So]=null,Ad=Co[--So],Co[So]=null;for(;s===ua;)ua=ei[--ti],ei[ti]=null,ms=ei[--ti],ei[ti]=null,fs=ei[--ti],ei[ti]=null}var Tn=null,nn=null,et=!1,bi=null,Fi=!1,T0=Error(i(519));function ha(s){var r=Error(i(418,""));throw Jl(Jn(r,s)),T0}function Gy(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Wt]=s,r[Lt]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Tc.length;o++)He(Tc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Jr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Zr(r);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),ir(r,u.value,u.defaultValue,u.children),Zr(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||t3(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=rh),r=!0):r=!1,r||ha(s)}function Ky(s){for(Tn=s.return;Tn;)switch(Tn.tag){case 3:case 27:Fi=!0;return;case 5:case 13:Fi=!1;return;default:Tn=Tn.return}}function Xl(s){if(s!==Tn)return!1;if(!et)return Ky(s),et=!0,!1;var r=!1,o;if((o=s.tag!==3&&s.tag!==27)&&((o=s.tag===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Hm(s.type,s.memoizedProps)),o=!o),o&&(r=!0),r&&nn&&ha(s),Ky(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(r===0){nn=xi(s.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;s=s.nextSibling}nn=null}}else nn=Tn?xi(s.stateNode.nextSibling):null;return!0}function Zl(){nn=Tn=null,et=!1}function Jl(s){bi===null?bi=[s]:bi.push(s)}var ec=Error(i(460)),Wy=Error(i(474)),E0={then:function(){}};function Yy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Rd(){}function Qy(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Rd,Rd),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,s===ec?Error(i(483)):s;default:if(typeof r.status=="string")r.then(Rd,Rd);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,s===ec?Error(i(483)):s}throw tc=r,ec}}var tc=null;function Xy(){if(tc===null)throw Error(i(459));var s=tc;return tc=null,s}var Ao=null,nc=0;function Nd(s){var r=nc;return nc+=1,Ao===null&&(Ao=[]),Qy(Ao,s,r)}function ic(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Id(s,r){throw r.$$typeof===l?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Zy(s){var r=s._init;return r(s._payload)}function Jy(s){function r(W,H){if(s){var X=W.deletions;X===null?(W.deletions=[H],W.flags|=16):X.push(H)}}function o(W,H){if(!s)return null;for(;H!==null;)r(W,H),H=H.sibling;return null}function u(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function m(W,H){return W=yr(W,H),W.index=0,W.sibling=null,W}function y(W,H,X){return W.index=X,s?(X=W.alternate,X!==null?(X=X.index,X<H?(W.flags|=33554434,H):X):(W.flags|=33554434,H)):(W.flags|=1048576,H)}function w(W){return s&&W.alternate===null&&(W.flags|=33554434),W}function A(W,H,X,re){return H===null||H.tag!==6?(H=vm(X,W.mode,re),H.return=W,H):(H=m(H,X),H.return=W,H)}function U(W,H,X,re){var be=X.type;return be===f?ne(W,H,X.props.children,re,X.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===j&&Zy(be)===H.type)?(H=m(H,X.props),ic(H,X),H.return=W,H):(H=Wd(X.type,X.key,X.props,null,W.mode,re),ic(H,X),H.return=W,H)}function q(W,H,X,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=bm(X,W.mode,re),H.return=W,H):(H=m(H,X.children||[]),H.return=W,H)}function ne(W,H,X,re,be){return H===null||H.tag!==7?(H=wa(X,W.mode,re,be),H.return=W,H):(H=m(H,X),H.return=W,H)}function ce(W,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=vm(""+H,W.mode,X),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return X=Wd(H.type,H.key,H.props,null,W.mode,X),ic(X,H),X.return=W,X;case d:return H=bm(H,W.mode,X),H.return=W,H;case j:var re=H._init;return H=re(H._payload),ce(W,H,X)}if(J(H)||$(H))return H=wa(H,W.mode,X,null),H.return=W,H;if(typeof H.then=="function")return ce(W,Nd(H),X);if(H.$$typeof===E)return ce(W,$d(W,H),X);Id(W,H)}return null}function Z(W,H,X,re){var be=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return be!==null?null:A(W,H,""+X,re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return X.key===be?U(W,H,X,re):null;case d:return X.key===be?q(W,H,X,re):null;case j:return be=X._init,X=be(X._payload),Z(W,H,X,re)}if(J(X)||$(X))return be!==null?null:ne(W,H,X,re,null);if(typeof X.then=="function")return Z(W,H,Nd(X),re);if(X.$$typeof===E)return Z(W,H,$d(W,X),re);Id(W,X)}return null}function te(W,H,X,re,be){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return W=W.get(X)||null,A(H,W,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case c:return W=W.get(re.key===null?X:re.key)||null,U(H,W,re,be);case d:return W=W.get(re.key===null?X:re.key)||null,q(H,W,re,be);case j:var Me=re._init;return re=Me(re._payload),te(W,H,X,re,be)}if(J(re)||$(re))return W=W.get(X)||null,ne(H,W,re,be,null);if(typeof re.then=="function")return te(W,H,X,Nd(re),be);if(re.$$typeof===E)return te(W,H,X,$d(H,re),be);Id(H,re)}return null}function xe(W,H,X,re){for(var be=null,Me=null,we=H,Ce=H=0,Jt=null;we!==null&&Ce<X.length;Ce++){we.index>Ce?(Jt=we,we=null):Jt=we.sibling;var tt=Z(W,we,X[Ce],re);if(tt===null){we===null&&(we=Jt);break}s&&we&&tt.alternate===null&&r(W,we),H=y(tt,H,Ce),Me===null?be=tt:Me.sibling=tt,Me=tt,we=Jt}if(Ce===X.length)return o(W,we),et&&da(W,Ce),be;if(we===null){for(;Ce<X.length;Ce++)we=ce(W,X[Ce],re),we!==null&&(H=y(we,H,Ce),Me===null?be=we:Me.sibling=we,Me=we);return et&&da(W,Ce),be}for(we=u(we);Ce<X.length;Ce++)Jt=te(we,W,Ce,X[Ce],re),Jt!==null&&(s&&Jt.alternate!==null&&we.delete(Jt.key===null?Ce:Jt.key),H=y(Jt,H,Ce),Me===null?be=Jt:Me.sibling=Jt,Me=Jt);return s&&we.forEach(function(Er){return r(W,Er)}),et&&da(W,Ce),be}function De(W,H,X,re){if(X==null)throw Error(i(151));for(var be=null,Me=null,we=H,Ce=H=0,Jt=null,tt=X.next();we!==null&&!tt.done;Ce++,tt=X.next()){we.index>Ce?(Jt=we,we=null):Jt=we.sibling;var Er=Z(W,we,tt.value,re);if(Er===null){we===null&&(we=Jt);break}s&&we&&Er.alternate===null&&r(W,we),H=y(Er,H,Ce),Me===null?be=Er:Me.sibling=Er,Me=Er,we=Jt}if(tt.done)return o(W,we),et&&da(W,Ce),be;if(we===null){for(;!tt.done;Ce++,tt=X.next())tt=ce(W,tt.value,re),tt!==null&&(H=y(tt,H,Ce),Me===null?be=tt:Me.sibling=tt,Me=tt);return et&&da(W,Ce),be}for(we=u(we);!tt.done;Ce++,tt=X.next())tt=te(we,W,Ce,tt.value,re),tt!==null&&(s&&tt.alternate!==null&&we.delete(tt.key===null?Ce:tt.key),H=y(tt,H,Ce),Me===null?be=tt:Me.sibling=tt,Me=tt);return s&&we.forEach(function(F9){return r(W,F9)}),et&&da(W,Ce),be}function wt(W,H,X,re){if(typeof X=="object"&&X!==null&&X.type===f&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case c:e:{for(var be=X.key;H!==null;){if(H.key===be){if(be=X.type,be===f){if(H.tag===7){o(W,H.sibling),re=m(H,X.props.children),re.return=W,W=re;break e}}else if(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===j&&Zy(be)===H.type){o(W,H.sibling),re=m(H,X.props),ic(re,X),re.return=W,W=re;break e}o(W,H);break}else r(W,H);H=H.sibling}X.type===f?(re=wa(X.props.children,W.mode,re,X.key),re.return=W,W=re):(re=Wd(X.type,X.key,X.props,null,W.mode,re),ic(re,X),re.return=W,W=re)}return w(W);case d:e:{for(be=X.key;H!==null;){if(H.key===be)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o(W,H.sibling),re=m(H,X.children||[]),re.return=W,W=re;break e}else{o(W,H);break}else r(W,H);H=H.sibling}re=bm(X,W.mode,re),re.return=W,W=re}return w(W);case j:return be=X._init,X=be(X._payload),wt(W,H,X,re)}if(J(X))return xe(W,H,X,re);if($(X)){if(be=$(X),typeof be!="function")throw Error(i(150));return X=be.call(X),De(W,H,X,re)}if(typeof X.then=="function")return wt(W,H,Nd(X),re);if(X.$$typeof===E)return wt(W,H,$d(W,X),re);Id(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o(W,H.sibling),re=m(H,X),re.return=W,W=re):(o(W,H),re=vm(X,W.mode,re),re.return=W,W=re),w(W)):o(W,H)}return function(W,H,X,re){try{nc=0;var be=wt(W,H,X,re);return Ao=null,be}catch(we){if(we===ec)throw we;var Me=ri(29,we,null,W.mode);return Me.lanes=re,Me.return=W,Me}finally{}}}var fa=Jy(!0),e1=Jy(!1),Ro=Pe(null),Pd=Pe(0);function t1(s,r){s=Cs,Ze(Pd,s),Ze(Ro,r),Cs=s|r.baseLanes}function C0(){Ze(Pd,Cs),Ze(Ro,Ro.current)}function S0(){Cs=Pd.current,Ue(Ro),Ue(Pd)}var ni=Pe(null),zi=null;function ar(s){var r=s.alternate;Ze(Ft,Ft.current&1),Ze(ni,s),zi===null&&(r===null||Ro.current!==null||r.memoizedState!==null)&&(zi=s)}function n1(s){if(s.tag===22){if(Ze(Ft,Ft.current),Ze(ni,s),zi===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(zi=s)}}else or()}function or(){Ze(Ft,Ft.current),Ze(ni,ni.current)}function ps(s){Ue(ni),zi===s&&(zi=null),Ue(Ft)}var Ft=Pe(0);function Dd(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var RE=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},NE=t.unstable_scheduleCallback,IE=t.unstable_NormalPriority,zt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function A0(){return{controller:new RE,data:new Map,refCount:0}}function sc(s){s.refCount--,s.refCount===0&&NE(IE,function(){s.controller.abort()})}var rc=null,R0=0,No=0,Io=null;function PE(s,r){if(rc===null){var o=rc=[];R0=0,No=Om(),Io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return R0++,r.then(i1,i1),r}function i1(){if(--R0===0&&rc!==null){Io!==null&&(Io.status="fulfilled");var s=rc;rc=null,No=0,Io=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function DE(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var s1=C.S;C.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&PE(s,r),s1!==null&&s1(s,r)};var ma=Pe(null);function N0(){var s=ma.current;return s!==null?s:ct.pooledCache}function kd(s,r){r===null?Ze(ma,ma.current):Ze(ma,r.pool)}function r1(){var s=N0();return s===null?null:{parent:zt._currentValue,pool:s}}var lr=0,je=null,rt=null,Pt=null,Od=!1,Po=!1,pa=!1,jd=0,ac=0,Do=null,kE=0;function St(){throw Error(i(321))}function I0(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Bn(s[o],r[o]))return!1;return!0}function P0(s,r,o,u,m,y){return lr=y,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,C.H=s===null||s.memoizedState===null?ga:cr,pa=!1,y=o(u,m),pa=!1,Po&&(y=o1(r,o,u,m)),a1(s),y}function a1(s){C.H=Hi;var r=rt!==null&&rt.next!==null;if(lr=0,Pt=rt=je=null,Od=!1,ac=0,Do=null,r)throw Error(i(300));s===null||Xt||(s=s.dependencies,s!==null&&qd(s)&&(Xt=!0))}function o1(s,r,o,u){je=s;var m=0;do{if(Po&&(Do=null),ac=0,Po=!1,25<=m)throw Error(i(301));if(m+=1,Pt=rt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}C.H=ya,y=r(o,u)}while(Po);return y}function OE(){var s=C.H,r=s.useState()[0];return r=typeof r.then=="function"?oc(r):r,s=s.useState()[0],(rt!==null?rt.memoizedState:null)!==s&&(je.flags|=1024),r}function D0(){var s=jd!==0;return jd=0,s}function k0(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function O0(s){if(Od){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Od=!1}lr=0,Pt=rt=je=null,Po=!1,ac=jd=0,Do=null}function Pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?je.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function Dt(){if(rt===null){var s=je.alternate;s=s!==null?s.memoizedState:null}else s=rt.next;var r=Pt===null?je.memoizedState:Pt.next;if(r!==null)Pt=r,rt=s;else{if(s===null)throw je.alternate===null?Error(i(467)):Error(i(310));rt=s,s={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Pt===null?je.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}var Md;Md=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function oc(s){var r=ac;return ac+=1,Do===null&&(Do=[]),s=Qy(Do,s,r),r=je,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,C.H=r===null||r.memoizedState===null?ga:cr),s}function Vd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return oc(s);if(s.$$typeof===E)return dn(s)}throw Error(i(438,String(s)))}function j0(s){var r=null,o=je.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Md(),je.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=Y;return r.index++,o}function gs(s,r){return typeof r=="function"?r(s):r}function Ld(s){var r=Dt();return M0(r,rt,s)}function M0(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}r.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var A=w=null,U=null,q=r,ne=!1;do{var ce=q.lane&-536870913;if(ce!==q.lane?(We&ce)===ce:(lr&ce)===ce){var Z=q.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ce===No&&(ne=!0);else if((lr&Z)===Z){q=q.next,Z===No&&(ne=!0);continue}else ce={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},U===null?(A=U=ce,w=y):U=U.next=ce,je.lanes|=Z,vr|=Z;ce=q.action,pa&&o(y,ce),y=q.hasEagerState?q.eagerState:o(y,ce)}else Z={lane:ce,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},U===null?(A=U=Z,w=y):U=U.next=Z,je.lanes|=ce,vr|=ce;q=q.next}while(q!==null&&q!==r);if(U===null?w=y:U.next=A,!Bn(y,s.memoizedState)&&(Xt=!0,ne&&(o=Io,o!==null)))throw o;s.memoizedState=y,s.baseState=w,s.baseQueue=U,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function V0(s){var r=Dt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do y=s(y,w.action),w=w.next;while(w!==m);Bn(y,r.memoizedState)||(Xt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function l1(s,r,o){var u=je,m=Dt(),y=et;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!Bn((rt||m).memoizedState,o);if(w&&(m.memoizedState=o,Xt=!0),m=m.queue,B0(d1.bind(null,u,m,s),[s]),m.getSnapshot!==r||w||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,ko(9,u1.bind(null,u,m,o,r),{destroy:void 0},null),ct===null)throw Error(i(349));y||(lr&60)!==0||c1(u,r,o)}return o}function c1(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=je.updateQueue,r===null?(r=Md(),je.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function u1(s,r,o,u){r.value=o,r.getSnapshot=u,h1(r)&&f1(s)}function d1(s,r,o){return o(function(){h1(r)&&f1(s)})}function h1(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Bn(s,o)}catch{return!0}}function f1(s){var r=rr(s,2);r!==null&&En(r,s,2)}function L0(s){var r=Pn();if(typeof s=="function"){var o=s;if(s=o(),pa){Ii(!0);try{o()}finally{Ii(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},r}function m1(s,r,o,u){return s.baseState=o,M0(s,rt,typeof u=="function"?u:gs)}function jE(s,r,o,u,m){if(Fd(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};C.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,p1(r,y)):(y.next=o.next,r.pending=o.next=y)}}function p1(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var y=C.T,w={};C.T=w;try{var A=o(m,u),U=C.S;U!==null&&U(w,A),g1(s,r,A)}catch(q){U0(s,r,q)}finally{C.T=y}}else try{y=o(m,u),g1(s,r,y)}catch(q){U0(s,r,q)}}function g1(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){y1(s,r,u)},function(u){return U0(s,r,u)}):y1(s,r,o)}function y1(s,r,o){r.status="fulfilled",r.value=o,v1(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,p1(s,o)))}function U0(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,v1(r),r=r.next;while(r!==u)}s.action=null}function v1(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function b1(s,r){return r}function _1(s,r){if(et){var o=ct.formState;if(o!==null){e:{var u=je;if(et){if(nn){t:{for(var m=nn,y=Fi;m.nodeType!==8;){if(!y){m=null;break t}if(m=xi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){nn=xi(m.nextSibling),u=m.data==="F!";break e}}ha(u)}u=!1}u&&(r=o[0])}}return o=Pn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b1,lastRenderedState:r},o.queue=u,o=L1.bind(null,je,u),u.dispatch=o,u=L0(!1),y=$0.bind(null,je,!1,u.queue),u=Pn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=jE.bind(null,je,m,y,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function x1(s){var r=Dt();return w1(r,rt,s)}function w1(s,r,o){r=M0(s,r,b1)[0],s=Ld(gs)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?oc(r):r;var u=Dt(),m=u.queue,y=m.dispatch;return o!==u.memoizedState&&(je.flags|=2048,ko(9,ME.bind(null,m,o),{destroy:void 0},null)),[r,y,s]}function ME(s,r){s.action=r}function T1(s){var r=Dt(),o=rt;if(o!==null)return w1(r,o,s);Dt(),r=r.memoizedState,o=Dt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function ko(s,r,o,u){return s={tag:s,create:r,inst:o,deps:u,next:null},r=je.updateQueue,r===null&&(r=Md(),je.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function E1(){return Dt().memoizedState}function Ud(s,r,o,u){var m=Pn();je.flags|=s,m.memoizedState=ko(1|r,o,{destroy:void 0},u===void 0?null:u)}function Bd(s,r,o,u){var m=Dt();u=u===void 0?null:u;var y=m.memoizedState.inst;rt!==null&&u!==null&&I0(u,rt.memoizedState.deps)?m.memoizedState=ko(r,o,y,u):(je.flags|=s,m.memoizedState=ko(1|r,o,y,u))}function C1(s,r){Ud(8390656,8,s,r)}function B0(s,r){Bd(2048,8,s,r)}function S1(s,r){return Bd(4,2,s,r)}function A1(s,r){return Bd(4,4,s,r)}function R1(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function N1(s,r,o){o=o!=null?o.concat([s]):null,Bd(4,4,R1.bind(null,r,s),o)}function F0(){}function I1(s,r){var o=Dt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&I0(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function P1(s,r){var o=Dt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&I0(r,u[1]))return u[0];if(u=s(),pa){Ii(!0);try{s()}finally{Ii(!1)}}return o.memoizedState=[u,r],u}function z0(s,r,o){return o===void 0||(lr&1073741824)!==0?s.memoizedState=r:(s.memoizedState=o,s=kv(),je.lanes|=s,vr|=s,o)}function D1(s,r,o,u){return Bn(o,r)?o:Ro.current!==null?(s=z0(s,o,u),Bn(s,r)||(Xt=!0),s):(lr&42)===0?(Xt=!0,s.memoizedState=o):(s=kv(),je.lanes|=s,vr|=s,r)}function k1(s,r,o,u,m){var y=ie.p;ie.p=y!==0&&8>y?y:8;var w=C.T,A={};C.T=A,$0(s,!1,r,o);try{var U=m(),q=C.S;if(q!==null&&q(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=DE(U,u);lc(s,r,ne,qn(s))}else lc(s,r,u,qn(s))}catch(ce){lc(s,r,{then:function(){},status:"rejected",reason:ce},qn())}finally{ie.p=y,C.T=w}}function VE(){}function H0(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=O1(s).queue;k1(s,m,r,_e,o===null?VE:function(){return j1(s),o(u)})}function O1(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:_e},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function j1(s){var r=O1(s).next.queue;lc(s,r,{},qn())}function q0(){return dn(Rc)}function M1(){return Dt().memoizedState}function V1(){return Dt().memoizedState}function LE(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=qn();s=hr(o);var u=fr(r,s,o);u!==null&&(En(u,r,o),dc(u,r,o)),r={cache:A0()},s.payload=r;return}r=r.return}}function UE(s,r,o){var u=qn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Fd(s)?U1(r,o):(o=_0(s,r,o,u),o!==null&&(En(o,s,u),B1(o,r,u)))}function L1(s,r,o){var u=qn();lc(s,r,o,u)}function lc(s,r,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fd(s))U1(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,A=y(w,o);if(m.hasEagerState=!0,m.eagerState=A,Bn(A,w))return Ed(s,r,m,0),ct===null&&Td(),!1}catch{}finally{}if(o=_0(s,r,m,u),o!==null)return En(o,s,u),B1(o,r,u),!0}return!1}function $0(s,r,o,u){if(u={lane:2,revertLane:Om(),action:u,hasEagerState:!1,eagerState:null,next:null},Fd(s)){if(r)throw Error(i(479))}else r=_0(s,o,u,2),r!==null&&En(r,s,2)}function Fd(s){var r=s.alternate;return s===je||r!==null&&r===je}function U1(s,r){Po=Od=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function B1(s,r,o){if((o&4194176)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ys(s,o)}}var Hi={readContext:dn,use:Vd,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St};Hi.useCacheRefresh=St,Hi.useMemoCache=St,Hi.useHostTransitionStatus=St,Hi.useFormState=St,Hi.useActionState=St,Hi.useOptimistic=St;var ga={readContext:dn,use:Vd,useCallback:function(s,r){return Pn().memoizedState=[s,r===void 0?null:r],s},useContext:dn,useEffect:C1,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Ud(4194308,4,R1.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Ud(4194308,4,s,r)},useInsertionEffect:function(s,r){Ud(4,2,s,r)},useMemo:function(s,r){var o=Pn();r=r===void 0?null:r;var u=s();if(pa){Ii(!0);try{s()}finally{Ii(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=Pn();if(o!==void 0){var m=o(r);if(pa){Ii(!0);try{o(r)}finally{Ii(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=UE.bind(null,je,s),[u.memoizedState,s]},useRef:function(s){var r=Pn();return s={current:s},r.memoizedState=s},useState:function(s){s=L0(s);var r=s.queue,o=L1.bind(null,je,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:F0,useDeferredValue:function(s,r){var o=Pn();return z0(o,s,r)},useTransition:function(){var s=L0(!1);return s=k1.bind(null,je,s.queue,!0,!1),Pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=je,m=Pn();if(et){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ct===null)throw Error(i(349));(We&60)!==0||c1(u,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,C1(d1.bind(null,u,y,s),[s]),u.flags|=2048,ko(9,u1.bind(null,u,y,o,r),{destroy:void 0},null),o},useId:function(){var s=Pn(),r=ct.identifierPrefix;if(et){var o=ms,u=fs;o=(u&~(1<<32-_n(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=jd++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=kE++,r=":"+r+"r"+o.toString(32)+":";return s.memoizedState=r},useCacheRefresh:function(){return Pn().memoizedState=LE.bind(null,je)}};ga.useMemoCache=j0,ga.useHostTransitionStatus=q0,ga.useFormState=_1,ga.useActionState=_1,ga.useOptimistic=function(s){var r=Pn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=$0.bind(null,je,!0,o),o.dispatch=r,[s,r]};var cr={readContext:dn,use:Vd,useCallback:I1,useContext:dn,useEffect:B0,useImperativeHandle:N1,useInsertionEffect:S1,useLayoutEffect:A1,useMemo:P1,useReducer:Ld,useRef:E1,useState:function(){return Ld(gs)},useDebugValue:F0,useDeferredValue:function(s,r){var o=Dt();return D1(o,rt.memoizedState,s,r)},useTransition:function(){var s=Ld(gs)[0],r=Dt().memoizedState;return[typeof s=="boolean"?s:oc(s),r]},useSyncExternalStore:l1,useId:M1};cr.useCacheRefresh=V1,cr.useMemoCache=j0,cr.useHostTransitionStatus=q0,cr.useFormState=x1,cr.useActionState=x1,cr.useOptimistic=function(s,r){var o=Dt();return m1(o,rt,s,r)};var ya={readContext:dn,use:Vd,useCallback:I1,useContext:dn,useEffect:B0,useImperativeHandle:N1,useInsertionEffect:S1,useLayoutEffect:A1,useMemo:P1,useReducer:V0,useRef:E1,useState:function(){return V0(gs)},useDebugValue:F0,useDeferredValue:function(s,r){var o=Dt();return rt===null?z0(o,s,r):D1(o,rt.memoizedState,s,r)},useTransition:function(){var s=V0(gs)[0],r=Dt().memoizedState;return[typeof s=="boolean"?s:oc(s),r]},useSyncExternalStore:l1,useId:M1};ya.useCacheRefresh=V1,ya.useMemoCache=j0,ya.useHostTransitionStatus=q0,ya.useFormState=T1,ya.useActionState=T1,ya.useOptimistic=function(s,r){var o=Dt();return rt!==null?m1(o,rt,s,r):(o.baseState=s,[s,o.queue.dispatch])};function G0(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:k({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var K0={isMounted:function(s){return(s=s._reactInternals)?se(s)===s:!1},enqueueSetState:function(s,r,o){s=s._reactInternals;var u=qn(),m=hr(u);m.payload=r,o!=null&&(m.callback=o),r=fr(s,m,u),r!==null&&(En(r,s,u),dc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=qn(),m=hr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=fr(s,m,u),r!==null&&(En(r,s,u),dc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=qn(),u=hr(o);u.tag=2,r!=null&&(u.callback=r),r=fr(s,u,o),r!==null&&(En(r,s,o),dc(r,s,o))}};function F1(s,r,o,u,m,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!Yl(o,u)||!Yl(m,y):!0}function z1(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&K0.enqueueReplaceState(r,r.state,null)}function va(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=k({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}var zd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function H1(s){zd(s)}function q1(s){console.error(s)}function $1(s){zd(s)}function Hd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function G1(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function W0(s,r,o){return o=hr(o),o.tag=3,o.payload={element:null},o.callback=function(){Hd(s,r)},o}function K1(s){return s=hr(s),s.tag=3,s}function W1(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){G1(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){G1(r,o,u),typeof m!="function"&&(br===null?br=new Set([this]):br.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function BE(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&uc(r,o,m,!0),o=ni.current,o!==null){switch(o.tag){case 13:return zi===null?Nm():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===E0?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Pm(s,u,m)),!1;case 22:return o.flags|=65536,u===E0?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Pm(s,u,m)),!1}throw Error(i(435,o.tag))}return Pm(s,u,m),Nm(),!1}if(et)return r=ni.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==T0&&(s=Error(i(422),{cause:u}),Jl(Jn(s,o)))):(u!==T0&&(r=Error(i(423),{cause:u}),Jl(Jn(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Jn(u,o),m=W0(s.stateNode,u,m),cm(s,m),xt!==4&&(xt=2)),!1;var y=Error(i(520),{cause:u});if(y=Jn(y,o),bc===null?bc=[y]:bc.push(y),xt!==4&&(xt=2),r===null)return!0;u=Jn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=W0(o.stateNode,u,s),cm(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(br===null||!br.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=K1(m),W1(m,s,o,u),cm(o,m),!1}o=o.return}while(o!==null);return!1}var Y1=Error(i(461)),Xt=!1;function sn(s,r,o,u){r.child=s===null?e1(r,null,o,u):fa(r,s.child,o,u)}function Q1(s,r,o,u,m){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return _a(r),u=P0(s,r,o,w,y,m),A=D0(),s!==null&&!Xt?(k0(s,r,m),ys(s,r,m)):(et&&A&&x0(r),r.flags|=1,sn(s,r,u,m),r.child)}function X1(s,r,o,u,m){if(s===null){var y=o.type;return typeof y=="function"&&!ym(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Z1(s,r,y,u,m)):(s=Wd(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!im(s,m)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(w,u)&&s.ref===r.ref)return ys(s,r,m)}return r.flags|=1,s=yr(y,u),s.ref=r.ref,s.return=r,r.child=s}function Z1(s,r,o,u,m){if(s!==null){var y=s.memoizedProps;if(Yl(y,u)&&s.ref===r.ref)if(Xt=!1,r.pendingProps=u=y,im(s,m))(s.flags&131072)!==0&&(Xt=!0);else return r.lanes=s.lanes,ys(s,r,m)}return Y0(s,r,o,u,m)}function J1(s,r,o){var u=r.pendingProps,m=u.children,y=(r.stateNode._pendingVisibility&2)!==0,w=s!==null?s.memoizedState:null;if(cc(s,r),u.mode==="hidden"||y){if((r.flags&128)!==0){if(u=w!==null?w.baseLanes|o:o,s!==null){for(m=r.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;r.childLanes=y&~u}else r.childLanes=0,r.child=null;return ev(s,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&kd(r,w!==null?w.cachePool:null),w!==null?t1(r,w):C0(),n1(r);else return r.lanes=r.childLanes=536870912,ev(s,r,w!==null?w.baseLanes|o:o,o)}else w!==null?(kd(r,w.cachePool),t1(r,w),or(),r.memoizedState=null):(s!==null&&kd(r,null),C0(),or());return sn(s,r,m,o),r.child}function ev(s,r,o,u){var m=N0();return m=m===null?null:{parent:zt._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},s!==null&&kd(r,null),C0(),n1(r),s!==null&&uc(s,r,u,!0),null}function cc(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=2097664)}}function Y0(s,r,o,u,m){return _a(r),o=P0(s,r,o,u,void 0,m),u=D0(),s!==null&&!Xt?(k0(s,r,m),ys(s,r,m)):(et&&u&&x0(r),r.flags|=1,sn(s,r,o,m),r.child)}function tv(s,r,o,u,m,y){return _a(r),r.updateQueue=null,o=o1(r,u,o,m),a1(s),u=D0(),s!==null&&!Xt?(k0(s,r,y),ys(s,r,y)):(et&&u&&x0(r),r.flags|=1,sn(s,r,o,y),r.child)}function nv(s,r,o,u,m){if(_a(r),r.stateNode===null){var y=Eo,w=o.contextType;typeof w=="object"&&w!==null&&(y=dn(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=K0,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},om(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?dn(w):Eo,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(G0(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&K0.enqueueReplaceState(y,y.state,null),fc(r,u,y,m),hc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,U=va(o,A);y.props=U;var q=y.context,ne=o.contextType;w=Eo,typeof ne=="object"&&ne!==null&&(w=dn(ne));var ce=o.getDerivedStateFromProps;ne=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||q!==w)&&z1(r,y,u,w),dr=!1;var Z=r.memoizedState;y.state=Z,fc(r,u,y,m),hc(),q=r.memoizedState,A||Z!==q||dr?(typeof ce=="function"&&(G0(r,o,ce,u),q=r.memoizedState),(U=dr||F1(r,o,U,u,Z,q,w))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),y.props=u,y.state=q,y.context=w,u=U):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,lm(s,r),w=r.memoizedProps,ne=va(o,w),y.props=ne,ce=r.pendingProps,Z=y.context,q=o.contextType,U=Eo,typeof q=="object"&&q!==null&&(U=dn(q)),A=o.getDerivedStateFromProps,(q=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ce||Z!==U)&&z1(r,y,u,U),dr=!1,Z=r.memoizedState,y.state=Z,fc(r,u,y,m),hc();var te=r.memoizedState;w!==ce||Z!==te||dr||s!==null&&s.dependencies!==null&&qd(s.dependencies)?(typeof A=="function"&&(G0(r,o,A,u),te=r.memoizedState),(ne=dr||F1(r,o,ne,u,Z,te,U)||s!==null&&s.dependencies!==null&&qd(s.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,te,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,te,U)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),y.props=u,y.state=te,y.context=U,u=ne):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,cc(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=fa(r,s.child,null,m),r.child=fa(r,null,o,m)):sn(s,r,o,m),r.memoizedState=y.state,s=r.child):s=ys(s,r,m),s}function iv(s,r,o,u){return Zl(),r.flags|=256,sn(s,r,o,u),r.child}var Q0={dehydrated:null,treeContext:null,retryLane:0};function X0(s){return{baseLanes:s,cachePool:r1()}}function Z0(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=ai),s}function sv(s,r,o){var u=r.pendingProps,m=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(Ft.current&2)!==0),w&&(m=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(et){if(m?ar(r):or(),et){var A=nn,U;if(U=A){e:{for(U=A,A=Fi;U.nodeType!==8;){if(!A){A=null;break e}if(U=xi(U.nextSibling),U===null){A=null;break e}}A=U}A!==null?(r.memoizedState={dehydrated:A,treeContext:ua!==null?{id:fs,overflow:ms}:null,retryLane:536870912},U=ri(18,null,null,0),U.stateNode=A,U.return=r,r.child=U,Tn=r,nn=null,U=!0):U=!1}U||ha(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?r.lanes=16:r.lanes=536870912,null;ps(r)}return A=u.children,u=u.fallback,m?(or(),m=r.mode,A=em({mode:"hidden",children:A},m),u=wa(u,m,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,m=r.child,m.memoizedState=X0(o),m.childLanes=Z0(s,w,o),r.memoizedState=Q0,u):(ar(r),J0(r,A))}if(U=s.memoizedState,U!==null&&(A=U.dehydrated,A!==null)){if(y)r.flags&256?(ar(r),r.flags&=-257,r=tm(s,r,o)):r.memoizedState!==null?(or(),r.child=s.child,r.flags|=128,r=null):(or(),m=u.fallback,A=r.mode,u=em({mode:"visible",children:u.children},A),m=wa(m,A,o,null),m.flags|=2,u.return=r,m.return=r,u.sibling=m,r.child=u,fa(r,s.child,null,o),u=r.child,u.memoizedState=X0(o),u.childLanes=Z0(s,w,o),r.memoizedState=Q0,r=m);else if(ar(r),A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var q=w.dgst;w=q,u=Error(i(419)),u.stack="",u.digest=w,Jl({value:u,source:null,stack:null}),r=tm(s,r,o)}else if(Xt||uc(s,r,o,!1),w=(o&s.childLanes)!==0,Xt||w){if(w=ct,w!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==U.retryLane)throw U.retryLane=u,rr(s,u),En(w,s,u),Y1}A.data==="$?"||Nm(),r=tm(s,r,o)}else A.data==="$?"?(r.flags|=128,r.child=s.child,r=t9.bind(null,s),A._reactRetry=r,r=null):(s=U.treeContext,nn=xi(A.nextSibling),Tn=r,et=!0,bi=null,Fi=!1,s!==null&&(ei[ti++]=fs,ei[ti++]=ms,ei[ti++]=ua,fs=s.id,ms=s.overflow,ua=r),r=J0(r,u.children),r.flags|=4096);return r}return m?(or(),m=u.fallback,A=r.mode,U=s.child,q=U.sibling,u=yr(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&31457280,q!==null?m=yr(q,m):(m=wa(m,A,o,null),m.flags|=2),m.return=r,u.return=r,u.sibling=m,r.child=u,u=m,m=r.child,A=s.child.memoizedState,A===null?A=X0(o):(U=A.cachePool,U!==null?(q=zt._currentValue,U=U.parent!==q?{parent:q,pool:q}:U):U=r1(),A={baseLanes:A.baseLanes|o,cachePool:U}),m.memoizedState=A,m.childLanes=Z0(s,w,o),r.memoizedState=Q0,u):(ar(r),o=s.child,s=o.sibling,o=yr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function J0(s,r){return r=em({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function em(s,r){return Iv(s,r,0,null)}function tm(s,r,o){return fa(r,s.child,null,o),s=J0(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function rv(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),rm(s.return,r,o)}function nm(s,r,o,u,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=m)}function av(s,r,o){var u=r.pendingProps,m=u.revealOrder,y=u.tail;if(sn(s,r,u.children,o),u=Ft.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rv(s,o,r);else if(s.tag===19)rv(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(Ze(Ft,u),m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Dd(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),nm(r,!1,m,o,y);break;case"backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Dd(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}nm(r,!0,o,null,y);break;case"together":nm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ys(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),vr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(uc(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=yr(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=yr(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function im(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&qd(s)))}function FE(s,r,o){switch(r.tag){case 3:Et(r,r.stateNode.containerInfo),ur(r,zt,s.memoizedState.cache),Zl();break;case 27:case 5:Kr(r);break;case 4:Et(r,r.stateNode.containerInfo);break;case 10:ur(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ar(r),r.flags|=128,null):(o&r.child.childLanes)!==0?sv(s,r,o):(ar(r),s=ys(s,r,o),s!==null?s.sibling:null);ar(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(uc(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return av(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(Ft,Ft.current),u)break;return null;case 22:case 23:return r.lanes=0,J1(s,r,o);case 24:ur(r,zt,s.memoizedState.cache)}return ys(s,r,o)}function ov(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Xt=!0;else{if(!im(s,o)&&(r.flags&128)===0)return Xt=!1,FE(s,r,o);Xt=(s.flags&131072)!==0}else Xt=!1,et&&(r.flags&1048576)!==0&&$y(r,Ad,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var u=r.elementType,m=u._init;if(u=m(u._payload),r.type=u,typeof u=="function")ym(u)?(s=va(u,s),r.tag=1,r=nv(null,r,u,s,o)):(r.tag=0,r=Y0(null,r,u,s,o));else{if(u!=null){if(m=u.$$typeof,m===R){r.tag=11,r=Q1(null,r,u,s,o);break e}else if(m===D){r.tag=14,r=X1(null,r,u,s,o);break e}}throw r=S(u)||u,Error(i(306,r,""))}}return r;case 0:return Y0(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=va(u,r.pendingProps),nv(s,r,u,m,o);case 3:e:{if(Et(r,r.stateNode.containerInfo),s===null)throw Error(i(387));var y=r.pendingProps;m=r.memoizedState,u=m.element,lm(s,r),fc(r,y,null,o);var w=r.memoizedState;if(y=w.cache,ur(r,zt,y),y!==m.cache&&am(r,[zt],o,!0),hc(),y=w.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=iv(s,r,y,o);break e}else if(y!==u){u=Jn(Error(i(424)),r),Jl(u),r=iv(s,r,y,o);break e}else for(nn=xi(r.stateNode.containerInfo.firstChild),Tn=r,et=!0,bi=null,Fi=!0,o=e1(r,null,y,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zl(),y===u){r=ys(s,r,o);break e}sn(s,r,y,o)}r=r.child}return r;case 26:return cc(s,r),s===null?(o=u3(r.type,null,r.pendingProps,null))?r.memoizedState=o:et||(o=r.type,s=r.pendingProps,u=ah(Ve.current).createElement(o),u[Wt]=r,u[Lt]=s,rn(u,o,s),mt(u),r.stateNode=u):r.memoizedState=u3(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Kr(r),s===null&&et&&(u=r.stateNode=o3(r.type,r.pendingProps,Ve.current),Tn=r,Fi=!0,nn=xi(u.firstChild)),u=r.pendingProps.children,s!==null||et?sn(s,r,u,o):r.child=fa(r,null,u,o),cc(s,r),r.child;case 5:return s===null&&et&&((m=u=nn)&&(u=y9(u,r.type,r.pendingProps,Fi),u!==null?(r.stateNode=u,Tn=r,nn=xi(u.firstChild),Fi=!1,m=!0):m=!1),m||ha(r)),Kr(r),m=r.type,y=r.pendingProps,w=s!==null?s.memoizedProps:null,u=y.children,Hm(m,y)?u=null:w!==null&&Hm(m,w)&&(r.flags|=32),r.memoizedState!==null&&(m=P0(s,r,OE,null,null,o),Rc._currentValue=m),cc(s,r),sn(s,r,u,o),r.child;case 6:return s===null&&et&&((s=o=nn)&&(o=v9(o,r.pendingProps,Fi),o!==null?(r.stateNode=o,Tn=r,nn=null,s=!0):s=!1),s||ha(r)),null;case 13:return sv(s,r,o);case 4:return Et(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=fa(r,null,u,o):sn(s,r,u,o),r.child;case 11:return Q1(s,r,r.type,r.pendingProps,o);case 7:return sn(s,r,r.pendingProps,o),r.child;case 8:return sn(s,r,r.pendingProps.children,o),r.child;case 12:return sn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,ur(r,r.type,u.value),sn(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,_a(r),m=dn(m),u=u(m),r.flags|=1,sn(s,r,u,o),r.child;case 14:return X1(s,r,r.type,r.pendingProps,o);case 15:return Z1(s,r,r.type,r.pendingProps,o);case 19:return av(s,r,o);case 22:return J1(s,r,o);case 24:return _a(r),u=dn(zt),s===null?(m=N0(),m===null&&(m=ct,y=A0(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:u,cache:m},om(r),ur(r,zt,m)):((s.lanes&o)!==0&&(lm(s,r),fc(r,null,null,o),hc()),m=s.memoizedState,y=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),ur(r,zt,u)):(u=y.cache,ur(r,zt,u),u!==m.cache&&am(r,[zt],o,!0))),sn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}var sm=Pe(null),ba=null,vs=null;function ur(s,r,o){Ze(sm,r._currentValue),r._currentValue=o}function bs(s){s._currentValue=sm.current,Ue(sm)}function rm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function am(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var w=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var U=0;U<r.length;U++)if(A.context===r[U]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),rm(y.return,o,s),u||(w=null);break e}y=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),rm(w,o,s),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function uc(s,r,o,u){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=m.type;Bn(m.pendingProps.value,w.value)||(s!==null?s.push(A):s=[A])}}else if(m===nt.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Rc):s=[Rc])}m=m.return}s!==null&&am(r,s,o,u),r.flags|=262144}function qd(s){for(s=s.firstContext;s!==null;){if(!Bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function _a(s){ba=s,vs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return lv(ba,s)}function $d(s,r){return ba===null&&_a(s),lv(s,r)}function lv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},vs===null){if(s===null)throw Error(i(308));vs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else vs=vs.next=r;return o}var dr=!1;function om(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function hr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function fr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Cd(s),Hy(s,null,o),r}return Ed(s,u,r,o),Cd(s)}function dc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ys(s,o)}}function cm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var um=!1;function hc(){if(um){var s=Io;if(s!==null)throw s}}function fc(s,r,o,u){um=!1;var m=s.updateQueue;dr=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var U=A,q=U.next;U.next=null,w===null?y=q:w.next=q,w=U;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==w&&(A===null?ne.firstBaseUpdate=q:A.next=q,ne.lastBaseUpdate=U))}if(y!==null){var ce=m.baseState;w=0,ne=q=U=null,A=y;do{var Z=A.lane&-536870913,te=Z!==A.lane;if(te?(We&Z)===Z:(u&Z)===Z){Z!==0&&Z===No&&(um=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var xe=s,De=A;Z=r;var wt=o;switch(De.tag){case 1:if(xe=De.payload,typeof xe=="function"){ce=xe.call(wt,ce,Z);break e}ce=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=De.payload,Z=typeof xe=="function"?xe.call(wt,ce,Z):xe,Z==null)break e;ce=k({},ce,Z);break e;case 2:dr=!0}}Z=A.callback,Z!==null&&(s.flags|=64,te&&(s.flags|=8192),te=m.callbacks,te===null?m.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(q=ne=te,U=ce):ne=ne.next=te,w|=Z;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;te=A,A=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ne===null&&(U=ce),m.baseState=U,m.firstBaseUpdate=q,m.lastBaseUpdate=ne,y===null&&(m.shared.lanes=0),vr|=w,s.lanes=w,s.memoizedState=ce}}function cv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function uv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)cv(o[s],r)}function mc(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==m)}}catch(A){ot(r,r.return,A)}}function mr(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=r;var U=o;try{A()}catch(q){ot(m,U,q)}}}u=u.next}while(u!==y)}}catch(q){ot(r,r.return,q)}}function dv(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{uv(r,o)}catch(u){ot(s,s.return,u)}}}function hv(s,r,o){o.props=va(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){ot(s,r,u)}}function xa(s,r){try{var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=u;break;default:m=u}typeof o=="function"?s.refCleanup=o(m):o.current=m}}catch(y){ot(s,r,y)}}function Fn(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ot(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ot(s,r,m)}else o.current=null}function fv(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ot(s,s.return,m)}}function mv(s,r,o){try{var u=s.stateNode;h9(u,s.type,o,r),u[Lt]=r}catch(m){ot(s,s.return,m)}}function pv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function dm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hm(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(s,r):o.insertBefore(s,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(s,o)):(r=o,r.appendChild(s)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=rh));else if(u!==4&&u!==27&&(s=s.child,s!==null))for(hm(s,r,o),s=s.sibling;s!==null;)hm(s,r,o),s=s.sibling}function Gd(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&u!==27&&(s=s.child,s!==null))for(Gd(s,r,o),s=s.sibling;s!==null;)Gd(s,r,o),s=s.sibling}var _s=!1,_t=!1,fm=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Zt=null,yv=!1;function zE(s,r){if(s=s.containerInfo,Fm=hh,s=Oy(s),p0(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,A=-1,U=-1,q=0,ne=0,ce=s,Z=null;t:for(;;){for(var te;ce!==o||m!==0&&ce.nodeType!==3||(A=w+m),ce!==y||u!==0&&ce.nodeType!==3||(U=w+u),ce.nodeType===3&&(w+=ce.nodeValue.length),(te=ce.firstChild)!==null;)Z=ce,ce=te;for(;;){if(ce===s)break t;if(Z===o&&++q===m&&(A=w),Z===y&&++ne===u&&(U=w),(te=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=te}o=A===-1||U===-1?null:{start:A,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(zm={focusedElem:s,selectionRange:o},hh=!1,Zt=r;Zt!==null;)if(r=Zt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Zt=s;else for(;Zt!==null;){switch(r=Zt,y=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var xe=va(o.type,m,o.elementType===o.type);s=u.getSnapshotBeforeUpdate(xe,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(De){ot(o,o.return,De)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Gm(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Gm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Zt=s;break}Zt=r.return}return xe=yv,yv=!1,xe}function vv(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ws(s,o),u&4&&mc(5,o);break;case 1:if(ws(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(A){ot(o,o.return,A)}else{var m=va(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(A){ot(o,o.return,A)}}u&64&&dv(o),u&512&&xa(o,o.return);break;case 3:if(ws(s,o),u&64&&(u=o.updateQueue,u!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{uv(u,s)}catch(A){ot(o,o.return,A)}}break;case 26:ws(s,o),u&512&&xa(o,o.return);break;case 27:case 5:ws(s,o),r===null&&u&4&&fv(o),u&512&&xa(o,o.return);break;case 12:ws(s,o);break;case 13:ws(s,o),u&4&&xv(s,o);break;case 22:if(m=o.memoizedState!==null||_s,!m){r=r!==null&&r.memoizedState!==null||_t;var y=_s,w=_t;_s=m,(_t=r)&&!w?pr(s,o,(o.subtreeFlags&8772)!==0):ws(s,o),_s=y,_t=w}u&512&&(o.memoizedProps.mode==="manual"?xa(o,o.return):Fn(o,o.return));break;default:ws(s,o)}}function bv(s){var r=s.alternate;r!==null&&(s.alternate=null,bv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Xr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var kt=null,zn=!1;function xs(s,r,o){for(o=o.child;o!==null;)_v(s,r,o),o=o.sibling}function _v(s,r,o){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(qs,o)}catch{}switch(o.tag){case 26:_t||Fn(o,r),xs(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_t||Fn(o,r);var u=kt,m=zn;for(kt=o.stateNode,xs(s,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);Xr(o),kt=u,zn=m;break;case 5:_t||Fn(o,r);case 6:m=kt;var y=zn;if(kt=null,xs(s,r,o),kt=m,zn=y,kt!==null)if(zn)try{s=kt,u=o.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)}catch(w){ot(o,r,w)}else try{kt.removeChild(o.stateNode)}catch(w){ot(o,r,w)}break;case 18:kt!==null&&(zn?(r=kt,o=o.stateNode,r.nodeType===8?$m(r.parentNode,o):r.nodeType===1&&$m(r,o),Dc(r)):$m(kt,o.stateNode));break;case 4:u=kt,m=zn,kt=o.stateNode.containerInfo,zn=!0,xs(s,r,o),kt=u,zn=m;break;case 0:case 11:case 14:case 15:_t||mr(2,o,r),_t||mr(4,o,r),xs(s,r,o);break;case 1:_t||(Fn(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&hv(o,r,u)),xs(s,r,o);break;case 21:xs(s,r,o);break;case 22:_t||Fn(o,r),_t=(u=_t)||o.memoizedState!==null,xs(s,r,o),_t=u;break;default:xs(s,r,o)}}function xv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Dc(s)}catch(o){ot(r,r.return,o)}}function HE(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new gv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new gv),r;default:throw Error(i(435,s.tag))}}function mm(s,r){var o=HE(s);r.forEach(function(u){var m=n9.bind(null,s,u);o.has(u)||(o.add(u),u.then(m,m))})}function ii(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=s,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:case 5:kt=A.stateNode,zn=!1;break e;case 3:kt=A.stateNode.containerInfo,zn=!0;break e;case 4:kt=A.stateNode.containerInfo,zn=!0;break e}A=A.return}if(kt===null)throw Error(i(160));_v(y,w,m),kt=null,zn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)wv(r,s),r=r.sibling}var _i=null;function wv(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ii(r,s),si(s),u&4&&(mr(3,s,s.return),mc(3,s),mr(5,s,s.return));break;case 1:ii(r,s),si(s),u&512&&(_t||o===null||Fn(o,o.return)),u&64&&_s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=_i;if(ii(r,s),si(s),u&512&&(_t||o===null||Fn(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Xs]||y[Wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),rn(y,u,o),y[Wt]=s,mt(y),u=y;break e;case"link":var w=f3("link","href",m).get(u+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(y=w[A],y.getAttribute("href")===(o.href==null?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}y=m.createElement(u),rn(y,u,o),m.head.appendChild(y);break;case"meta":if(w=f3("meta","content",m).get(u+(o.content||""))){for(A=0;A<w.length;A++)if(y=w[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}y=m.createElement(u),rn(y,u,o),m.head.appendChild(y);break;default:throw Error(i(468,u))}y[Wt]=s,mt(y),u=y}s.stateNode=u}else m3(m,s.type,s.stateNode);else s.stateNode=h3(m,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?m3(m,s.type,s.stateNode):h3(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&mv(s,s.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var U=m.firstChild;U;){var q=U.nextSibling,ne=U.nodeName;U[Xs]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&U.rel.toLowerCase()==="stylesheet"||m.removeChild(U),U=q}for(var ce=s.type,Z=m.attributes;Z.length;)m.removeAttributeNode(Z[0]);rn(m,ce,y),m[Wt]=s,m[Lt]=y}catch(xe){ot(s,s.return,xe)}}case 5:if(ii(r,s),si(s),u&512&&(_t||o===null||Fn(o,o.return)),s.flags&32){m=s.stateNode;try{Wn(m,"")}catch(xe){ot(s,s.return,xe)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,mv(s,m,o!==null?o.memoizedProps:m)),u&1024&&(fm=!0);break;case 6:if(ii(r,s),si(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(xe){ot(s,s.return,xe)}}break;case 3:if(ch=null,m=_i,_i=oh(r.containerInfo),ii(r,s),_i=m,si(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Dc(r.containerInfo)}catch(xe){ot(s,s.return,xe)}fm&&(fm=!1,Tv(s));break;case 4:u=_i,_i=oh(s.stateNode.containerInfo),ii(r,s),si(s),_i=u;break;case 12:ii(r,s),si(s);break;case 13:ii(r,s),si(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Tm=Nn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,mm(s,u)));break;case 22:if(u&512&&(_t||o===null||Fn(o,o.return)),U=s.memoizedState!==null,q=o!==null&&o.memoizedState!==null,ne=_s,ce=_t,_s=ne||U,_t=ce||q,ii(r,s),_t=ce,_s=ne,si(s),r=s.stateNode,r._current=s,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=U?r._visibility&-2:r._visibility|1,U&&(r=_s||_t,o===null||q||r||Oo(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(o=null,r=s;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){q=o=r;try{if(m=q.stateNode,U)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=q.stateNode,A=q.memoizedProps.style;var te=A!=null&&A.hasOwnProperty("display")?A.display:null;w.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(xe){ot(q,q.return,xe)}}}else if(r.tag===6){if(o===null){q=r;try{q.stateNode.nodeValue=U?"":q.memoizedProps}catch(xe){ot(q,q.return,xe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,mm(s,o))));break;case 19:ii(r,s),si(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,mm(s,u)));break;case 21:break;default:ii(r,s),si(s)}}function si(s){var r=s.flags;if(r&2){try{if(s.tag!==27){e:{for(var o=s.return;o!==null;){if(pv(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var m=u.stateNode,y=dm(s);Gd(s,y,m);break;case 5:var w=u.stateNode;u.flags&32&&(Wn(w,""),u.flags&=-33);var A=dm(s);Gd(s,A,w);break;case 3:case 4:var U=u.stateNode.containerInfo,q=dm(s);hm(s,q,U);break;default:throw Error(i(161))}}}catch(ne){ot(s,s.return,ne)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Tv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Tv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ws(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)vv(s,r.alternate,r),r=r.sibling}function Oo(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:mr(4,r,r.return),Oo(r);break;case 1:Fn(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&hv(r,r.return,o),Oo(r);break;case 26:case 27:case 5:Fn(r,r.return),Oo(r);break;case 22:Fn(r,r.return),r.memoizedState===null&&Oo(r);break;default:Oo(r)}s=s.sibling}}function pr(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:pr(m,y,o),mc(4,y);break;case 1:if(pr(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){ot(u,u.return,q)}if(u=y,m=u.updateQueue,m!==null){var A=u.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)cv(U[m],A)}catch(q){ot(u,u.return,q)}}o&&w&64&&dv(y),xa(y,y.return);break;case 26:case 27:case 5:pr(m,y,o),o&&u===null&&w&4&&fv(y),xa(y,y.return);break;case 12:pr(m,y,o);break;case 13:pr(m,y,o),o&&w&4&&xv(m,y);break;case 22:y.memoizedState===null&&pr(m,y,o),xa(y,y.return);break;default:pr(m,y,o)}r=r.sibling}}function pm(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&sc(o))}function gm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&sc(s))}function gr(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ev(s,r,o,u),r=r.sibling}function Ev(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:gr(s,r,o,u),m&2048&&mc(9,r);break;case 3:gr(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&sc(s)));break;case 12:if(m&2048){gr(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,w=y.id,A=y.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){ot(r,r.return,U)}}else gr(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,r.memoizedState!==null?y._visibility&4?gr(s,r,o,u):pc(s,r):y._visibility&4?gr(s,r,o,u):(y._visibility|=4,jo(s,r,o,u,(r.subtreeFlags&10256)!==0)),m&2048&&pm(r.alternate,r);break;case 24:gr(s,r,o,u),m&2048&&gm(r.alternate,r);break;default:gr(s,r,o,u)}}function jo(s,r,o,u,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=s,w=r,A=o,U=u,q=w.flags;switch(w.tag){case 0:case 11:case 15:jo(y,w,A,U,m),mc(8,w);break;case 23:break;case 22:var ne=w.stateNode;w.memoizedState!==null?ne._visibility&4?jo(y,w,A,U,m):pc(y,w):(ne._visibility|=4,jo(y,w,A,U,m)),m&&q&2048&&pm(w.alternate,w);break;case 24:jo(y,w,A,U,m),m&&q&2048&&gm(w.alternate,w);break;default:jo(y,w,A,U,m)}r=r.sibling}}function pc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:pc(o,u),m&2048&&pm(u.alternate,u);break;case 24:pc(o,u),m&2048&&gm(u.alternate,u);break;default:pc(o,u)}r=r.sibling}}var gc=8192;function Mo(s){if(s.subtreeFlags&gc)for(s=s.child;s!==null;)Cv(s),s=s.sibling}function Cv(s){switch(s.tag){case 26:Mo(s),s.flags&gc&&s.memoizedState!==null&&P9(_i,s.memoizedState,s.memoizedProps);break;case 5:Mo(s);break;case 3:case 4:var r=_i;_i=oh(s.stateNode.containerInfo),Mo(s),_i=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=gc,gc=16777216,Mo(s),gc=r):Mo(s));break;default:Mo(s)}}function Sv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function yc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,Rv(u,s)}Sv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Av(s),s=s.sibling}function Av(s){switch(s.tag){case 0:case 11:case 15:yc(s),s.flags&2048&&mr(9,s,s.return);break;case 3:yc(s);break;case 12:yc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&4&&(s.return===null||s.return.tag!==13)?(r._visibility&=-5,Kd(s)):yc(s);break;default:yc(s)}}function Kd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,Rv(u,s)}Sv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:mr(8,r,r.return),Kd(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,Kd(r));break;default:Kd(r)}s=s.sibling}}function Rv(s,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:mr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:sc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Zt=u;else e:for(o=s;Zt!==null;){u=Zt;var m=u.sibling,y=u.return;if(bv(u),u===o){Zt=null;break e}if(m!==null){m.return=y,Zt=m;break e}Zt=y}}}function qE(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(s,r,o,u){return new qE(s,r,o,u)}function ym(s){return s=s.prototype,!(!s||!s.isReactComponent)}function yr(s,r){var o=s.alternate;return o===null?(o=ri(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&31457280,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Nv(s,r){s.flags&=31457282;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Wd(s,r,o,u,m,y){var w=0;if(u=s,typeof s=="function")ym(s)&&(w=1);else if(typeof s=="string")w=N9(s,o,pe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case f:return wa(o.children,m,y,r);case g:w=8,m|=24;break;case v:return s=ri(12,o,r,m|2),s.elementType=v,s.lanes=y,s;case V:return s=ri(13,o,r,m),s.elementType=V,s.lanes=y,s;case N:return s=ri(19,o,r,m),s.elementType=N,s.lanes=y,s;case L:return Iv(o,m,y,r);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case E:w=10;break e;case T:w=9;break e;case R:w=11;break e;case D:w=14;break e;case j:w=16,u=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=ri(w,o,r,m),r.elementType=s,r.type=u,r.lanes=y,r}function wa(s,r,o,u){return s=ri(7,s,u,r),s.lanes=o,s}function Iv(s,r,o,u){s=ri(22,s,u,r),s.elementType=L,s.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(i(456));if((m._pendingVisibility&2)===0){var w=rr(y,2);w!==null&&(m._pendingVisibility|=2,En(w,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(i(456));if((m._pendingVisibility&2)!==0){var w=rr(y,2);w!==null&&(m._pendingVisibility&=-3,En(w,y,2))}}};return s.stateNode=m,s}function vm(s,r,o){return s=ri(6,s,null,r),s.lanes=o,s}function bm(s,r,o){return r=ri(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}function Ts(s){s.flags|=4}function Pv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!p3(r)){if(r=ni.current,r!==null&&((We&4194176)===We?zi!==null:(We&62914560)!==We&&(We&536870912)===0||r!==zi))throw tc=E0,Wy;s.flags|=8192}}function Yd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ks():536870912,s.lanes|=r,Lo|=r)}function vc(s,r){if(!et)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function pt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&31457280,u|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function $E(s,r,o){var u=r.pendingProps;switch(w0(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),bs(zt),It(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Xl(r)?Ts(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bi!==null&&(Am(bi),bi=null))),pt(r),null;case 26:return o=r.memoizedState,s===null?(Ts(r),o!==null?(pt(r),Pv(r,o)):(pt(r),r.flags&=-16777217)):o?o!==s.memoizedState?(Ts(r),pt(r),Pv(r,o)):(pt(r),r.flags&=-16777217):(s.memoizedProps!==u&&Ts(r),pt(r),r.flags&=-16777217),null;case 27:no(r),o=Ve.current;var m=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ts(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return pt(r),null}s=pe.current,Xl(r)?Gy(r):(s=o3(m,u,o),r.stateNode=s,Ts(r))}return pt(r),null;case 5:if(no(r),o=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ts(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return pt(r),null}if(s=pe.current,Xl(r))Gy(r);else{switch(m=ah(Ve.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}s[Wt]=r,s[Lt]=u;e:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=s;e:switch(rn(s,o,u),o){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ts(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Ts(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ve.current,Xl(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=Tn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Wt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||t3(s.nodeValue,o)),s||ha(r)}else s=ah(s).createTextNode(u),s[Wt]=r,r.stateNode=s}return pt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Xl(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Wt]=r}else Zl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),m=!1}else bi!==null&&(Am(bi),bi=null),m=!0;if(!m)return r.flags&256?(ps(r),r):(ps(r),null)}if(ps(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,s=s!==null&&s.memoizedState!==null,o){u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return o!==s&&o&&(r.child.flags|=8192),Yd(r,r.updateQueue),pt(r),null;case 4:return It(),s===null&&Lm(r.stateNode.containerInfo),pt(r),null;case 10:return bs(r.type),pt(r),null;case 19:if(Ue(Ft),m=r.memoizedState,m===null)return pt(r),null;if(u=(r.flags&128)!==0,y=m.rendering,y===null)if(u)vc(m,!1);else{if(xt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Dd(s),y!==null){for(r.flags|=128,vc(m,!1),s=y.updateQueue,r.updateQueue=s,Yd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Nv(o,s),o=o.sibling;return Ze(Ft,Ft.current&1|2),r.child}s=s.sibling}m.tail!==null&&Nn()>Qd&&(r.flags|=128,u=!0,vc(m,!1),r.lanes=4194304)}else{if(!u)if(s=Dd(y),s!==null){if(r.flags|=128,u=!0,s=s.updateQueue,r.updateQueue=s,Yd(r,s),vc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return pt(r),null}else 2*Nn()-m.renderingStartTime>Qd&&o!==536870912&&(r.flags|=128,u=!0,vc(m,!1),r.lanes=4194304);m.isBackwards?(y.sibling=r.child,r.child=y):(s=m.last,s!==null?s.sibling=y:r.child=y,m.last=y)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Nn(),r.sibling=null,s=Ft.current,Ze(Ft,u?s&1|2:s&1),r):(pt(r),null);case 22:case 23:return ps(r),S0(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),o=r.updateQueue,o!==null&&Yd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&Ue(ma),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),bs(zt),pt(r),null;case 25:return null}throw Error(i(156,r.tag))}function GE(s,r){switch(w0(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return bs(zt),It(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return no(r),null;case 13:if(ps(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Zl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return Ue(Ft),null;case 4:return It(),null;case 10:return bs(r.type),null;case 22:case 23:return ps(r),S0(),s!==null&&Ue(ma),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return bs(zt),null;case 25:return null;default:return null}}function Dv(s,r){switch(w0(r),r.tag){case 3:bs(zt),It();break;case 26:case 27:case 5:no(r);break;case 4:It();break;case 13:ps(r);break;case 19:Ue(Ft);break;case 10:bs(r.type);break;case 22:case 23:ps(r),S0(),s!==null&&Ue(ma);break;case 24:bs(zt)}}var KE={getCacheForType:function(s){var r=dn(zt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o}},WE=typeof WeakMap=="function"?WeakMap:Map,gt=0,ct=null,Le=null,We=0,ut=0,Hn=null,Es=!1,Vo=!1,_m=!1,Cs=0,xt=0,vr=0,Ta=0,xm=0,ai=0,Lo=0,bc=null,qi=null,wm=!1,Tm=0,Qd=1/0,Xd=null,br=null,Zd=!1,Ea=null,_c=0,Em=0,Cm=null,xc=0,Sm=null;function qn(){if((gt&2)!==0&&We!==0)return We&-We;if(C.T!==null){var s=No;return s!==0?s:Om()}return sd()}function kv(){ai===0&&(ai=(We&536870912)===0||et?kl():536870912);var s=ni.current;return s!==null&&(s.flags|=32),ai}function En(s,r,o){(s===ct&&ut===2||s.cancelPendingCommit!==null)&&(Uo(s,0),Ss(s,We,ai,!1)),Ct(s,o),((gt&2)===0||s!==ct)&&(s===ct&&((gt&2)===0&&(Ta|=o),xt===4&&Ss(s,We,ai,!1)),$i(s))}function Ov(s,r,o){if((gt&6)!==0)throw Error(i(327));var u=!o&&(r&60)===0&&(r&s.expiredLanes)===0||Gs(s,r),m=u?XE(s,r):Im(s,r,!0),y=u;do{if(m===0){Vo&&!u&&Ss(s,r,0,!1);break}else if(m===6)Ss(s,r,0,!Es);else{if(o=s.current.alternate,y&&!YE(o)){m=Im(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=s;m=bc;var U=A.current.memoizedState.isDehydrated;if(U&&(Uo(A,w).flags|=256),w=Im(A,w,!1),w!==2){if(_m&&!U){A.errorRecoveryDisabledLanes|=y,Ta|=y,m=4;break e}y=qi,qi=m,y!==null&&Am(y)}m=w}if(y=!1,m!==2)continue}}if(m===1){Uo(s,0),Ss(s,r,0,!0);break}e:{switch(u=s,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194176)===r){Ss(u,r,ai,!Es);break e}break;case 2:qi=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=r,(r&62914560)===r&&(y=Tm+300-Nn(),10<y)){if(Ss(u,r,ai,!Es),Gn(u,0)!==0)break e;u.timeoutHandle=s3(jv.bind(null,u,o,qi,Xd,wm,r,ai,Ta,Lo,Es,2,-0,0),y);break e}jv(u,o,qi,Xd,wm,r,ai,Ta,Lo,Es,0,-0,0)}}break}while(!0);$i(s)}function Am(s){qi===null?qi=s:qi.push.apply(qi,s)}function jv(s,r,o,u,m,y,w,A,U,q,ne,ce,Z){var te=r.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(Ac={stylesheets:null,count:0,unsuspend:I9},Cv(r),r=D9(),r!==null)){s.cancelPendingCommit=r(zv.bind(null,s,o,u,m,w,A,U,1,ce,Z)),Ss(s,y,w,!q);return}zv(s,o,u,m,w,A,U,ne,ce,Z)}function YE(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!Bn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ss(s,r,o,u){r&=~xm,r&=~Ta,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var y=31-_n(m),w=1<<y;u[y]=-1,m&=~w}o!==0&&Ws(s,o,r)}function Jd(){return(gt&6)===0?(wc(0),!1):!0}function Rm(){if(Le!==null){if(ut===0)var s=Le.return;else s=Le,vs=ba=null,O0(s),Ao=null,nc=0,s=Le;for(;s!==null;)Dv(s.alternate,s),s=s.return;Le=null}}function Uo(s,r){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,m9(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Rm(),ct=s,Le=o=yr(s.current,null),We=r,ut=0,Hn=null,Es=!1,Vo=Gs(s,r),_m=!1,Lo=ai=xm=Ta=vr=xt=0,qi=bc=null,wm=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-_n(u),y=1<<m;r|=s[m],u&=~y}return Cs=r,Td(),o}function Mv(s,r){je=null,C.H=Hi,r===ec?(r=Xy(),ut=3):r===Wy?(r=Xy(),ut=4):ut=r===Y1?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,Le===null&&(xt=1,Hd(s,Jn(r,s.current)))}function Vv(){var s=C.H;return C.H=Hi,s===null?Hi:s}function Lv(){var s=C.A;return C.A=KE,s}function Nm(){xt=4,Es||(We&4194176)!==We&&ni.current!==null||(Vo=!0),(vr&134217727)===0&&(Ta&134217727)===0||ct===null||Ss(ct,We,ai,!1)}function Im(s,r,o){var u=gt;gt|=2;var m=Vv(),y=Lv();(ct!==s||We!==r)&&(Xd=null,Uo(s,r)),r=!1;var w=xt;e:do try{if(ut!==0&&Le!==null){var A=Le,U=Hn;switch(ut){case 8:Rm(),w=6;break e;case 3:case 2:case 6:ni.current===null&&(r=!0);var q=ut;if(ut=0,Hn=null,Bo(s,A,U,q),o&&Vo){w=0;break e}break;default:q=ut,ut=0,Hn=null,Bo(s,A,U,q)}}QE(),w=xt;break}catch(ne){Mv(s,ne)}while(!0);return r&&s.shellSuspendCounter++,vs=ba=null,gt=u,C.H=m,C.A=y,Le===null&&(ct=null,We=0,Td()),w}function QE(){for(;Le!==null;)Uv(Le)}function XE(s,r){var o=gt;gt|=2;var u=Vv(),m=Lv();ct!==s||We!==r?(Xd=null,Qd=Nn()+500,Uo(s,r)):Vo=Gs(s,r);e:do try{if(ut!==0&&Le!==null){r=Le;var y=Hn;t:switch(ut){case 1:ut=0,Hn=null,Bo(s,r,y,1);break;case 2:if(Yy(y)){ut=0,Hn=null,Bv(r);break}r=function(){ut===2&&ct===s&&(ut=7),$i(s)},y.then(r,r);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Yy(y)?(ut=0,Hn=null,Bv(r)):(ut=0,Hn=null,Bo(s,r,y,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var A=Le;if(!w||p3(w)){ut=0,Hn=null;var U=A.sibling;if(U!==null)Le=U;else{var q=A.return;q!==null?(Le=q,eh(q)):Le=null}break t}}ut=0,Hn=null,Bo(s,r,y,5);break;case 6:ut=0,Hn=null,Bo(s,r,y,6);break;case 8:Rm(),xt=6;break e;default:throw Error(i(462))}}ZE();break}catch(ne){Mv(s,ne)}while(!0);return vs=ba=null,C.H=u,C.A=m,gt=o,Le!==null?0:(ct=null,We=0,Td(),xt)}function ZE(){for(;Le!==null&&!s0();)Uv(Le)}function Uv(s){var r=ov(s.alternate,s,Cs);s.memoizedProps=s.pendingProps,r===null?eh(s):Le=r}function Bv(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=tv(o,r,r.pendingProps,r.type,void 0,We);break;case 11:r=tv(o,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:O0(r);default:Dv(o,r),r=Le=Nv(r,Cs),r=ov(o,r,Cs)}s.memoizedProps=s.pendingProps,r===null?eh(s):Le=r}function Bo(s,r,o,u){vs=ba=null,O0(r),Ao=null,nc=0;var m=r.return;try{if(BE(s,m,r,o,We)){xt=1,Hd(s,Jn(o,s.current)),Le=null;return}}catch(y){if(m!==null)throw Le=m,y;xt=1,Hd(s,Jn(o,s.current)),Le=null;return}r.flags&32768?(et||u===1?s=!0:Vo||(We&536870912)!==0?s=!1:(Es=s=!0,(u===2||u===3||u===6)&&(u=ni.current,u!==null&&u.tag===13&&(u.flags|=16384))),Fv(r,s)):eh(r)}function eh(s){var r=s;do{if((r.flags&32768)!==0){Fv(r,Es);return}s=r.return;var o=$E(r.alternate,r,Cs);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=s}while(r!==null);xt===0&&(xt=5)}function Fv(s,r){do{var o=GE(s.alternate,s);if(o!==null){o.flags&=32767,Le=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Le=s;return}Le=s=o}while(s!==null);xt=6,Le=null}function zv(s,r,o,u,m,y,w,A,U,q){var ne=C.T,ce=ie.p;try{ie.p=2,C.T=null,JE(s,r,o,u,ce,m,y,w,A,U,q)}finally{C.T=ne,ie.p=ce}}function JE(s,r,o,u,m,y,w,A){do Fo();while(Ea!==null);if((gt&6)!==0)throw Error(i(327));var U=s.finishedWork;if(u=s.finishedLanes,U===null)return null;if(s.finishedWork=null,s.finishedLanes=0,U===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var q=U.lanes|U.childLanes;if(q|=b0,nd(s,u,q,y,w,A),s===ct&&(Le=ct=null,We=0),(U.subtreeFlags&10256)===0&&(U.flags&10256)===0||Zd||(Zd=!0,Em=q,Cm=o,i9(is,function(){return Fo(),null})),o=(U.flags&15990)!==0,(U.subtreeFlags&15990)!==0||o?(o=C.T,C.T=null,y=ie.p,ie.p=2,w=gt,gt|=4,zE(s,U),wv(U,s),TE(zm,s.containerInfo),hh=!!Fm,zm=Fm=null,s.current=U,vv(s,U.alternate,U),Nl(),gt=w,ie.p=y,C.T=o):s.current=U,Zd?(Zd=!1,Ea=s,_c=u):Hv(s,q),q=s.pendingLanes,q===0&&(br=null),Pl(U.stateNode),$i(s),r!==null)for(m=s.onRecoverableError,U=0;U<r.length;U++)q=r[U],m(q.value,{componentStack:q.stack});return(_c&3)!==0&&Fo(),q=s.pendingLanes,(u&4194218)!==0&&(q&42)!==0?s===Sm?xc++:(xc=0,Sm=s):xc=0,wc(0),null}function Hv(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,sc(r)))}function Fo(){if(Ea!==null){var s=Ea,r=Em;Em=0;var o=id(_c),u=C.T,m=ie.p;try{if(ie.p=32>o?32:o,C.T=null,Ea===null)var y=!1;else{o=Cm,Cm=null;var w=Ea,A=_c;if(Ea=null,_c=0,(gt&6)!==0)throw Error(i(331));var U=gt;if(gt|=4,Av(w.current),Ev(w,w.current,A,o),gt=U,wc(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(qs,w)}catch{}y=!0}return y}finally{ie.p=m,C.T=u,Hv(s,r)}}return!1}function qv(s,r,o){r=Jn(o,r),r=W0(s.stateNode,r,2),s=fr(s,r,2),s!==null&&(Ct(s,2),$i(s))}function ot(s,r,o){if(s.tag===3)qv(s,s,o);else for(;r!==null;){if(r.tag===3){qv(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(br===null||!br.has(u))){s=Jn(o,s),o=K1(2),u=fr(r,o,2),u!==null&&(W1(o,u,r,s),Ct(u,2),$i(u));break}}r=r.return}}function Pm(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new WE;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(_m=!0,m.add(o),s=e9.bind(null,s,r,o),r.then(s,s))}function e9(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ct===s&&(We&o)===o&&(xt===4||xt===3&&(We&62914560)===We&&300>Nn()-Tm?(gt&2)===0&&Uo(s,0):xm|=o,Lo===We&&(Lo=0)),$i(s)}function $v(s,r){r===0&&(r=Ks()),s=rr(s,r),s!==null&&(Ct(s,r),$i(s))}function t9(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),$v(s,o)}function n9(s,r){var o=0;switch(s.tag){case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),$v(s,o)}function i9(s,r){return Wr(s,r)}var th=null,zo=null,Dm=!1,nh=!1,km=!1,Ca=0;function $i(s){s!==zo&&s.next===null&&(zo===null?th=zo=s:zo=zo.next=s),nh=!0,Dm||(Dm=!0,r9(s9))}function wc(s,r){if(!km&&nh){km=!0;do for(var o=!1,u=th;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var w=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-_n(42|s)+1)-1,y&=m&~(w&~A),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(o=!0,Wv(u,y))}else y=We,y=Gn(u,u===ct?y:0),(y&3)===0||Gs(u,y)||(o=!0,Wv(u,y));u=u.next}while(o);km=!1}}function s9(){nh=Dm=!1;var s=0;Ca!==0&&(f9()&&(s=Ca),Ca=0);for(var r=Nn(),o=null,u=th;u!==null;){var m=u.next,y=Gv(u,r);y===0?(u.next=null,o===null?th=m:o.next=m,m===null&&(zo=o)):(o=u,(s!==0||(y&3)!==0)&&(nh=!0)),u=m}wc(s)}function Gv(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-_n(y),A=1<<w,U=m[w];U===-1?((A&o)===0||(A&u)!==0)&&(m[w]=ro(A,r)):U<=r&&(s.expiredLanes|=A),y&=~A}if(r=ct,o=We,o=Gn(s,s===r?o:0),u=s.callbackNode,o===0||s===r&&ut===2||s.cancelPendingCommit!==null)return u!==null&&u!==null&&so(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Gs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&so(u),id(o)){case 2:case 8:o=Kt;break;case 32:o=is;break;case 268435456:o=Il;break;default:o=is}return u=Kv.bind(null,s),o=Wr(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&so(u),s.callbackPriority=2,s.callbackNode=null,2}function Kv(s,r){var o=s.callbackNode;if(Fo()&&s.callbackNode!==o)return null;var u=We;return u=Gn(s,s===ct?u:0),u===0?null:(Ov(s,u,r),Gv(s,Nn()),s.callbackNode!=null&&s.callbackNode===o?Kv.bind(null,s):null)}function Wv(s,r){if(Fo())return null;Ov(s,r,!0)}function r9(s){p9(function(){(gt&6)!==0?Wr(Vt,s):s()})}function Om(){return Ca===0&&(Ca=kl()),Ca}function Yv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Oi(""+s)}function Qv(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function a9(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var y=Yv((m[Lt]||null).action),w=u.submitter;w&&(r=(r=w[Lt]||null)?Yv(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var A=new fo("action","action",null,u,m);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ca!==0){var U=w?Qv(m,w):new FormData(m);H0(o,{pending:!0,data:U,method:m.method,action:y},null,U)}}else typeof y=="function"&&(A.preventDefault(),U=w?Qv(m,w):new FormData(m),H0(o,{pending:!0,data:U,method:m.method,action:y},y,U))},currentTarget:m}]})}}for(var jm=0;jm<zy.length;jm++){var Mm=zy[jm],o9=Mm.toLowerCase(),l9=Mm[0].toUpperCase()+Mm.slice(1);vi(o9,"on"+l9)}vi(Vy,"onAnimationEnd"),vi(Ly,"onAnimationIteration"),vi(Uy,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(CE,"onTransitionRun"),vi(SE,"onTransitionStart"),vi(AE,"onTransitionCancel"),vi(By,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tc));function Xv(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var A=u[w],U=A.instance,q=A.currentTarget;if(A=A.listener,U!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=q;try{y(m)}catch(ne){zd(ne)}m.currentTarget=null,y=U}else for(w=0;w<u.length;w++){if(A=u[w],U=A.instance,q=A.currentTarget,A=A.listener,U!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=q;try{y(m)}catch(ne){zd(ne)}m.currentTarget=null,y=U}}}}function He(s,r){var o=r[Qr];o===void 0&&(o=r[Qr]=new Set);var u=s+"__bubble";o.has(u)||(Zv(r,s,2,!1),o.add(u))}function Vm(s,r,o){var u=0;r&&(u|=4),Zv(o,s,u,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Lm(s){if(!s[ih]){s[ih]=!0,jl.forEach(function(o){o!=="selectionchange"&&(c9.has(o)||Vm(o,!1,s),Vm(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[ih]||(r[ih]=!0,Vm("selectionchange",!1,r))}}function Zv(s,r,o,u){switch(x3(r)){case 2:var m=j9;break;case 8:m=M9;break;default:m=Xm}o=m.bind(null,r,o,s),m=void 0,!Qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function Um(s,r,o,u,m){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(w===4)for(w=u.return;w!==null;){var U=w.tag;if((U===3||U===4)&&(U=w.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;w=w.return}for(;A!==null;){if(w=yi(A),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){u=y=w;continue e}A=A.parentNode}}u=u.return}ld(function(){var q=y,ne=ho(o),ce=[];e:{var Z=Fy.get(s);if(Z!==void 0){var te=fo,xe=s;switch(s){case"keypress":if(Mi(o)===0)break e;case"keydown":case"keyup":te=bo;break;case"focusin":xe="focus",te=go;break;case"focusout":xe="blur",te=go;break;case"beforeblur":case"afterblur":te=go;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=d0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=gd;break;case Vy:case Ly:case Uy:te=yo;break;case By:te=vd;break;case"scroll":case"scrollend":te=cd;break;case"wheel":te=_o;break;case"copy":case"cut":case"paste":te=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Kl;break;case"toggle":case"beforetoggle":te=_d}var De=(r&4)!==0,wt=!De&&(s==="scroll"||s==="scrollend"),W=De?Z!==null?Z+"Capture":null:Z;De=[];for(var H=q,X;H!==null;){var re=H;if(X=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||X===null||W===null||(re=ta(H,W),re!=null&&De.push(Ec(H,re,X))),wt)break;H=H.return}0<De.length&&(Z=new te(Z,xe,null,o,ne),ce.push({event:Z,listeners:De}))}}if((r&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",Z&&o!==Yn&&(xe=o.relatedTarget||o.fromElement)&&(yi(xe)||xe[ss]))break e;if((te||Z)&&(Z=ne.window===ne?ne:(Z=ne.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(xe=o.relatedTarget||o.toElement,te=q,xe=xe?yi(xe):null,xe!==null&&(wt=se(xe),De=xe.tag,xe!==wt||De!==5&&De!==27&&De!==6)&&(xe=null)):(te=null,xe=q),te!==xe)){if(De=Xn,re="onMouseLeave",W="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(De=Kl,re="onPointerLeave",W="onPointerEnter",H="pointer"),wt=te==null?Z:Zs(te),X=xe==null?Z:Zs(xe),Z=new De(re,H+"leave",te,o,ne),Z.target=wt,Z.relatedTarget=X,re=null,yi(ne)===q&&(De=new De(W,H+"enter",xe,o,ne),De.target=X,De.relatedTarget=wt,re=De),wt=re,te&&xe)t:{for(De=te,W=xe,H=0,X=De;X;X=Ho(X))H++;for(X=0,re=W;re;re=Ho(re))X++;for(;0<H-X;)De=Ho(De),H--;for(;0<X-H;)W=Ho(W),X--;for(;H--;){if(De===W||W!==null&&De===W.alternate)break t;De=Ho(De),W=Ho(W)}De=null}else De=null;te!==null&&Jv(ce,Z,te,De,!1),xe!==null&&wt!==null&&Jv(ce,wt,xe,De,!0)}}e:{if(Z=q?Zs(q):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var be=Sy;else if(Bt(Z))if(Ay)be=xE;else{be=bE;var Me=vE}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?q&&Bl(q.elementType)&&(be=Sy):be=_E;if(be&&(be=be(s,q))){hs(ce,be,o,ne);break e}Me&&Me(s,Z,q),s==="focusout"&&q&&Z.type==="number"&&q.memoizedProps.value!=null&&uo(Z,"number",Z.value)}switch(Me=q?Zs(q):window,s){case"focusin":(Bt(Me)||Me.contentEditable==="true")&&(xo=Me,g0=q,Ql=null);break;case"focusout":Ql=g0=xo=null;break;case"mousedown":y0=!0;break;case"contextmenu":case"mouseup":case"dragend":y0=!1,jy(ce,o,ne);break;case"selectionchange":if(EE)break;case"keydown":case"keyup":jy(ce,o,ne)}var we;if(Ui)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ge?ee(s,o)&&(Ce="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(x&&o.locale!=="ko"&&(Ge||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ge&&(we=zl()):(ji=ne,sr="value"in ji?ji.value:ji.textContent,Ge=!0)),Me=sh(q,Ce),0<Me.length&&(Ce=new $l(Ce,s,null,o,ne),ce.push({event:Ce,listeners:Me}),we?Ce.data=we:(we=he(o),we!==null&&(Ce.data=we)))),(we=b?Ut(s,o):Ke(s,o))&&(Ce=sh(q,"onBeforeInput"),0<Ce.length&&(Me=new $l("onBeforeInput","beforeinput",null,o,ne),ce.push({event:Me,listeners:Ce}),Me.data=we)),a9(ce,s,q,o,ne)}Xv(ce,r)})}function Ec(s,r,o){return{instance:s,listener:r,currentTarget:o}}function sh(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ta(s,o),m!=null&&u.unshift(Ec(s,m,y)),m=ta(s,r),m!=null&&u.push(Ec(s,m,y))),s=s.return}return u}function Ho(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Jv(s,r,o,u,m){for(var y=r._reactName,w=[];o!==null&&o!==u;){var A=o,U=A.alternate,q=A.stateNode;if(A=A.tag,U!==null&&U===u)break;A!==5&&A!==26&&A!==27||q===null||(U=q,m?(q=ta(o,y),q!=null&&w.unshift(Ec(o,q,U))):m||(q=ta(o,y),q!=null&&w.push(Ec(o,q,U)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var u9=/\r\n?/g,d9=/\u0000|\uFFFD/g;function e3(s){return(typeof s=="string"?s:""+s).replace(u9,`
`).replace(d9,"")}function t3(s,r){return r=e3(r),e3(s)===r}function rh(){}function at(s,r,o,u,m,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Wn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Wn(s,""+u);break;case"className":tr(s,"class",u);break;case"tabIndex":tr(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(s,o,u);break;case"style":od(s,u,y);break;case"data":if(r!=="object"){tr(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Oi(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&at(s,r,"name",m.name,m,null),at(s,r,"formEncType",m.formEncType,m,null),at(s,r,"formMethod",m.formMethod,m,null),at(s,r,"formTarget",m.formTarget,m,null)):(at(s,r,"encType",m.encType,m,null),at(s,r,"method",m.method,m,null),at(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Oi(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=rh);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Oi(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),er(s,"popover",u);break;case"xlinkActuate":Kn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Kn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Kn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Kn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Kn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Kn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Kn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Kn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Kn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":er(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=c0.get(o)||o,er(s,o,u))}}function Bm(s,r,o,u,m,y){switch(o){case"style":od(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Wn(s,u):(typeof u=="number"||typeof u=="bigint")&&Wn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=s[Lt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):er(s,o,u)}}}function rn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:at(s,r,y,w,o,null)}}m&&at(s,r,"srcSet",o.srcSet,o,null),u&&at(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=w=m=null,U=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":w=ne;break;case"checked":U=ne;break;case"defaultChecked":q=ne;break;case"value":y=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:at(s,r,u,ne,o,null)}}Jr(s,y,A,U,q,w,m,!1),Zr(s);return;case"select":He("invalid",s),u=w=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:at(s,r,m,A,o,null)}r=y,o=w,s.multiple=!!u,r!=null?Je(s,!!u,r,!1):o!=null&&Je(s,!!u,o,!0);return;case"textarea":He("invalid",s),y=m=u=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:at(s,r,w,A,o,null)}ir(s,u,m,y),Zr(s);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:at(s,r,U,u,o,null)}return;case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Tc.length;u++)He(Tc[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:at(s,r,q,u,o,null)}return;default:if(Bl(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Bm(s,r,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&at(s,r,A,u,o,null))}function h9(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,w=null,A=null,U=null,q=null,ne=null;for(te in o){var ce=o[te];if(o.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=ce;default:u.hasOwnProperty(te)||at(s,r,te,null,u,ce)}}for(var Z in u){var te=u[Z];if(ce=o[Z],u.hasOwnProperty(Z)&&(te!=null||ce!=null))switch(Z){case"type":y=te;break;case"name":m=te;break;case"checked":q=te;break;case"defaultChecked":ne=te;break;case"value":w=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:te!==ce&&at(s,r,Z,te,u,ce)}}nr(s,w,A,U,q,ne,y,m);return;case"select":te=w=A=Z=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":te=U;default:u.hasOwnProperty(y)||at(s,r,y,null,u,U)}for(m in u)if(y=u[m],U=o[m],u.hasOwnProperty(m)&&(y!=null||U!=null))switch(m){case"value":Z=y;break;case"defaultValue":A=y;break;case"multiple":w=y;default:y!==U&&at(s,r,m,y,u,U)}r=A,o=w,u=te,Z!=null?Je(s,!!o,Z,!1):!!u!=!!o&&(r!=null?Je(s,!!o,r,!0):Je(s,!!o,o?[]:"",!1));return;case"textarea":te=Z=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:at(s,r,A,null,u,m)}for(w in u)if(m=u[w],y=o[w],u.hasOwnProperty(w)&&(m!=null||y!=null))switch(w){case"value":Z=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&at(s,r,w,m,u,y)}ea(s,Z,te);return;case"option":for(var xe in o)if(Z=o[xe],o.hasOwnProperty(xe)&&Z!=null&&!u.hasOwnProperty(xe))switch(xe){case"selected":s.selected=!1;break;default:at(s,r,xe,null,u,Z)}for(U in u)if(Z=u[U],te=o[U],u.hasOwnProperty(U)&&Z!==te&&(Z!=null||te!=null))switch(U){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:at(s,r,U,Z,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)Z=o[De],o.hasOwnProperty(De)&&Z!=null&&!u.hasOwnProperty(De)&&at(s,r,De,null,u,Z);for(q in u)if(Z=u[q],te=o[q],u.hasOwnProperty(q)&&Z!==te&&(Z!=null||te!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:at(s,r,q,Z,u,te)}return;default:if(Bl(r)){for(var wt in o)Z=o[wt],o.hasOwnProperty(wt)&&Z!==void 0&&!u.hasOwnProperty(wt)&&Bm(s,r,wt,void 0,u,Z);for(ne in u)Z=u[ne],te=o[ne],!u.hasOwnProperty(ne)||Z===te||Z===void 0&&te===void 0||Bm(s,r,ne,Z,u,te);return}}for(var W in o)Z=o[W],o.hasOwnProperty(W)&&Z!=null&&!u.hasOwnProperty(W)&&at(s,r,W,null,u,Z);for(ce in u)Z=u[ce],te=o[ce],!u.hasOwnProperty(ce)||Z===te||Z==null&&te==null||at(s,r,ce,Z,u,te)}var Fm=null,zm=null;function ah(s){return s.nodeType===9?s:s.ownerDocument}function n3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i3(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Hm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qm=null;function f9(){var s=window.event;return s&&s.type==="popstate"?s===qm?!1:(qm=s,!0):(qm=null,!1)}var s3=typeof setTimeout=="function"?setTimeout:void 0,m9=typeof clearTimeout=="function"?clearTimeout:void 0,r3=typeof Promise=="function"?Promise:void 0,p9=typeof queueMicrotask=="function"?queueMicrotask:typeof r3<"u"?function(s){return r3.resolve(null).then(s).catch(g9)}:s3;function g9(s){setTimeout(function(){throw s})}function $m(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(u===0){s.removeChild(m),Dc(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=m}while(o);Dc(r)}function Gm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gm(o),Xr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function y9(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Xs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=xi(s.nextSibling),s===null)break}return null}function v9(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=xi(s.nextSibling),s===null))return null;return s}function xi(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}function a3(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return s;r--}else o==="/$"&&r++}s=s.previousSibling}return null}function o3(s,r,o){switch(r=ah(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var oi=new Map,l3=new Set;function oh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var As=ie.d;ie.d={f:b9,r:_9,D:x9,C:w9,L:T9,m:E9,X:S9,S:C9,M:A9};function b9(){var s=As.f(),r=Jd();return s||r}function _9(s){var r=rs(s);r!==null&&r.tag===5&&r.type==="form"?j1(r):As.r(s)}var qo=typeof document>"u"?null:document;function c3(s,r,o){var u=qo;if(u&&typeof r=="string"&&r){var m=bt(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),l3.has(m)||(l3.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),rn(r,"link",s),mt(r),u.head.appendChild(r)))}}function x9(s){As.D(s),c3("dns-prefetch",s,null)}function w9(s,r){As.C(s,r),c3("preconnect",s,r)}function T9(s,r,o){As.L(s,r,o);var u=qo;if(u&&s&&r){var m='link[rel="preload"][as="'+bt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+bt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+bt(o.imageSizes)+'"]')):m+='[href="'+bt(s)+'"]';var y=m;switch(r){case"style":y=$o(s);break;case"script":y=Go(s)}oi.has(y)||(s=k({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),oi.set(y,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Cc(y))||r==="script"&&u.querySelector(Sc(y))||(r=u.createElement("link"),rn(r,"link",s),mt(r),u.head.appendChild(r)))}}function E9(s,r){As.m(s,r);var o=qo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+bt(u)+'"][href="'+bt(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Go(s)}if(!oi.has(y)&&(s=k({rel:"modulepreload",href:s},r),oi.set(y,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Sc(y)))return}u=o.createElement("link"),rn(u,"link",s),mt(u),o.head.appendChild(u)}}}function C9(s,r,o){As.S(s,r,o);var u=qo;if(u&&s){var m=Js(u).hoistableStyles,y=$o(s);r=r||"default";var w=m.get(y);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(Cc(y)))A.loading=5;else{s=k({rel:"stylesheet",href:s,"data-precedence":r},o),(o=oi.get(y))&&Km(s,o);var U=w=u.createElement("link");mt(U),rn(U,"link",s),U._p=new Promise(function(q,ne){U.onload=q,U.onerror=ne}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,lh(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(y,w)}}}function S9(s,r){As.X(s,r);var o=qo;if(o&&s){var u=Js(o).hoistableScripts,m=Go(s),y=u.get(m);y||(y=o.querySelector(Sc(m)),y||(s=k({src:s,async:!0},r),(r=oi.get(m))&&Wm(s,r),y=o.createElement("script"),mt(y),rn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function A9(s,r){As.M(s,r);var o=qo;if(o&&s){var u=Js(o).hoistableScripts,m=Go(s),y=u.get(m);y||(y=o.querySelector(Sc(m)),y||(s=k({src:s,async:!0,type:"module"},r),(r=oi.get(m))&&Wm(s,r),y=o.createElement("script"),mt(y),rn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function u3(s,r,o,u){var m=(m=Ve.current)?oh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=$o(o.href),o=Js(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=$o(o.href);var y=Js(m).hoistableStyles,w=y.get(s);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=m.querySelector(Cc(s)))&&!y._p&&(w.instance=y,w.state.loading=5),oi.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oi.set(s,o),y||R9(m,s,o,w.state))),r&&u===null)throw Error(i(528,""));return w}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Go(o),o=Js(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function $o(s){return'href="'+bt(s)+'"'}function Cc(s){return'link[rel="stylesheet"]['+s+"]"}function d3(s){return k({},s,{"data-precedence":s.precedence,precedence:null})}function R9(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),rn(r,"link",o),mt(r),s.head.appendChild(r))}function Go(s){return'[src="'+bt(s)+'"]'}function Sc(s){return"script[async]"+s}function h3(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+bt(o.href)+'"]');if(u)return r.instance=u,mt(u),u;var m=k({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),mt(u),rn(u,"style",m),lh(u,o.precedence,s),r.instance=u;case"stylesheet":m=$o(o.href);var y=s.querySelector(Cc(m));if(y)return r.state.loading|=4,r.instance=y,mt(y),y;u=d3(o),(m=oi.get(m))&&Km(u,m),y=(s.ownerDocument||s).createElement("link"),mt(y);var w=y;return w._p=new Promise(function(A,U){w.onload=A,w.onerror=U}),rn(y,"link",u),r.state.loading|=4,lh(y,o.precedence,s),r.instance=y;case"script":return y=Go(o.src),(m=s.querySelector(Sc(y)))?(r.instance=m,mt(m),m):(u=o,(m=oi.get(y))&&(u=k({},o),Wm(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),mt(m),rn(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,lh(u,o.precedence,s));return r.instance}function lh(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Km(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Wm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var ch=null;function f3(s,r,o){if(ch===null){var u=new Map,m=ch=new Map;m.set(o,u)}else m=ch,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var y=o[m];if(!(y[Xs]||y[Wt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=s+w;var A=u.get(w);A?A.push(y):u.set(w,[y])}}return u}function m3(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function N9(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function p3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ac=null;function I9(){}function P9(s,r,o){if(Ac===null)throw Error(i(475));var u=Ac;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=$o(o.href),y=s.querySelector(Cc(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=uh.bind(u),s.then(u,u)),r.state.loading|=4,r.instance=y,mt(y);return}y=s.ownerDocument||s,o=d3(o),(m=oi.get(m))&&Km(o,m),y=y.createElement("link"),mt(y);var w=y;w._p=new Promise(function(A,U){w.onload=A,w.onerror=U}),rn(y,"link",o),r.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=uh.bind(u),s.addEventListener("load",r),s.addEventListener("error",r))}}function D9(){if(Ac===null)throw Error(i(475));var s=Ac;return s.stylesheets&&s.count===0&&Ym(s,s.stylesheets),0<s.count?function(r){var o=setTimeout(function(){if(s.stylesheets&&Ym(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(o)}}:null}function uh(){if(this.count--,this.count===0){if(this.stylesheets)Ym(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dh=null;function Ym(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dh=new Map,r.forEach(k9,s),dh=null,uh.call(s))}function k9(s,r){if(!(r.state.loading&4)){var o=dh.get(s);if(o)var u=o.get(null);else{o=new Map,dh.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var w=m[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}m=r.instance,w=m.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,m),o.set(w,m),this.count++,u=uh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Rc={$$typeof:E,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function O9(s,r,o,u,m,y,w,A){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.hiddenUpdates=ao(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function g3(s,r,o,u,m,y,w,A,U,q,ne,ce){return s=new O9(s,r,o,w,A,U,q,ce),r=1,y===!0&&(r|=24),y=ri(3,null,null,r),s.current=y,y.stateNode=s,r=A0(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},om(y),s}function y3(s){return s?(s=Eo,s):Eo}function v3(s,r,o,u,m,y){m=y3(m),u.context===null?u.context=m:u.pendingContext=m,u=hr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=fr(s,u,r),o!==null&&(En(o,s,r),dc(o,s,r))}function b3(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Qm(s,r){b3(s,r),(s=s.alternate)&&b3(s,r)}function _3(s){if(s.tag===13){var r=rr(s,67108864);r!==null&&En(r,s,67108864),Qm(s,67108864)}}var hh=!0;function j9(s,r,o,u){var m=C.T;C.T=null;var y=ie.p;try{ie.p=2,Xm(s,r,o,u)}finally{ie.p=y,C.T=m}}function M9(s,r,o,u){var m=C.T;C.T=null;var y=ie.p;try{ie.p=8,Xm(s,r,o,u)}finally{ie.p=y,C.T=m}}function Xm(s,r,o,u){if(hh){var m=Zm(u);if(m===null)Um(s,r,u,fh,o),w3(s,u);else if(L9(m,s,r,o,u))u.stopPropagation();else if(w3(s,u),r&4&&-1<V9.indexOf(s)){for(;m!==null;){var y=rs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=gi(y.pendingLanes);if(w!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var U=1<<31-_n(w);A.entanglements[1]|=U,w&=~U}$i(y),(gt&6)===0&&(Qd=Nn()+500,wc(0))}}break;case 13:A=rr(y,2),A!==null&&En(A,y,2),Jd(),Qm(y,2)}if(y=Zm(u),y===null&&Um(s,r,u,fh,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else Um(s,r,u,null,o)}}function Zm(s){return s=ho(s),Jm(s)}var fh=null;function Jm(s){if(fh=null,s=yi(s),s!==null){var r=se(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=Re(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return fh=s,null}function x3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zu()){case Vt:return 2;case Kt:return 8;case is:case Ju:return 32;case Il:return 268435456;default:return 32}default:return 32}}var ep=!1,_r=null,xr=null,wr=null,Nc=new Map,Ic=new Map,Tr=[],V9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w3(s,r){switch(s){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Nc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(r.pointerId)}}function Pc(s,r,o,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},r!==null&&(r=rs(r),r!==null&&_3(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function L9(s,r,o,u,m){switch(r){case"focusin":return _r=Pc(_r,s,r,o,u,m),!0;case"dragenter":return xr=Pc(xr,s,r,o,u,m),!0;case"mouseover":return wr=Pc(wr,s,r,o,u,m),!0;case"pointerover":var y=m.pointerId;return Nc.set(y,Pc(Nc.get(y)||null,s,r,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Ic.set(y,Pc(Ic.get(y)||null,s,r,o,u,m)),!0}return!1}function T3(s){var r=yi(s.target);if(r!==null){var o=se(r);if(o!==null){if(r=o.tag,r===13){if(r=Re(o),r!==null){s.blockedOn=r,Qs(s.priority,function(){if(o.tag===13){var u=qn(),m=rr(o,u);m!==null&&En(m,o,u),Qm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Zm(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Yn=u,o.target.dispatchEvent(u),Yn=null}else return r=rs(o),r!==null&&_3(r),s.blockedOn=o,!1;r.shift()}return!0}function E3(s,r,o){mh(s)&&o.delete(r)}function U9(){ep=!1,_r!==null&&mh(_r)&&(_r=null),xr!==null&&mh(xr)&&(xr=null),wr!==null&&mh(wr)&&(wr=null),Nc.forEach(E3),Ic.forEach(E3)}function ph(s,r){s.blockedOn===r&&(s.blockedOn=null,ep||(ep=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,U9)))}var gh=null;function C3(s){gh!==s&&(gh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gh===s&&(gh=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(Jm(u||o)===null)continue;break}var y=rs(o);y!==null&&(s.splice(r,3),r-=3,H0(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Dc(s){function r(U){return ph(U,s)}_r!==null&&ph(_r,s),xr!==null&&ph(xr,s),wr!==null&&ph(wr,s),Nc.forEach(r),Ic.forEach(r);for(var o=0;o<Tr.length;o++){var u=Tr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Tr.length&&(o=Tr[0],o.blockedOn===null);)T3(o),o.blockedOn===null&&Tr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],w=m[Lt]||null;if(typeof y=="function")w||C3(o);else if(w){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,w=y[Lt]||null)A=w.formAction;else if(Jm(m)!==null)continue}else A=w.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),C3(o)}}}function tp(s){this._internalRoot=s}yh.prototype.render=tp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=qn();v3(o,u,s,r,null,null)},yh.prototype.unmount=tp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;s.tag===0&&Fo(),v3(s.current,2,null,s,null,null),Jd(),r[ss]=null}};function yh(s){this._internalRoot=s}yh.prototype.unstable_scheduleHydration=function(s){if(s){var r=sd();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Tr.length&&r!==0&&r<Tr[o].priority;o++);Tr.splice(o,0,s),o===0&&T3(s)}};var S3=e.version;if(S3!=="19.0.0")throw Error(i(527,S3,"19.0.0"));ie.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=le(r),s=s!==null?me(s):null,s=s===null?null:s.stateNode,s};var B9={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:yi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{qs=vh.inject(B9),un=vh}catch{}}return Oc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=H1,y=q1,w=$1,A=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=g3(s,1,!1,null,null,o,u,m,y,w,A,null),s[ss]=r.current,Lm(s.nodeType===8?s.parentNode:s),new tp(r)},Oc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",y=H1,w=q1,A=$1,U=null,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(q=o.formState)),r=g3(s,1,!0,r,o??null,u,m,y,w,A,U,q),r.context=y3(null),o=r.current,u=qn(),m=hr(u),m.callback=null,fr(o,m,u),r.current.lanes=u,Ct(r,u),$i(r),s[ss]=r.current,Lm(s),new yh(r)},Oc.version="19.0.0",Oc}var M3;function Q9(){if(M3)return sp.exports;M3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sp.exports=Y9(),sp.exports}var X9=Q9();const Z9=nw(X9);var jc={},V3;function J9(){if(V3)return jc;V3=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.parse=c,jc.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,E){const R=new l,V=T.length;if(V<2)return R;const N=(E==null?void 0:E.decode)||v;let D=0;do{const j=T.indexOf("=",D);if(j===-1)break;const L=T.indexOf(";",D),Y=L===-1?V:L;if(j>Y){D=T.lastIndexOf(";",j-1)+1;continue}const K=d(T,D,j),$=f(T,j,K),O=T.slice(K,$);if(R[O]===void 0){let S=d(T,j+1,Y),C=f(T,Y,S);const k=N(T.slice(S,C));R[O]=k}D=Y+1}while(D<V);return R}function d(T,E,R){do{const V=T.charCodeAt(E);if(V!==32&&V!==9)return E}while(++E<R);return R}function f(T,E,R){for(;E>R;){const V=T.charCodeAt(--E);if(V!==32&&V!==9)return E+1}return R}function g(T,E,R){const V=(R==null?void 0:R.encode)||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const N=V(E);if(!e.test(N))throw new TypeError(`argument val is invalid: ${E}`);let D=T+"="+N;if(!R)return D;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);D+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);D+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);D+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);D+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(D+="; HttpOnly"),R.secure&&(D+="; Secure"),R.partitioned&&(D+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return D}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return a.call(T)==="[object Date]"}return jc}J9();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L3="popstate";function eC(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Up("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:mu(a)}return nC(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ei(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tC(){return Math.random().toString(36).substring(2,10)}function U3(t,e){return{usr:t.state,key:t.key,idx:e}}function Up(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||i||tC()}}function mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function nC(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",f=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let N=v(),D=N==null?null:N-g;g=N,f&&f({action:d,location:V.location,delta:D})}function T(N,D){d="PUSH";let j=Up(V.location,N,D);g=v()+1;let L=U3(j,g),Y=V.createHref(j);try{c.pushState(L,"",Y)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;a.location.assign(Y)}l&&f&&f({action:d,location:V.location,delta:1})}function E(N,D){d="REPLACE";let j=Up(V.location,N,D);g=v();let L=U3(j,g),Y=V.createHref(j);c.replaceState(L,"",Y),l&&f&&f({action:d,location:V.location,delta:0})}function R(N){let D=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof N=="string"?N:mu(N);return j=j.replace(/ $/,"%20"),ft(D,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,D)}let V={get action(){return d},get location(){return t(a,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(L3,_),f=N,()=>{a.removeEventListener(L3,_),f=null}},createHref(N){return e(a,N)},createURL:R,encodeLocation(N){let D=R(N);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:T,replace:E,go(N){return c.go(N)}};return V}function iw(t,e,n="/"){return iC(t,e,n,!1)}function iC(t,e,n,i){let a=typeof e=="string"?gl(e):e,l=Ms(a.pathname||"/",n);if(l==null)return null;let c=sw(t);sC(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let g=pC(l);d=fC(c[f],g,i)}return d}function sw(t,e=[],n=[],i=""){let a=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(ft(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=ks([i,f.relativePath]),v=n.concat(f);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sw(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:dC(g,l.index),routesMeta:v})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let f of rw(l.path))a(l,c,f)}),e}function rw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=rw(i.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function sC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var rC=/^:[\w-]+$/,aC=3,oC=2,lC=1,cC=10,uC=-2,B3=t=>t==="*";function dC(t,e){let n=t.split("/"),i=n.length;return n.some(B3)&&(i+=uC),e&&(i+=oC),n.filter(a=>!B3(a)).reduce((a,l)=>a+(rC.test(l)?aC:l===""?lC:cC),i)}function hC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function fC(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Kh({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},v),T=f.route;if(!_&&g&&n&&!i[i.length-1].route.index&&(_=Kh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:ks([l,_.pathname]),pathnameBase:bC(ks([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=ks([l,_.pathnameBase]))}return c}function Kh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=mC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:_},T)=>{if(v==="*"){let R=d[T]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const E=d[T];return _&&!E?g[v]=void 0:g[v]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function mC(t,e=!1,n=!0){Ei(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function pC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function gC(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?gl(t):t;return{pathname:n?n.startsWith("/")?n:yC(n,e):e,search:_C(i),hash:xC(a)}}function yC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j2(t){let e=vC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function M2(t,e,n,i=!1){let a;typeof t=="string"?a=gl(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),lp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),lp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),lp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}d=_>=0?e[_]:"/"}let f=gC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||v)&&(f.pathname+="/"),f}var ks=t=>t.join("/").replace(/\/\/+/g,"/"),bC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_C=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var aw=["POST","PUT","PATCH","DELETE"];new Set(aw);var TC=["GET",...aw];new Set(TC);var yl=I.createContext(null);yl.displayName="DataRouter";var Af=I.createContext(null);Af.displayName="DataRouterState";var ow=I.createContext({isTransitioning:!1});ow.displayName="ViewTransition";var EC=I.createContext(new Map);EC.displayName="Fetchers";var CC=I.createContext(null);CC.displayName="Await";var Ai=I.createContext(null);Ai.displayName="Navigation";var ku=I.createContext(null);ku.displayName="Location";var Ri=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var V2=I.createContext(null);V2.displayName="RouteError";function SC(t,{relative:e}={}){ft(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Ai),{hash:a,pathname:l,search:c}=Ou(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ks([n,l])),i.createHref({pathname:d,search:c,hash:a})}function vl(){return I.useContext(ku)!=null}function mi(){return ft(vl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ku).location}var lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cw(t){I.useContext(Ai).static||I.useLayoutEffect(t)}function bn(){let{isDataRoute:t}=I.useContext(Ri);return t?UC():AC()}function AC(){ft(vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(yl),{basename:e,navigator:n}=I.useContext(Ai),{matches:i}=I.useContext(Ri),{pathname:a}=mi(),l=JSON.stringify(j2(i)),c=I.useRef(!1);return cw(()=>{c.current=!0}),I.useCallback((f,g={})=>{if(Ei(c.current,lw),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=M2(f,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ks([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}I.createContext(null);function uw(){let{matches:t}=I.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function Ou(t,{relative:e}={}){let{matches:n}=I.useContext(Ri),{pathname:i}=mi(),a=JSON.stringify(j2(n));return I.useMemo(()=>M2(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function RC(t,e){return dw(t,e)}function dw(t,e,n,i){var j;ft(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=I.useContext(Ai),{matches:c}=I.useContext(Ri),d=c[c.length-1],f=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let L=_&&_.path||"";hw(g,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let T=mi(),E;if(e){let L=typeof e=="string"?gl(e):e;ft(v==="/"||((j=L.pathname)==null?void 0:j.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=T;let R=E.pathname||"/",V=R;if(v!=="/"){let L=v.replace(/^\//,"").split("/");V="/"+R.replace(/^\//,"").split("/").slice(L.length).join("/")}let N=!l&&n&&n.matches&&n.matches.length>0?n.matches:iw(t,{pathname:V});Ei(_||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ei(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=kC(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:ks([v,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:ks([v,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,n,i);return e&&D?I.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function NC(){let t=LC(),e=wC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,c)}var IC=I.createElement(NC,null),PC=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Ri.Provider,{value:this.props.routeContext},I.createElement(V2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DC({routeContext:t,match:e,children:n}){let i=I.useContext(yl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ri.Provider,{value:t},n)}function kC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let f=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:v,errors:_}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,g,v)=>{let _,T=!1,E=null,R=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,E=g.route.errorElement||IC,c&&(d<0&&v===0?(hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,R=null):d===v&&(T=!0,R=g.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,v+1)),N=()=>{let D;return _?D=E:T?D=R:g.route.Component?D=I.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=f,I.createElement(DC,{match:g,routeContext:{outlet:f,matches:V,isDataRoute:n!=null},children:D})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?I.createElement(PC,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:N(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):N()},null)}function L2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OC(t){let e=I.useContext(yl);return ft(e,L2(t)),e}function jC(t){let e=I.useContext(Af);return ft(e,L2(t)),e}function MC(t){let e=I.useContext(Ri);return ft(e,L2(t)),e}function U2(t){let e=MC(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function VC(){return U2("useRouteId")}function LC(){var i;let t=I.useContext(V2),e=jC("useRouteError"),n=U2("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function UC(){let{router:t}=OC("useNavigate"),e=U2("useNavigate"),n=I.useRef(!1);return cw(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Ei(n.current,lw),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var F3={};function hw(t,e,n){!e&&!F3[t]&&(F3[t]=!0,Ei(!1,n))}I.memo(BC);function BC({routes:t,future:e,state:n}){return dw(t,void 0,n,e)}function fw({to:t,replace:e,state:n,relative:i}){ft(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Ai);Ei(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Ri),{pathname:c}=mi(),d=bn(),f=M2(t,j2(l),c,i==="path"),g=JSON.stringify(f);return I.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:i})},[d,g,i,e,n]),null}function At(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ft(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=gl(n));let{pathname:f="/",search:g="",hash:v="",state:_=null,key:T="default"}=n,E=I.useMemo(()=>{let R=Ms(f,c);return R==null?null:{location:{pathname:R,search:g,hash:v,state:_,key:T},navigationType:i}},[c,f,g,v,_,T,i]);return Ei(E!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:I.createElement(Ai.Provider,{value:d},I.createElement(ku.Provider,{children:e,value:E}))}function zC({children:t,location:e}){return RC(Bp(t),e)}function Bp(t,e=[]){let n=[];return I.Children.forEach(t,(i,a)=>{if(!I.isValidElement(i))return;let l=[...e,a];if(i.type===I.Fragment){n.push.apply(n,Bp(i.props.children,l));return}ft(i.type===At,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Bp(i.props.children,l)),n.push(c)}),n}var Dh="get",kh="application/x-www-form-urlencoded";function Rf(t){return t!=null&&typeof t.tagName=="string"}function HC(t){return Rf(t)&&t.tagName.toLowerCase()==="button"}function qC(t){return Rf(t)&&t.tagName.toLowerCase()==="form"}function $C(t){return Rf(t)&&t.tagName.toLowerCase()==="input"}function GC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KC(t,e){return t.button===0&&(!e||e==="_self")&&!GC(t)}var bh=null;function WC(){if(bh===null)try{new FormData(document.createElement("form"),0),bh=!1}catch{bh=!0}return bh}var YC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(t){return t!=null&&!YC.has(t)?(Ei(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):t}function QC(t,e){let n,i,a,l,c;if(qC(t)){let d=t.getAttribute("action");i=d?Ms(d,e):null,n=t.getAttribute("method")||Dh,a=cp(t.getAttribute("enctype"))||kh,l=new FormData(t)}else if(HC(t)||$C(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Ms(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Dh,a=cp(t.getAttribute("formenctype"))||cp(d.getAttribute("enctype"))||kh,l=new FormData(d,t),!WC()){let{name:g,type:v,value:_}=t;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,_)}}else{if(Rf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dh,i=null,a=kh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function B2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function XC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function JC(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await XC(l,n);return c.links?c.links():[]}return[]}));return iS(i.flat(1).filter(ZC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function z3(t,e,n,i,a,l){let c=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,d=(f,g)=>{var v;return n[g].pathname!==f.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,g)=>c(f,g)||d(f,g)):l==="data"?e.filter((f,g)=>{var _;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function eS(t,e,{includeHydrateFallback:n}={}){return tS(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function tS(t){return[...new Set(t)]}function nS(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function iS(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(nS(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function sS(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ms(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function mw(){let t=I.useContext(yl);return B2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rS(){let t=I.useContext(Af);return B2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var F2=I.createContext(void 0);F2.displayName="FrameworkContext";function pw(){let t=I.useContext(F2);return B2(t,"You must render this element inside a <HydratedRouter> element"),t}function aS(t,e){let n=I.useContext(F2),[i,a]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,T=I.useRef(null);I.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let V=D=>{D.forEach(j=>{c(j.isIntersecting)})},N=new IntersectionObserver(V,{threshold:.5});return T.current&&N.observe(T.current),()=>{N.disconnect()}}},[t]),I.useEffect(()=>{if(i){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[i]);let E=()=>{a(!0)},R=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Mc(d,E),onBlur:Mc(f,R),onMouseEnter:Mc(g,E),onMouseLeave:Mc(v,R),onTouchStart:Mc(_,E)}]:[!1,T,{}]}function Mc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oS({page:t,...e}){let{router:n}=mw(),i=I.useMemo(()=>iw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?I.createElement(cS,{page:t,matches:i,...e}):null}function lS(t){let{manifest:e,routeModules:n}=pw(),[i,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return JC(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function cS({page:t,matches:e,...n}){let i=mi(),{manifest:a,routeModules:l}=pw(),{basename:c}=mw(),{loaderData:d,matches:f}=rS(),g=I.useMemo(()=>z3(t,e,f,a,i,"data"),[t,e,f,a,i]),v=I.useMemo(()=>z3(t,e,f,a,i,"assets"),[t,e,f,a,i]),_=I.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let R=new Set,V=!1;if(e.forEach(D=>{var L;let j=a.routes[D.route.id];!j||!j.hasLoader||(!g.some(Y=>Y.route.id===D.route.id)&&D.route.id in d&&((L=l[D.route.id])!=null&&L.shouldRevalidate)||j.hasClientLoader?V=!0:R.add(D.route.id))}),R.size===0)return[];let N=sS(t,c);return V&&R.size>0&&N.searchParams.set("_routes",e.filter(D=>R.has(D.route.id)).map(D=>D.route.id).join(",")),[N.pathname+N.search]},[c,d,i,a,g,e,t,l]),T=I.useMemo(()=>eS(v,a),[v,a]),E=lS(v);return I.createElement(I.Fragment,null,_.map(R=>I.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),T.map(R=>I.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),E.map(({key:R,link:V})=>I.createElement("link",{key:R,...V})))}function uS(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gw&&(window.__reactRouterVersion="7.5.0")}catch{}function dS({basename:t,children:e,window:n}){let i=I.useRef();i.current==null&&(i.current=eC({window:n,v5Compat:!0}));let a=i.current,[l,c]=I.useState({action:a.action,location:a.location}),d=I.useCallback(f=>{I.startTransition(()=>c(f))},[c]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.createElement(FC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bl=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:g,preventScrollReset:v,viewTransition:_,...T},E){let{basename:R}=I.useContext(Ai),V=typeof g=="string"&&yw.test(g),N,D=!1;if(typeof g=="string"&&V&&(N=g,gw))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),B=Ms(k.pathname,R);k.origin===C.origin&&B!=null?g=B+k.search+k.hash:D=!0}catch{Ei(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=SC(g,{relative:a}),[L,Y,K]=aS(i,T),$=mS(g,{replace:c,state:d,target:f,preventScrollReset:v,relative:a,viewTransition:_});function O(C){e&&e(C),C.defaultPrevented||$(C)}let S=I.createElement("a",{...T,...K,href:N||j,onClick:D||l?e:O,ref:uS(E,Y),target:f,"data-discover":!V&&n==="render"?"true":void 0});return L&&!V?I.createElement(I.Fragment,null,S,I.createElement(oS,{page:j})):S});bl.displayName="Link";var $c=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...g},v){let _=Ou(c,{relative:g.relative}),T=mi(),E=I.useContext(Af),{navigator:R,basename:V}=I.useContext(Ai),N=E!=null&&bS(_)&&d===!0,D=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,j=T.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(j=j.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&V&&(L=Ms(L,V)||L);const Y=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let K=j===D||!a&&j.startsWith(D)&&j.charAt(Y)==="/",$=L!=null&&(L===D||!a&&L.startsWith(D)&&L.charAt(D.length)==="/"),O={isActive:K,isPending:$,isTransitioning:N},S=K?e:void 0,C;typeof i=="function"?C=i(O):C=[i,K?"active":null,$?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(O):l;return I.createElement(bl,{...g,"aria-current":S,className:C,ref:v,style:k,to:c,viewTransition:d},typeof f=="function"?f(O):f)});$c.displayName="NavLink";var hS=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Dh,action:d,onSubmit:f,relative:g,preventScrollReset:v,viewTransition:_,...T},E)=>{let R=yS(),V=vS(d,{relative:g}),N=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&yw.test(d),j=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let Y=L.nativeEvent.submitter,K=(Y==null?void 0:Y.getAttribute("formmethod"))||c;R(Y||L.currentTarget,{fetcherKey:e,method:K,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:_})};return I.createElement("form",{ref:E,method:N,action:V,onSubmit:i?f:j,...T,"data-discover":!D&&t==="render"?"true":void 0})});hS.displayName="Form";function fS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vw(t){let e=I.useContext(yl);return ft(e,fS(t)),e}function mS(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=bn(),f=mi(),g=Ou(t,{relative:l});return I.useCallback(v=>{if(KC(v,e)){v.preventDefault();let _=n!==void 0?n:mu(f)===mu(g);d(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[f,d,g,n,i,e,t,a,l,c])}var pS=0,gS=()=>`__${String(++pS)}__`;function yS(){let{router:t}=vw("useSubmit"),{basename:e}=I.useContext(Ai),n=VC();return I.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:f,body:g}=QC(i,e);if(a.navigate===!1){let v=a.fetcherKey||gS();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function vS(t,{relative:e}={}){let{basename:n}=I.useContext(Ai),i=I.useContext(Ri);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Ou(t||".",{relative:e})},c=mi();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ks([n,l.pathname])),mu(l)}function bS(t,e={}){let n=I.useContext(ow);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vw("useViewTransitionState"),a=Ou(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Ms(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ms(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Kh(a.pathname,c)!=null||Kh(a.pathname,l)!=null}new TextEncoder;function bw(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bw(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Ma(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bw(t))&&(i&&(i+=" "),i+=e);return i}function _S(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}_S(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ju=t=>typeof t=="number"&&!isNaN(t),Ua=t=>typeof t=="string",Vs=t=>typeof t=="function",xS=t=>Ua(t)||ju(t),Fp=t=>Ua(t)||Vs(t)?t:null,wS=(t,e)=>t===!1||ju(t)&&t>0?t:e,zp=t=>I.isValidElement(t)||Ua(t)||Vs(t)||ju(t);function TS(t,e,n=300){let{scrollHeight:i,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function ES({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:f,nodeRef:g,isIn:v,playToast:_}){let T=n?`${t}--${c}`:t,E=n?`${e}--${c}`:e,R=I.useRef(0);return I.useLayoutEffect(()=>{let V=g.current,N=T.split(" "),D=j=>{j.target===g.current&&(_(),V.removeEventListener("animationend",D),V.removeEventListener("animationcancel",D),R.current===0&&j.type!=="animationcancel"&&V.classList.remove(...N))};V.classList.add(...N),V.addEventListener("animationend",D),V.addEventListener("animationcancel",D)},[]),I.useEffect(()=>{let V=g.current,N=()=>{V.removeEventListener("animationend",N),i?TS(V,f,a):f()};v||(d?N():(R.current=1,V.className+=` ${E}`,V.addEventListener("animationend",N)))},[v]),Qe.createElement(Qe.Fragment,null,l)}}function H3(t,e){return{content:_w(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function _w(t,e,n=!1){return I.isValidElement(t)&&!Ua(t.type)?I.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Vs(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function CS({closeToast:t,theme:e,ariaLabel:n="close"}){return Qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},Qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function SS({delay:t,isRunning:e,closeToast:n,type:i="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:f,isIn:g,theme:v}){let _=a||c&&d===0,T={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(T.transform=`scaleX(${d})`);let E=Ma("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),R=Vs(l)?l({rtl:f,type:i,defaultClassName:E}):Ma(E,l),V={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&n()}};return Qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),Qe.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:R,style:T,...V}))}var AS=1,xw=()=>`${AS++}`;function RS(t,e,n){let i=1,a=0,l=[],c=[],d=e,f=new Map,g=new Set,v=j=>(g.add(j),()=>g.delete(j)),_=()=>{c=Array.from(f.values()),g.forEach(j=>j())},T=({containerId:j,toastId:L,updateId:Y})=>{let K=j?j!==t:t!==1,$=f.has(L)&&Y==null;return K||$},E=(j,L)=>{f.forEach(Y=>{var K;(L==null||L===Y.props.toastId)&&((K=Y.toggle)==null||K.call(Y,j))})},R=j=>{var L,Y;(Y=(L=j.props)==null?void 0:L.onClose)==null||Y.call(L,j.removalReason),j.isActive=!1},V=j=>{if(j==null)f.forEach(R);else{let L=f.get(j);L&&R(L)}_()},N=()=>{a-=l.length,l=[]},D=j=>{var L,Y;let{toastId:K,updateId:$}=j.props,O=$==null;j.staleId&&f.delete(j.staleId),j.isActive=!0,f.set(K,j),_(),n(H3(j,O?"added":"updated")),O&&((Y=(L=j.props).onOpen)==null||Y.call(L))};return{id:t,props:d,observe:v,toggle:E,removeToast:V,toasts:f,clearQueue:N,buildToast:(j,L)=>{if(T(L))return;let{toastId:Y,updateId:K,data:$,staleId:O,delay:S}=L,C=K==null;C&&a++;let k={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(L).filter(([z,M])=>M!=null)),toastId:Y,updateId:K,data:$,isIn:!1,className:Fp(L.className||d.toastClassName),progressClassName:Fp(L.progressClassName||d.progressClassName),autoClose:L.isLoading?!1:wS(L.autoClose,d.autoClose),closeToast(z){f.get(Y).removalReason=z,V(Y)},deleteToast(){let z=f.get(Y);if(z!=null){if(n(H3(z,"removed")),f.delete(Y),a--,a<0&&(a=0),l.length>0){D(l.shift());return}_()}}};k.closeButton=d.closeButton,L.closeButton===!1||zp(L.closeButton)?k.closeButton=L.closeButton:L.closeButton===!0&&(k.closeButton=zp(d.closeButton)?d.closeButton:!0);let B={content:j,props:k,staleId:O};d.limit&&d.limit>0&&a>d.limit&&C?l.push(B):ju(S)?setTimeout(()=>{D(B)},S):D(B)},setProps(j){d=j},setToggle:(j,L)=>{let Y=f.get(j);Y&&(Y.toggle=L)},isToastActive:j=>{var L;return(L=f.get(j))==null?void 0:L.isActive},getSnapshot:()=>c}}var Cn=new Map,pu=[],Hp=new Set,NS=t=>Hp.forEach(e=>e(t)),ww=()=>Cn.size>0;function IS(){pu.forEach(t=>Ew(t.content,t.options)),pu=[]}var PS=(t,{containerId:e})=>{var n;return(n=Cn.get(e||1))==null?void 0:n.toasts.get(t)};function Tw(t,e){var n;if(e)return!!((n=Cn.get(e))!=null&&n.isToastActive(t));let i=!1;return Cn.forEach(a=>{a.isToastActive(t)&&(i=!0)}),i}function DS(t){if(!ww()){pu=pu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||xS(t))Cn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Cn.get(t.containerId);e?e.removeToast(t.id):Cn.forEach(n=>{n.removeToast(t.id)})}}var kS=(t={})=>{Cn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Ew(t,e){zp(t)&&(ww()||pu.push({content:t,options:e}),Cn.forEach(n=>{n.buildToast(t,e)}))}function OS(t){var e;(e=Cn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Cw(t,e){Cn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function jS(t){let e=t.containerId||1;return{subscribe(n){let i=RS(e,t,NS);Cn.set(e,i);let a=i.observe(n);return IS(),()=>{a(),Cn.delete(e)}},setProps(n){var i;(i=Cn.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Cn.get(e))==null?void 0:n.getSnapshot()}}}function MS(t){return Hp.add(t),()=>{Hp.delete(t)}}function VS(t){return t&&(Ua(t.toastId)||ju(t.toastId))?t.toastId:xw()}function Mu(t,e){return Ew(t,e),e.toastId}function Nf(t,e){return{...e,type:e&&e.type||t,toastId:VS(e)}}function If(t){return(e,n)=>Mu(e,Nf(t,n))}function Ie(t,e){return Mu(t,Nf("default",e))}Ie.loading=(t,e)=>Mu(t,Nf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function LS(t,{pending:e,error:n,success:i},a){let l;e&&(l=Ua(e)?Ie.loading(e,a):Ie.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,v,_)=>{if(v==null){Ie.dismiss(l);return}let T={type:g,...c,...a,data:_},E=Ua(v)?{render:v}:v;return l?Ie.update(l,{...T,...E}):Ie(E.render,{...T,...E}),_},f=Vs(t)?t():t;return f.then(g=>d("success",i,g)).catch(g=>d("error",n,g)),f}Ie.promise=LS;Ie.success=If("success");Ie.info=If("info");Ie.error=If("error");Ie.warning=If("warning");Ie.warn=Ie.warning;Ie.dark=(t,e)=>Mu(t,Nf("default",{theme:"dark",...e}));function US(t){DS(t)}Ie.dismiss=US;Ie.clearWaitingQueue=kS;Ie.isActive=Tw;Ie.update=(t,e={})=>{let n=PS(t,e);if(n){let{props:i,content:a}=n,l={delay:100,...i,...e,toastId:e.toastId||t,updateId:xw()};l.toastId!==t&&(l.staleId=t);let c=l.render||a;delete l.render,Mu(c,l)}};Ie.done=t=>{Ie.update(t,{progress:1})};Ie.onChange=MS;Ie.play=t=>Cw(!0,t);Ie.pause=t=>Cw(!1,t);function BS(t){var e;let{subscribe:n,getSnapshot:i,setProps:a}=I.useRef(jS(t)).current;a(t);let l=(e=I.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function c(d){if(!l)return[];let f=new Map;return t.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:v}=g.props;f.has(v)||f.set(v,[]),f.get(v).push(g)}),Array.from(f,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:Tw,count:l==null?void 0:l.length}}function FS(t){let[e,n]=I.useState(!1),[i,a]=I.useState(!1),l=I.useRef(null),c=I.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:g,onClick:v,closeOnClick:_}=t;OS({id:t.toastId,containerId:t.containerId,fn:n}),I.useEffect(()=>{if(t.pauseOnFocusLoss)return T(),()=>{E()}},[t.pauseOnFocusLoss]);function T(){document.hasFocus()||D(),window.addEventListener("focus",N),window.addEventListener("blur",D)}function E(){window.removeEventListener("focus",N),window.removeEventListener("blur",D)}function R(O){if(t.draggable===!0||t.draggable===O.pointerType){j();let S=l.current;c.canCloseOnClick=!0,c.canDrag=!0,S.style.transition="none",t.draggableDirection==="x"?(c.start=O.clientX,c.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(c.start=O.clientY,c.removalDistance=S.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function V(O){let{top:S,bottom:C,left:k,right:B}=l.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&t.pauseOnHover&&O.clientX>=k&&O.clientX<=B&&O.clientY>=S&&O.clientY<=C?D():N()}function N(){n(!0)}function D(){n(!1)}function j(){c.didMove=!1,document.addEventListener("pointermove",Y),document.addEventListener("pointerup",K)}function L(){document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",K)}function Y(O){let S=l.current;if(c.canDrag&&S){c.didMove=!0,e&&D(),t.draggableDirection==="x"?c.delta=O.clientX-c.start:c.delta=O.clientY-c.start,c.start!==O.clientX&&(c.canCloseOnClick=!1);let C=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;S.style.transform=`translate3d(${C},0)`,S.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function K(){L();let O=l.current;if(c.canDrag&&c.didMove&&O){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let $={onPointerDown:R,onPointerUp:V};return d&&f&&($.onMouseEnter=D,t.stacked||($.onMouseLeave=N)),_&&($.onClick=O=>{v&&v(O),c.canCloseOnClick&&g(!0)}),{playToast:N,pauseToast:D,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:$}}var zS=typeof window<"u"?I.useLayoutEffect:I.useEffect,Pf=({theme:t,type:e,isLoading:n,...i})=>Qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function HS(t){return Qe.createElement(Pf,{...t},Qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function qS(t){return Qe.createElement(Pf,{...t},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function $S(t){return Qe.createElement(Pf,{...t},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function GS(t){return Qe.createElement(Pf,{...t},Qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function KS(){return Qe.createElement("div",{className:"Toastify__spinner"})}var qp={info:qS,warning:HS,success:$S,error:GS,spinner:KS},WS=t=>t in qp;function YS({theme:t,type:e,isLoading:n,icon:i}){let a=null,l={theme:t,type:e};return i===!1||(Vs(i)?a=i({...l,isLoading:n}):I.isValidElement(i)?a=I.cloneElement(i,l):n?a=qp.spinner():WS(e)&&(a=qp[e](l))),a}var QS=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:l}=FS(t),{closeButton:c,children:d,autoClose:f,onClick:g,type:v,hideProgressBar:_,closeToast:T,transition:E,position:R,className:V,style:N,progressClassName:D,updateId:j,role:L,progress:Y,rtl:K,toastId:$,deleteToast:O,isIn:S,isLoading:C,closeOnClick:k,theme:B,ariaLabel:z}=t,M=Ma("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":K},{"Toastify__toast--close-on-click":k}),ue=Vs(V)?V({rtl:K,position:R,type:v,defaultClassName:M}):Ma(M,V),Xe=YS(t),de=!!Y||!f,G={closeToast:T,type:v,theme:B},se=null;return c===!1||(Vs(c)?se=c(G):I.isValidElement(c)?se=I.cloneElement(c,G):se=CS(G)),Qe.createElement(E,{isIn:S,done:O,position:R,preventExitTransition:n,nodeRef:i,playToast:l},Qe.createElement("div",{id:$,tabIndex:0,onClick:g,"data-in":S,className:ue,...a,style:N,ref:i,...S&&{role:L,"aria-label":z}},Xe!=null&&Qe.createElement("div",{className:Ma("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},Xe),_w(d,t,!e),se,!t.customProgressBar&&Qe.createElement(SS,{...j&&!de?{key:`p-${j}`}:{},rtl:K,theme:B,delay:f,isRunning:e,isIn:S,closeToast:T,hide:_,type:v,className:D,controlledProgress:de,progress:Y||0})))},XS=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),ZS=ES(XS("bounce",!0)),JS={position:"top-right",transition:ZS,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function e8(t){let e={...JS,...t},n=t.stacked,[i,a]=I.useState(!0),l=I.useRef(null),{getToastToRender:c,isToastActive:d,count:f}=BS(e),{className:g,style:v,rtl:_,containerId:T,hotKeys:E}=e;function R(N){let D=Ma("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":_});return Vs(g)?g({position:N,rtl:_,defaultClassName:D}):Ma(D,Fp(g))}function V(){n&&(a(!0),Ie.play())}return zS(()=>{var N;if(n){let D=l.current.querySelectorAll('[data-in="true"]'),j=12,L=(N=e.position)==null?void 0:N.includes("top"),Y=0,K=0;Array.from(D).reverse().forEach(($,O)=>{let S=$;S.classList.add("Toastify__toast--stacked"),O>0&&(S.dataset.collapsed=`${i}`),S.dataset.pos||(S.dataset.pos=L?"top":"bot");let C=Y*(i?.2:1)+(i?0:j*O);S.style.setProperty("--y",`${L?C:C*-1}px`),S.style.setProperty("--g",`${j}`),S.style.setProperty("--s",`${1-(i?K:0)}`),Y+=S.offsetHeight,K+=.025})}},[i,f,n]),I.useEffect(()=>{function N(D){var j;let L=l.current;E(D)&&((j=L.querySelector('[tabIndex="0"]'))==null||j.focus(),a(!1),Ie.pause()),D.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(a(!0),Ie.play())}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[E]),Qe.createElement("section",{ref:l,className:"Toastify",id:T,onMouseEnter:()=>{n&&(a(!1),Ie.pause())},onMouseLeave:V,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((N,D)=>{let j=D.length?{...v}:{...v,pointerEvents:"none"};return Qe.createElement("div",{tabIndex:-1,className:R(N),"data-stacked":n,style:j,key:`c-${N}`},D.map(({content:L,props:Y})=>Qe.createElement(QS,{...Y,stacked:n,collapseAll:V,isIn:d(Y.toastId,Y.containerId),key:`t-${Y.key}`},L)))}))}const Vc="/united-feeds/assets/feedBag2-BwodKx8f.svg",Sa="/united-feeds/assets/feedBag3-BIzyqXbV.svg",Lc="/united-feeds/assets/feedBag4-DM7GmQqf.png",_h="/united-feeds/assets/feedBag5-DNoN6LdN.png",xh="/united-feeds/assets/feedBag6-CSK_FpBQ.png",Uc="/united-feeds/assets/feedBagD2-BD_gxZRj.png",Aa="/united-feeds/assets/feedBagD3-DQD8nU_N.png",Bc="/united-feeds/assets/feedBagD4-B33vXi6_.png",Cr="/united-feeds/assets/feedBagD3-DQD8nU_N.png",t8=[{_id:"1",name_en:"Barley 50 Kg - AL Rai",name_ar:" 50  - ",image:[Sa,Aa],stars:5,price:55.8,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers. Features of whole barley: Easily available at all stations, easy to store.",description_ar:"           .     .    :       .",category:"Barley",productType:"Whole",size:50,bestseller:!0,arrivalDate:"2025-03-10",isDiscounted:!1,inStock:!0},{_id:"2",name_en:"Rolled Barley 40Kg",name_ar:"  40 ",image:[Lc,Bc],stars:0,price:45.6,description_en:"A barley product that aids in accelerating the digestion process for animals, designed for feeding animals without any waste. It is the fastest and easiest to digest compared to regular barley. Features of rolled barley: Easily available at all stations, easy to store.",description_ar:"               .          .   :       .",category:"Barley",productType:"Whole",size:40,bestseller:!0,arrivalDate:"2025-03-03",isDiscounted:!0,inStock:!1},{_id:"3",name_en:"Barley 40 Kg - UFC",name_ar:" 40  - UFC",image:[_h,Cr],stars:4.6,price:45.4,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers. Features of whole barley: Easily available at all stations, easy to store.",description_ar:"           .     .    :       .",category:"Barley",productType:"Whole",size:40,bestseller:!0,arrivalDate:"2025-02-15",isDiscounted:!1,inStock:!0},{_id:"4",name_en:"Barley 50 Kg - UFC",name_ar:" 50  - UFC",image:[xh,Cr],stars:4.9,price:54.2,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers. Features of whole barley: Easily available at all stations, easy to store.",description_ar:"           .     .    :       .",category:"Barley",productType:"Whole",size:50,bestseller:!0,arrivalDate:"2025-03-08",isDiscounted:!0,inStock:!0},{_id:"5",name_en:"Barley 40 Kg - AL Rai",name_ar:" 40  - ",image:[Vc,Uc],stars:5,price:105.4,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers. Features of whole barley: Easily available at all stations, easy to store.",description_ar:"           .     .    :       .",category:"Barley",productType:"Whole",size:40,bestseller:!0,arrivalDate:"2025-03-01",isDiscounted:!1,inStock:!1},{_id:"6",name_en:"Barley 60 Kg - AL Rai",name_ar:" 60  - ",image:[Sa,Aa],stars:5,price:185.8,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers. Features of whole barley: Easily available at all stations, easy to store.",description_ar:"           .     .    :       .",category:"Barley",productType:"Whole",size:60,bestseller:!1,arrivalDate:"2025-02-10",isDiscounted:!0,inStock:!0},{_id:"7",name_en:"Barley 100 Kg - UFC",name_ar:" 100  - UFC",image:[Sa,Aa],stars:4.1,price:203,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers. Features of whole barley: Easily available at all stations, easy to store.",description_ar:"           .     .    :       .",category:"Barley",productType:"Whole",size:100,bestseller:!1,arrivalDate:"2025-01-15",isDiscounted:!1,inStock:!1},{_id:"8",name_en:"Barley 100 Kg",name_ar:" 100 ",image:[Sa,Aa],stars:4.7,price:173,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers. Features of whole barley: Easily available at all stations, easy to store.",description_ar:"           .     .    :       .",category:"Barley",productType:"Whole",size:100,bestseller:!1,arrivalDate:"2025-01-20",isDiscounted:!0,inStock:!0},{_id:"9",name_en:"Corn 50 Kg",name_ar:" 50 ",image:[Vc,Uc],stars:4.5,price:65,description_en:"Corn granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Corn",productType:"Whole",size:50,bestseller:!1,arrivalDate:"2025-03-09",isDiscounted:!1,inStock:!0},{_id:"10",name_en:"Corn 40 Kg",name_ar:" 40 ",image:[Sa,Aa],stars:4,price:50,description_en:"Corn granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Corn",productType:"Whole",size:40,bestseller:!1,arrivalDate:"2025-03-02",isDiscounted:!0,inStock:!0},{_id:"11",name_en:"Soya 50 Kg",name_ar:" 50 ",image:[Lc,Bc],stars:4.8,price:75,description_en:"Soya granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Soya",productType:"Whole",size:50,bestseller:!1,arrivalDate:"2025-02-20",isDiscounted:!1,inStock:!0},{_id:"12",name_en:"Soya 40 Kg",name_ar:" 40 ",image:[_h,Cr],stars:4.2,price:60,description_en:"Soya granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Soya",productType:"Whole",size:40,bestseller:!1,arrivalDate:"2025-03-07",isDiscounted:!0,inStock:!0},{_id:"13",name_en:"Wheat 50 Kg",name_ar:" 50 ",image:[xh,Cr],stars:4.3,price:55,description_en:"Wheat granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Wheat",productType:"Whole",size:50,bestseller:!1,arrivalDate:"2025-03-05",isDiscounted:!1,inStock:!0},{_id:"14",name_en:"Wheat 40 Kg",name_ar:" 40 ",image:[Vc,Uc],stars:4,price:45,description_en:"Wheat granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Wheat",productType:"Whole",size:40,bestseller:!1,arrivalDate:"2025-02-25",isDiscounted:!0,inStock:!0},{_id:"15",name_en:"Barley 60 Kg - UFC",name_ar:" 60  - UFC",image:[Lc,Bc],stars:4.4,price:70,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers.",description_ar:"           .     .",category:"Barley",productType:"Loose",size:60,bestseller:!1,arrivalDate:"2025-03-12",isDiscounted:!1,inStock:!0},{_id:"16",name_en:"Barley 50 Kg - Premium",name_ar:" 50  - ",image:[_h,Cr],stars:4.8,price:58,description_en:"A product consisting of nutrient-rich granules, providing animals with a healthy and sound structure. Cost-effective for consumers.",description_ar:"           .     .",category:"Barley",productType:"Whole",size:50,bestseller:!0,arrivalDate:"2025-03-01",isDiscounted:!0,inStock:!0},{_id:"17",name_en:"Corn 60 Kg - AL Rai",name_ar:" 60  - ",image:[xh,Cr],stars:4.2,price:80,description_en:"Corn granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Corn",productType:"Loose",size:60,bestseller:!1,arrivalDate:"2025-02-28",isDiscounted:!1,inStock:!0},{_id:"18",name_en:"Corn 100 Kg",name_ar:" 100 ",image:[Vc,Uc],stars:4.6,price:120,description_en:"Corn granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Corn",productType:"Whole",size:100,bestseller:!1,arrivalDate:"2025-01-10",isDiscounted:!0,inStock:!0},{_id:"19",name_en:"Soya 60 Kg - UFC",name_ar:" 60  - UFC",image:[Sa,Aa],stars:4.7,price:85,description_en:"Soya granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Soya",productType:"Loose",size:60,bestseller:!1,arrivalDate:"2025-03-11",isDiscounted:!1,inStock:!0},{_id:"20",name_en:"Soya 100 Kg",name_ar:" 100 ",image:[Lc,Bc],stars:4.3,price:150,description_en:"Soya granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Soya",productType:"Whole",size:100,bestseller:!1,arrivalDate:"2025-02-15",isDiscounted:!0,inStock:!0},{_id:"21",name_en:"Wheat 60 Kg - AL Rai",name_ar:" 60  - ",image:[_h,Cr],stars:4.5,price:65,description_en:"Wheat granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Wheat",productType:"Loose",size:60,bestseller:!1,arrivalDate:"2025-03-06",isDiscounted:!1,inStock:!0},{_id:"22",name_en:"Wheat 100 Kg - UFC",name_ar:" 100  - UFC",image:[xh,Cr],stars:4.1,price:110,description_en:"Wheat granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Wheat",productType:"Whole",size:100,bestseller:!1,arrivalDate:"2025-01-25",isDiscounted:!0,inStock:!0},{_id:"23",name_en:"AL Murrah Gold",name_ar:" ",image:[Vc,Uc],stars:0,price:50.44,description_en:"Premium feed product rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"          .",category:"Barley",productType:"Whole",size:50,bestseller:!0,arrivalDate:"2025-03-10",isDiscounted:!1,inStock:!0},{_id:"24",name_en:"Corn 50 Kg - Premium",name_ar:" 50  - ",image:[Sa,Aa],stars:4.9,price:70,description_en:"Corn granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Corn",productType:"Whole",size:50,bestseller:!0,arrivalDate:"2025-03-08",isDiscounted:!1,inStock:!0},{_id:"25",name_en:"Soya 40 Kg - AL Rai",name_ar:" 40  - ",image:[Lc,Bc],stars:4,price:55,description_en:"Soya granules rich in nutritional value, providing animals with a healthy and sound structure.",description_ar:"         .",category:"Soya",productType:"Loose",size:40,bestseller:!1,arrivalDate:"2025-02-10",isDiscounted:!0,inStock:!0}],n8=()=>{};var q3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},i8=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,g=f?t[a+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,E=g&63;f||(E=64,c||(T=64)),i.push(n[v],n[_],n[T],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new s8;const T=l<<2|d>>4;if(i.push(T),g!==64){const E=d<<4&240|g>>2;if(i.push(E),_!==64){const R=g<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r8=function(t){const e=Sw(t);return Aw.encodeByteArray(e,!0)},Wh=function(t){return r8(t).replace(/\./g,"")},Rw=function(t){try{return Aw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=()=>a8().__FIREBASE_DEFAULTS__,l8=()=>{if(typeof process>"u"||typeof q3>"u")return;const t=q3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rw(t[1]);return e&&JSON.parse(e)},Df=()=>{try{return n8()||o8()||l8()||c8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nw=t=>{var e,n;return(n=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u8=t=>{const e=Nw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Iw=()=>{var t;return(t=Df())===null||t===void 0?void 0:t.config},Pw=t=>{var e;return(e=Df())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wh(JSON.stringify(n)),Wh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function m8(){var t;const e=(t=Df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y8(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v8(){return!m8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ow(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}function b8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="FirebaseError";class Ni extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_8,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?x8(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ni(a,d,i)}}function x8(t,e){return t.replace(w8,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const w8=/\{\$([^}]+)}/g;function T8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if($3(l)&&$3(c)){if(!jr(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function $3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E8(t,e){const n=new C8(t,e);return n.subscribe.bind(n)}class C8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");S8(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=up),a.error===void 0&&(a.error=up),a.complete===void 0&&(a.complete=up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=1e3,R8=2,N8=4*60*60*1e3,I8=.5;function G3(t,e=A8,n=R8){const i=e*Math.pow(n,t),a=Math.round(I8*i*(Math.random()-.5)*2);return Math.min(N8,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class Ci{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new d8;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k8(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:D8(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D8(t){return t===Na?void 0:t}function k8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const j8={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},M8=Be.INFO,V8={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},L8=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=V8[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kf{constructor(e){this.name=e,this._logLevel=M8,this._logHandler=L8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const U8=(t,e)=>e.some(n=>t instanceof n);let K3,W3;function B8(){return K3||(K3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F8(){return W3||(W3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,$p=new WeakMap,Mw=new WeakMap,dp=new WeakMap,z2=new WeakMap;function z8(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Pr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&jw.set(n,t)}).catch(()=>{}),z2.set(e,t),e}function H8(t){if($p.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});$p.set(t,e)}let Gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q8(t){Gp=t(Gp)}function $8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(hp(this),e,...n);return Mw.set(i,e.sort?e.sort():[e]),Pr(i)}:F8().includes(t)?function(...e){return t.apply(hp(this),e),Pr(jw.get(this))}:function(...e){return Pr(t.apply(hp(this),e))}}function G8(t){return typeof t=="function"?$8(t):(t instanceof IDBTransaction&&H8(t),U8(t,B8())?new Proxy(t,Gp):t)}function Pr(t){if(t instanceof IDBRequest)return z8(t);if(dp.has(t))return dp.get(t);const e=G8(t);return e!==t&&(dp.set(t,e),z2.set(e,t)),e}const hp=t=>z2.get(t);function Vw(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Pr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Pr(c.result),f.oldVersion,f.newVersion,Pr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const K8=["get","getKey","getAll","getAllKeys","count"],W8=["put","add","delete","clear"],fp=new Map;function Y3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=W8.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||K8.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&f.done]))[0]};return fp.set(e,l),l}q8(t=>({...t,get:(e,n,i)=>Y3(e,n)||t.get(e,n,i),has:(e,n)=>!!Y3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q8(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Q8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kp="@firebase/app",Q3="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new kf("@firebase/app"),X8="@firebase/app-compat",Z8="@firebase/analytics-compat",J8="@firebase/analytics",eA="@firebase/app-check-compat",tA="@firebase/app-check",nA="@firebase/auth",iA="@firebase/auth-compat",sA="@firebase/database",rA="@firebase/data-connect",aA="@firebase/database-compat",oA="@firebase/functions",lA="@firebase/functions-compat",cA="@firebase/installations",uA="@firebase/installations-compat",dA="@firebase/messaging",hA="@firebase/messaging-compat",fA="@firebase/performance",mA="@firebase/performance-compat",pA="@firebase/remote-config",gA="@firebase/remote-config-compat",yA="@firebase/storage",vA="@firebase/storage-compat",bA="@firebase/firestore",_A="@firebase/vertexai",xA="@firebase/firestore-compat",wA="firebase",TA="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",EA={[Kp]:"fire-core",[X8]:"fire-core-compat",[J8]:"fire-analytics",[Z8]:"fire-analytics-compat",[tA]:"fire-app-check",[eA]:"fire-app-check-compat",[nA]:"fire-auth",[iA]:"fire-auth-compat",[sA]:"fire-rtdb",[rA]:"fire-data-connect",[aA]:"fire-rtdb-compat",[oA]:"fire-fn",[lA]:"fire-fn-compat",[cA]:"fire-iid",[uA]:"fire-iid-compat",[dA]:"fire-fcm",[hA]:"fire-fcm-compat",[fA]:"fire-perf",[mA]:"fire-perf-compat",[pA]:"fire-rc",[gA]:"fire-rc-compat",[yA]:"fire-gcs",[vA]:"fire-gcs-compat",[bA]:"fire-fst",[xA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,CA=new Map,Yp=new Map;function X3(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ts(t){const e=t.name;if(Yp.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,t);for(const n of Yh.values())X3(n,t);for(const n of CA.values())X3(n,t);return!0}function Ya(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Wa("app","Firebase",SA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=TA;function Lw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Dr.create("bad-app-name",{appName:String(a)});if(n||(n=Iw()),!n)throw Dr.create("no-options");const l=Yh.get(a);if(l){if(jr(n,l.options)&&jr(i,l.config))return l;throw Dr.create("duplicate-app",{appName:a})}const c=new O8(a);for(const f of Yp.values())c.addComponent(f);const d=new AA(n,i,c);return Yh.set(a,d),d}function H2(t=Wp){const e=Yh.get(t);if(!e&&t===Wp&&Iw())return Lw();if(!e)throw Dr.create("no-app",{appName:t});return e}function di(t,e,n){var i;let a=(i=EA[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(d.join(" "));return}ts(new Ci(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebase-heartbeat-database",NA=1,gu="firebase-heartbeat-store";let mp=null;function Uw(){return mp||(mp=Vw(RA,NA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),mp}async function IA(t){try{const n=(await Uw()).transaction(gu),i=await n.objectStore(gu).get(Bw(t));return await n.done,i}catch(e){if(e instanceof Ni)Ls.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function Z3(t,e){try{const i=(await Uw()).transaction(gu,"readwrite");await i.objectStore(gu).put(e,Bw(t)),await i.done}catch(n){if(n instanceof Ni)Ls.warn(n.message);else{const i=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(i.message)}}}function Bw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=1024,DA=30;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=J3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>DA){const c=MA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ls.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J3(),{heartbeatsToSend:i,unsentEntries:a}=OA(this._heartbeatsCache.heartbeats),l=Wh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ls.warn(n),""}}}function J3(){return new Date().toISOString().substring(0,10)}function OA(t,e=PA){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),eb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),eb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class jA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kw()?Ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Z3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Z3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function eb(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}function MA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){ts(new Ci("platform-logger",e=>new Y8(e),"PRIVATE")),ts(new Ci("heartbeat",e=>new kA(e),"PRIVATE")),di(Kp,Q3,t),di(Kp,Q3,"esm2017"),di("fire-js","")}VA("");var LA="firebase",UA="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(LA,UA,"app");const Fw="@firebase/installations",q2="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1e4,Hw=`w:${q2}`,qw="FIS_v2",BA="https://firebaseinstallations.googleapis.com/v1",FA=60*60*1e3,zA="installations",HA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ba=new Wa(zA,HA,qA);function $w(t){return t instanceof Ni&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw({projectId:t}){return`${BA}/projects/${t}/installations`}function Kw(t){return{token:t.token,requestStatus:2,expiresIn:GA(t.expiresIn),creationTime:Date.now()}}async function Ww(t,e){const i=(await e.json()).error;return Ba.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Yw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $A(t,{refreshToken:e}){const n=Yw(t);return n.append("Authorization",KA(e)),n}async function Qw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GA(t){return Number(t.replace("s","000"))}function KA(t){return`${qw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Gw(t),a=Yw(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:n,authVersion:qw,appId:t.appId,sdkVersion:Hw},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await Qw(()=>fetch(i,d));if(f.ok){const g=await f.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Kw(g.authToken)}}else throw await Ww("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=/^[cdef][\w-]{21}$/,Qp="";function XA(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ZA(t);return QA.test(n)?n:Qp}catch{return Qp}}function ZA(t){return YA(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;function Jw(t,e){const n=Of(t);e4(n,e),JA(n,e)}function e4(t,e){const n=Zw.get(t);if(n)for(const i of n)i(e)}function JA(t,e){const n=e7();n&&n.postMessage({key:t,fid:e}),t7()}let Pa=null;function e7(){return!Pa&&"BroadcastChannel"in self&&(Pa=new BroadcastChannel("[Firebase] FID Change"),Pa.onmessage=t=>{e4(t.data.key,t.data.fid)}),Pa}function t7(){Zw.size===0&&Pa&&(Pa.close(),Pa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="firebase-installations-database",i7=1,Fa="firebase-installations-store";let pp=null;function $2(){return pp||(pp=Vw(n7,i7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fa)}}})),pp}async function Qh(t,e){const n=Of(t),a=(await $2()).transaction(Fa,"readwrite"),l=a.objectStore(Fa),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&Jw(t,e.fid),e}async function t4(t){const e=Of(t),i=(await $2()).transaction(Fa,"readwrite");await i.objectStore(Fa).delete(e),await i.done}async function jf(t,e){const n=Of(t),a=(await $2()).transaction(Fa,"readwrite"),l=a.objectStore(Fa),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&Jw(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t){let e;const n=await jf(t.appConfig,i=>{const a=s7(i),l=r7(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Qp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function s7(t){const e=t||{fid:XA(),registrationStatus:0};return n4(e)}function r7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ba.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=a7(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:o7(t)}:{installationEntry:e}}async function a7(t,e){try{const n=await WA(t,e);return Qh(t.appConfig,n)}catch(n){throw $w(n)&&n.customData.serverCode===409?await t4(t.appConfig):await Qh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function o7(t){let e=await tb(t.appConfig);for(;e.registrationStatus===1;)await Xw(100),e=await tb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await G2(t);return i||n}return e}function tb(t){return jf(t,e=>{if(!e)throw Ba.create("installation-not-found");return n4(e)})}function n4(t){return l7(t)?{fid:t.fid,registrationStatus:0}:t}function l7(t){return t.registrationStatus===1&&t.registrationTime+zw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7({appConfig:t,heartbeatServiceProvider:e},n){const i=u7(t,n),a=$A(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:Hw,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await Qw(()=>fetch(i,d));if(f.ok){const g=await f.json();return Kw(g)}else throw await Ww("Generate Auth Token",f)}function u7(t,{fid:e}){return`${Gw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(t,e=!1){let n;const i=await jf(t.appConfig,l=>{if(!i4(l))throw Ba.create("not-registered");const c=l.authToken;if(!e&&f7(c))return l;if(c.requestStatus===1)return n=d7(t,e),l;{if(!navigator.onLine)throw Ba.create("app-offline");const d=p7(l);return n=h7(t,d),d}});return n?await n:i.authToken}async function d7(t,e){let n=await nb(t.appConfig);for(;n.authToken.requestStatus===1;)await Xw(100),n=await nb(t.appConfig);const i=n.authToken;return i.requestStatus===0?K2(t,e):i}function nb(t){return jf(t,e=>{if(!i4(e))throw Ba.create("not-registered");const n=e.authToken;return g7(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function h7(t,e){try{const n=await c7(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Qh(t.appConfig,i),n}catch(n){if($w(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await t4(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qh(t.appConfig,i)}throw n}}function i4(t){return t!==void 0&&t.registrationStatus===2}function f7(t){return t.requestStatus===2&&!m7(t)}function m7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FA}function p7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function g7(t){return t.requestStatus===1&&t.requestTime+zw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7(t){const e=t,{installationEntry:n,registrationPromise:i}=await G2(e);return i?i.catch(console.error):K2(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e=!1){const n=t;return await b7(n),(await K2(n,e)).token}async function b7(t){const{registrationPromise:e}=await G2(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){if(!t||!t.options)throw gp("App Configuration");if(!t.name)throw gp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gp(t){return Ba.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="installations",x7="installations-internal",w7=t=>{const e=t.getProvider("app").getImmediate(),n=_7(e),i=Ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},T7=t=>{const e=t.getProvider("app").getImmediate(),n=Ya(e,s4).getImmediate();return{getId:()=>y7(n),getToken:a=>v7(n,a)}};function E7(){ts(new Ci(s4,w7,"PUBLIC")),ts(new Ci(x7,T7,"PRIVATE"))}E7();di(Fw,q2);di(Fw,q2,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="analytics",C7="firebase_id",S7="origin",A7=60*1e3,R7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",W2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new kf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new Wa("analytics","Analytics",N7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){if(!t.startsWith(W2)){const e=$n.create("invalid-gtag-resource",{gtagURL:t});return On.warn(e.message),""}return t}function r4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function P7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function D7(t,e){const n=P7("firebase-js-sdk-policy",{createScriptURL:I7}),i=document.createElement("script"),a=`${W2}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function k7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function O7(t,e,n,i,a,l){const c=i[a];try{if(c)await e[c];else{const f=(await r4(n)).find(g=>g.measurementId===a);f&&await e[f.appId]}}catch(d){On.error(d)}t("config",a,l)}async function j7(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await r4(n);for(const f of c){const g=d.find(_=>_.measurementId===f),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){On.error(l)}}function M7(t,e,n,i){async function a(l,...c){try{if(l==="event"){const[d,f]=c;await j7(t,e,n,d,f)}else if(l==="config"){const[d,f]=c;await O7(t,e,n,i,d,f)}else if(l==="consent"){const[d,f]=c;t("consent",d,f)}else if(l==="get"){const[d,f,g]=c;t("get",d,f,g)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){On.error(d)}}return a}function V7(t,e,n,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=M7(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function L7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(W2)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=30,B7=1e3;class F7{constructor(e={},n=B7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const a4=new F7;function z7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function H7(t){var e;const{appId:n,apiKey:i}=t,a={method:"GET",headers:z7(i)},l=R7.replace("{app-id}",n),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let d="";try{const f=await c.json();!((e=f.error)===null||e===void 0)&&e.message&&(d=f.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function q7(t,e=a4,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw $n.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw $n.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new K7;return setTimeout(async()=>{d.abort()},A7),o4({appId:i,apiKey:a,measurementId:l},c,d,e)}async function o4(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=a4){var l;const{appId:c,measurementId:d}=t;try{await $7(i,e)}catch(f){if(d)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:c,measurementId:d};throw f}try{const f=await H7(t);return a.deleteThrottleMetadata(c),f}catch(f){const g=f;if(!G7(g)){if(a.deleteThrottleMetadata(c),d)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:d};throw f}const v=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?G3(n,a.intervalMillis,U7):G3(n,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return a.setThrottleMetadata(c,_),On.debug(`Calling attemptFetch again in ${v} millis`),o4(t,_,i,a)}}function $7(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function G7(t){if(!(t instanceof Ni)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class K7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function W7(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,c=Object.assign(Object.assign({},i),{send_to:l});t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(){if(kw())try{await Ow()}catch(t){return On.warn($n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return On.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Q7(t,e,n,i,a,l,c){var d;const f=q7(t);f.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>On.error(E)),e.push(f);const g=Y7().then(E=>{if(E)return i.getId()}),[v,_]=await Promise.all([f,g]);L7(l)||D7(l,v.measurementId),a("js",new Date);const T=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return T[S7]="firebase",T.update=!0,_!=null&&(T[C7]=_),a("config",v.measurementId,T),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.app=e}_delete(){return delete tu[this.app.options.appId],Promise.resolve()}}let tu={},ib=[];const sb={};let yp="dataLayer",Z7="gtag",rb,l4,ab=!1;function J7(){const t=[];if(Dw()&&t.push("This is a browser extension environment."),b8()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=$n.create("invalid-analytics-context",{errorInfo:e});On.warn(n.message)}}function eR(t,e,n){J7();const i=t.options.appId;if(!i)throw $n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(tu[i]!=null)throw $n.create("already-exists",{id:i});if(!ab){k7(yp);const{wrappedGtag:l,gtagCore:c}=V7(tu,ib,sb,yp,Z7);l4=l,rb=c,ab=!0}return tu[i]=Q7(t,ib,sb,e,rb,yp,n),new X7(t)}function tR(t=H2()){t=Gt(t);const e=Ya(t,Xh);return e.isInitialized()?e.getImmediate():nR(t)}function nR(t,e={}){const n=Ya(t,Xh);if(n.isInitialized()){const a=n.getImmediate();if(jr(e,n.getOptions()))return a;throw $n.create("already-initialized")}return n.initialize({options:e})}function iR(t,e,n,i){t=Gt(t),W7(l4,tu[t.app.options.appId],e,n,i).catch(a=>On.error(a))}const ob="@firebase/analytics",lb="0.10.12";function sR(){ts(new Ci(Xh,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return eR(i,a,n)},"PUBLIC")),ts(new Ci("analytics-internal",t,"PRIVATE")),di(ob,lb),di(ob,lb,"esm2017");function t(e){try{const n=e.getProvider(Xh).getImmediate();return{logEvent:(i,a,l)=>iR(n,i,a,l)}}catch(n){throw $n.create("interop-component-reg-failed",{reason:n})}}}sR();function Y2(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function c4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rR=c4,u4=new Wa("auth","Firebase",c4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new kf("@firebase/auth");function aR(t,...e){Zh.logLevel<=Be.WARN&&Zh.warn(`Auth (${xl}): ${t}`,...e)}function Oh(t,...e){Zh.logLevel<=Be.ERROR&&Zh.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,...e){throw X2(t,...e)}function jn(t,...e){return X2(t,...e)}function Q2(t,e,n){const i=Object.assign(Object.assign({},rR()),{[e]:n});return new Wa("auth","Firebase",i).create(e,{appName:t.name})}function Ki(t){return Q2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oR(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&fi(t,"argument-error"),Q2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function X2(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return u4.create(t,...e)}function ye(t,e,...n){if(!t)throw X2(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oh(e),new Error(e)}function Us(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function d4(){return cb()==="http:"||cb()==="https:"}function cb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d4()||Dw()||"connection"in navigator)?navigator.onLine:!0}function cR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=f8()||g8()}get(){return lR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Vu(3e4,6e4);function An(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rn(t,e,n,i,a={}){return f4(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=_l(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:f},l);return p8()||(g.referrerPolicy="no-referrer"),h4.fetch()(m4(t,t.config.apiHost,n,d),g)})}async function f4(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},uR),e);try{const a=new fR(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Wc(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[f,g]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Wc(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Wc(t,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Q2(t,v,g);fi(t,v)}}catch(a){if(a instanceof Ni)throw a;fi(t,"network-request-failed",{message:String(a)})}}async function $r(t,e,n,i,a={}){const l=await Rn(t,e,n,i,a);return"mfaPendingCredential"in l&&fi(t,"multi-factor-auth-required",{_serverResponse:l}),l}function m4(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?Z2(t.config,a):`${t.config.apiScheme}://${a}`}function hR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(jn(this.auth,"network-request-failed")),dR.get())})}}function Wc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=jn(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){return t!==void 0&&t.getResponse!==void 0}function db(t){return t!==void 0&&t.enterprise!==void 0}class p4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t){return(await Rn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function g4(t,e){return Rn(t,"GET","/v2/recaptchaConfig",An(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e){return Rn(t,"POST","/v1/accounts:delete",e)}async function y4(t,e){return Rn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gR(t,e=!1){const n=Gt(t),i=await n.getIdToken(e),a=J2(i);ye(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:nu(vp(a.auth_time)),issuedAtTime:nu(vp(a.iat)),expirationTime:nu(vp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function vp(t){return Number(t)*1e3}function J2(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Rw(n);return a?JSON.parse(a):(Oh("Failed to decode base64 JWT payload"),null)}catch(a){return Oh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function hb(t){const e=J2(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ni&&yR(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function yR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){var e;const n=t.auth,i=await t.getIdToken(),a=await za(t,y4(n,{idToken:i}));ye(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?v4(l.providerUserInfo):[],d=_R(t.providerData,c),f=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),v=f?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,_)}async function bR(t){const e=Gt(t);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _R(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function v4(t){return t.map(e=>{var{providerId:n}=e,i=Y2(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(t,e){const n=await f4(t,{},async()=>{const i=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=m4(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",h4.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wR(t,e){return Rn(t,"POST","/v2/accounts:revokeToken",An(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=hb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await xR(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new il;return i&&(ye(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(ye(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ye(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Y2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await za(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gR(this,e)}reload(){return bR(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await za(this,pR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,d,f,g,v;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,T=(a=n.email)!==null&&a!==void 0?a:void 0,E=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=n.photoURL)!==null&&c!==void 0?c:void 0,V=(d=n.tenantId)!==null&&d!==void 0?d:void 0,N=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,D=(g=n.createdAt)!==null&&g!==void 0?g:void 0,j=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:L,emailVerified:Y,isAnonymous:K,providerData:$,stsTokenManager:O}=n;ye(L&&O,e,"internal-error");const S=il.fromJSON(this.name,O);ye(typeof L=="string",e,"internal-error"),Sr(_,e.name),Sr(T,e.name),ye(typeof Y=="boolean",e,"internal-error"),ye(typeof K=="boolean",e,"internal-error"),Sr(E,e.name),Sr(R,e.name),Sr(V,e.name),Sr(N,e.name),Sr(D,e.name),Sr(j,e.name);const C=new Ps({uid:L,auth:e,email:T,emailVerified:Y,displayName:_,isAnonymous:K,photoURL:R,phoneNumber:E,tenantId:V,stsTokenManager:S,createdAt:D,lastLoginAt:j});return $&&Array.isArray($)&&(C.providerData=$.map(k=>Object.assign({},k))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,n,i=!1){const a=new il;a.updateFromServerResponse(n);const l=new Ps({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Jh(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];ye(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?v4(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new il;d.updateFromIdToken(i);const f=new Ps({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;function Ds(t){Us(t instanceof Function,"Expected a class definition");let e=fb.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b4.type="NONE";const mb=b4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e,n){return`firebase:${t}:${e}:${n}`}class sl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=jh(this.userKey,a.apiKey,l),this.fullPersistenceKey=jh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new sl(Ds(mb),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ds(mb);const c=jh(i,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){const _=Ps._fromJSON(e,v);g!==l&&(d=_),l=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new sl(l,e,i):(l=f[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new sl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C4(e))return"Blackberry";if(S4(e))return"Webos";if(x4(e))return"Safari";if((e.includes("chrome/")||w4(e))&&!e.includes("edge/"))return"Chrome";if(E4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _4(t=vn()){return/firefox\//i.test(t)}function x4(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w4(t=vn()){return/crios\//i.test(t)}function T4(t=vn()){return/iemobile/i.test(t)}function E4(t=vn()){return/android/i.test(t)}function C4(t=vn()){return/blackberry/i.test(t)}function S4(t=vn()){return/webos/i.test(t)}function eg(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TR(t=vn()){var e;return eg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ER(){return y8()&&document.documentMode===10}function A4(t=vn()){return eg(t)||E4(t)||S4(t)||C4(t)||/windows phone/i.test(t)||T4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e=[]){let n;switch(t){case"Browser":n=pb(vn());break;case"Worker":n=`${pb(vn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const f=e(l);c(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(t,e={}){return Rn(t,"GET","/v2/passwordPolicy",An(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=6;class RR{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:AR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gb(this),this.idTokenSubscription=new gb(this),this.beforeStateQueue=new CR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await y4(this,{idToken:e}),i=await Ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Ki(this));const n=e?Gt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SR(this),n=new RR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await wR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pi(t){return Gt(t)}class gb{constructor(e){this.auth=e,this.observer=null,this.addObserver=E8(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IR(t){Lu=t}function tg(t){return Lu.loadJS(t)}function PR(){return Lu.recaptchaV2Script}function DR(){return Lu.recaptchaEnterpriseScript}function kR(){return Lu.gapiScript}function N4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=500,jR=6e4,wh=1e12;class MR{constructor(e){this.auth=e,this.counter=wh,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new UR(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||wh;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||wh;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||wh;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class VR{constructor(){this.enterprise=new LR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UR{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;ye(a,"argument-error",{appName:n}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=BR(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},jR)},OR))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function BR(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const FR="recaptcha-enterprise",iu="NO_RECAPTCHA";class I4{constructor(e){this.type=FR,this.auth=pi(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{g4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new p4(f);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(f=>{d(f)})})}function a(l,c,d){const f=window.grecaptcha;db(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(iu)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VR().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&db(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=DR();f.length!==0&&(f+=d),tg(f).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Fc(t,e,n,i=!1,a=!1){const l=new I4(t);let c;if(a)c=iu;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Va(t,e,n,i,a){var l,c;if(a==="EMAIL_PASSWORD_PROVIDER")if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Fc(t,e,n,n==="getOobCode");return i(t,d)}else return i(t,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Fc(t,e,n,n==="getOobCode");return i(t,f)}else return Promise.reject(d)});else if(a==="PHONE_PROVIDER")if(!((c=t._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("PHONE_PROVIDER")){const d=await Fc(t,e,n);return i(t,d).catch(async f=>{var g;if(((g=t._getRecaptchaConfig())===null||g===void 0?void 0:g.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const v=await Fc(t,e,n,!1,!0);return i(t,v)}return Promise.reject(f)})}else{const d=await Fc(t,e,n,!1,!0);return i(t,d)}else return Promise.reject(a+" provider is not supported.")}async function zR(t){const e=pi(t),n=await g4(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new p4(n);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new I4(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){const n=Ya(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(jr(l,e??{}))return a;fi(a,"already-initialized")}return n.initialize({options:e})}function qR(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ds);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function $R(t,e,n){const i=pi(t);ye(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=P4(e),{host:c,port:d}=GR(e),f=d===null?"":`:${d}`,g={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ye(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ye(jr(g,i.config.emulator)&&jr(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,KR()}function P4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GR(t){const e=P4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:yb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:yb(c)}}}function yb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function WR(t,e){return Rn(t,"POST","/v1/accounts:update",e)}async function YR(t,e){return Rn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e){return $r(t,"POST","/v1/accounts:signInWithPassword",An(t,e))}async function XR(t,e){return Rn(t,"POST","/v1/accounts:sendOobCode",An(t,e))}async function ZR(t,e){return XR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e){return $r(t,"POST","/v1/accounts:signInWithEmailLink",An(t,e))}async function eN(t,e){return $r(t,"POST","/v1/accounts:signInWithEmailLink",An(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Mf{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new yu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Va(e,n,"signInWithPassword",QR,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JR(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Va(e,i,"signUpPassword",YR,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eN(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t,e){return $r(t,"POST","/v1/accounts:signInWithIdp",An(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="http://localhost";class Ha extends Mf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Y2(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ha(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return rl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,rl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rl(e,n)}buildRequest(){const e={requestUri:tN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t,e){return Rn(t,"POST","/v1/accounts:sendVerificationCode",An(t,e))}async function nN(t,e){return $r(t,"POST","/v1/accounts:signInWithPhoneNumber",An(t,e))}async function iN(t,e){const n=await $r(t,"POST","/v1/accounts:signInWithPhoneNumber",An(t,e));if(n.temporaryProof)throw Wc(t,"account-exists-with-different-credential",n);return n}const sN={USER_NOT_FOUND:"user-not-found"};async function rN(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return $r(t,"POST","/v1/accounts:signInWithPhoneNumber",An(t,n),sN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Mf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new su({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new su({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return nN(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return iN(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return rN(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:a}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:a,temporaryProof:l}=e;return!i&&!n&&!a&&!l?null:new su({verificationId:n,verificationCode:i,phoneNumber:a,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oN(t){const e=Gc(Kc(t)).link,n=e?Gc(Kc(e)).deep_link_id:null,i=Gc(Kc(t)).deep_link_id;return(i?Gc(Kc(i)).link:null)||i||n||e||t}class ng{constructor(e){var n,i,a,l,c,d;const f=Gc(Kc(e)),g=(n=f.apiKey)!==null&&n!==void 0?n:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,_=aN((a=f.mode)!==null&&a!==void 0?a:null);ye(g&&v&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=v,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=oN(e);try{return new ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ng.parseLink(n);return ye(i,"argument-error"),yu._fromEmailAndCode(e,i.code,i.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Uu{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ha._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Rs.credential(n,i)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Uu{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Uu{constructor(){super("twitter.com")}static credential(e,n){return Ha._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ns.credential(n,i)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){return $r(t,"POST","/v1/accounts:signUp",An(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ps._fromIdTokenResponse(e,i,a),c=bb(i);return new qa({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=bb(i);return new qa({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function bb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends Ni{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new ef(e,n,i,a)}}function D4(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(t,l,e,i):l})}async function cN(t,e,n=!1){const i=await za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e,n=!1){const{auth:i}=t;if(kn(i.app))return Promise.reject(Ki(i));const a="reauthenticate";try{const l=await za(t,D4(i,a,e,t),n);ye(l.idToken,i,"internal-error");const c=J2(l.idToken);ye(c,i,"internal-error");const{sub:d}=c;return ye(t.uid===d,i,"user-mismatch"),qa._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e,n=!1){if(kn(t.app))return Promise.reject(Ki(t));const i="signIn",a=await D4(t,i,e),l=await qa._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function j4(t,e){return O4(pi(t),e)}async function uN(t,e){return k4(Gt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t){const e=pi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dN(t,e,n){const i=pi(t);await Va(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZR,"EMAIL_PASSWORD_PROVIDER")}async function hN(t,e,n){if(kn(t.app))return Promise.reject(Ki(t));const i=pi(t),c=await Va(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lN,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&M4(t),f}),d=await qa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function fN(t,e,n){return kn(t.app)?Promise.reject(Ki(t)):j4(Gt(t),Qa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&M4(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e){return Rn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Gt(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await za(i,mN(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function gN(t,e){return yN(Gt(t),null,e)}async function yN(t,e,n){const{auth:i}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(l.password=n);const c=await za(t,WR(i,l));await t._updateTokensIfNecessary(c,!0)}function vN(t,e,n,i){return Gt(t).onIdTokenChanged(e,n,i)}function bN(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e){return Rn(t,"POST","/v2/accounts/mfaEnrollment:start",An(t,e))}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1e3,xN=10;class L4 extends V4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);ER()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xN):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L4.type="LOCAL";const wN=L4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4 extends V4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U4.type="SESSION";const B4=U4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Vf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),f=await TN(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,f)=>{const g=sg("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return window}function CN(t){jt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){return typeof jt().WorkerGlobalScope<"u"&&typeof jt().importScripts=="function"}async function SN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RN(){return rg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="firebaseLocalStorageDb",NN=1,nf="firebaseLocalStorage",z4="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lf(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function IN(){const t=indexedDB.deleteDatabase(F4);return new Bu(t).toPromise()}function Jp(){const t=indexedDB.open(F4,NN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(nf,{keyPath:z4})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(nf)?e(i):(i.close(),await IN(),e(await Jp()))})})}async function xb(t,e,n){const i=Lf(t,!0).put({[z4]:e,value:n});return new Bu(i).toPromise()}async function PN(t,e){const n=Lf(t,!1).get(e),i=await new Bu(n).toPromise();return i===void 0?null:i.value}function wb(t,e){const n=Lf(t,!0).delete(e);return new Bu(n).toPromise()}const DN=800,kN=3;class H4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>kN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(RN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new EN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await xb(e,tf,"1"),await wb(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>xb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>PN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Lf(a,!1).getAll();return new Bu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H4.type="LOCAL";const ON=H4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e){return Rn(t,"POST","/v2/accounts/mfaSignIn:start",An(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=N4("rcb"),jN=new Vu(3e4,6e4);class MN{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=jt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ye(VN(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ub(jt().grecaptcha)?Promise.resolve(jt().grecaptcha):new Promise((i,a)=>{const l=jt().setTimeout(()=>{a(jn(e,"network-request-failed"))},jN.get());jt()[bp]=()=>{jt().clearTimeout(l),delete jt()[bp];const d=jt().grecaptcha;if(!d||!ub(d)){a(jn(e,"internal-error"));return}const f=d.render;d.render=(g,v)=>{const _=f(g,v);return this.counter++,_},this.hostLanguage=n,i(d)};const c=`${PR()}?${_l({onload:bp,render:"explicit",hl:n})}`;tg(c).catch(()=>{clearTimeout(l),a(jn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=jt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function VN(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class LN{async load(e){return new MR(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="recaptcha",UN={theme:"light",type:"image"};class BN{constructor(e,n,i=Object.assign({},UN)){this.parameters=i,this.type=ru,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pi(e),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof n=="string"?document.getElementById(n):n;ye(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new LN:new MN,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(a=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),a(c))};this.tokenChangeListeners.add(l),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=jt()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(d4()&&!rg(),this.auth,"internal-error"),await FN(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await mR(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function FN(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=su._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function HN(t,e,n){if(kn(t.app))return Promise.reject(Ki(t));const i=pi(t),a=await qN(i,e,Gt(n));return new zN(a,l=>j4(i,l))}async function qN(t,e,n){var i;if(!t._getRecaptchaConfig())try{await zR(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(typeof e=="string"?a={phoneNumber:e}:a=e,"session"in a){const l=a.session;if("phoneNumber"in a){ye(l.type==="enroll",t,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Va(t,c,"mfaSmsEnrollment",async(v,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===iu){ye((n==null?void 0:n.type)===ru,v,"argument-error");const T=await _p(v,_,n);return _b(v,T)}return _b(v,_)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneSessionInfo.sessionInfo}else{ye(l.type==="signin",t,"internal-error");const c=((i=a.multiFactorHint)===null||i===void 0?void 0:i.uid)||a.multiFactorUid;ye(c,t,"missing-multi-factor-info");const d={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Va(t,d,"mfaSmsSignIn",async(_,T)=>{if(T.phoneSignInInfo.captchaResponse===iu){ye((n==null?void 0:n.type)===ru,_,"argument-error");const E=await _p(_,T,n);return Tb(_,E)}return Tb(_,T)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Va(t,l,"sendVerificationCode",async(g,v)=>{if(v.captchaResponse===iu){ye((n==null?void 0:n.type)===ru,g,"argument-error");const _=await _p(g,v,n);return vb(g,_)}return vb(g,v)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).sessionInfo}}finally{n==null||n._reset()}}async function _p(t,e,n){ye(n.type===ru,t,"argument-error");const i=await n.verify();ye(typeof i=="string",t,"argument-error");const a=Object.assign({},e);if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.captchaResponse,d=a.phoneEnrollmentInfo.clientType,f=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:i,captchaResponse:c,clientType:d,recaptchaVersion:f}}),a}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.captchaResponse,c=a.phoneSignInInfo.clientType,d=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:l,clientType:c,recaptchaVersion:d}}),a}else return Object.assign(a,{recaptchaToken:i}),a}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e){return e?Ds(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends Mf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $N(t){return O4(t.auth,new ag(t),t.bypassAuthState)}function GN(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),k4(n,new ag(t),t.bypassAuthState)}async function KN(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),cN(n,new ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $N;case"linkViaPopup":case"linkViaRedirect":return KN;case"reauthViaPopup":case"reauthViaRedirect":return GN;default:fi(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Vu(2e3,1e4);async function YN(t,e,n){if(kn(t.app))return Promise.reject(jn(t,"operation-not-supported-in-this-environment"));const i=pi(t);oR(t,e,ig);const a=q4(i,n);return new Da(i,"signInViaPopup",e,a).executeNotNull()}class Da extends $4{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="pendingRedirect",Mh=new Map;class XN extends $4{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const i=await ZN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZN(t,e){const n=tI(e),i=eI(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function JN(t,e){Mh.set(t._key(),e)}function eI(t){return Ds(t._redirectPersistence)}function tI(t){return jh(QN,t.config.apiKey,t.name)}async function nI(t,e,n=!1){if(kn(t.app))return Promise.reject(Ki(t));const i=pi(t),a=q4(i,e),c=await new XN(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=10*60*1e3;class sI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!G4(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eb(e))}saveEventToCache(e){this.cachedEventUids.add(Eb(e)),this.lastProcessedEventTime=Date.now()}}function Eb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(t,e={}){return Rn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lI=/^https?/;async function cI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aI(t);for(const n of e)try{if(uI(n))return}catch{}fi(t,"unauthorized-domain")}function uI(t){const e=Xp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!lI.test(n))return!1;if(oI.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Vu(3e4,6e4);function Cb(){const t=jt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hI(t){return new Promise((e,n)=>{var i,a,l;function c(){Cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cb(),n(jn(t,"network-request-failed"))},timeout:dI.get()})}if(!((a=(i=jt().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=jt().gapi)===null||l===void 0)&&l.load)c();else{const d=N4("iframefcb");return jt()[d]=()=>{gapi.load?c():n(jn(t,"network-request-failed"))},tg(`${kR()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function fI(t){return Vh=Vh||hI(t),Vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Vu(5e3,15e3),pI="__/auth/iframe",gI="emulator/auth/iframe",yI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bI(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z2(e,gI):`https://${t.config.authDomain}/${pI}`,i={apiKey:e.apiKey,appName:t.name,v:xl},a=vI.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${_l(i).slice(1)}`}async function _I(t){const e=await fI(t),n=jt().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:bI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yI,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=jn(t,"network-request-failed"),d=jt().setTimeout(()=>{l(c)},mI.get());function f(){jt().clearTimeout(d),a(i)}i.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wI=500,TI=600,EI="_blank",CI="http://localhost";class Sb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SI(t,e,n,i=wI,a=TI){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},xI),{width:i.toString(),height:a.toString(),top:l,left:c}),g=vn().toLowerCase();n&&(d=w4(g)?EI:n),_4(g)&&(e=e||CI,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[E,R])=>`${T}${E}=${R},`,"");if(TR(g)&&d!=="_self")return AI(e||"",d),new Sb(null);const _=window.open(e||"",d,v);ye(_,t,"popup-blocked");try{_.focus()}catch{}return new Sb(_)}function AI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="__/auth/handler",NI="emulator/auth/handler",II=encodeURIComponent("fac");async function Ab(t,e,n,i,a,l){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xl,eventId:a};if(e instanceof ig){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",T8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Uu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),g=f?`#${II}=${encodeURIComponent(f)}`:"";return`${PI(t)}?${_l(d).slice(1)}${g}`}function PI({config:t}){return t.emulator?Z2(t,NI):`https://${t.authDomain}/${RI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="webStorageSupport";class DI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B4,this._completeRedirectFn=nI,this._overrideRedirectResult=JN}async _openPopup(e,n,i,a){var l;Us((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Ab(e,n,i,Xp(),a);return SI(e,c,sg())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Ab(e,n,i,Xp(),a);return CN(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Us(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await _I(e),i=new sI(e);return n.register("authEvent",a=>(ye(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xp,{type:xp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[xp];c!==void 0&&n(!!c),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A4()||x4()||eg()}}const kI=DI;var Rb="@firebase/auth",Nb="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MI(t){ts(new Ci("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;ye(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R4(t)},g=new NR(i,a,l,f);return qR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ts(new Ci("auth-internal",e=>{const n=pi(e.getProvider("auth").getImmediate());return(i=>new OI(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(Rb,Nb,jI(t)),di(Rb,Nb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=5*60,LI=Pw("authIdTokenMaxAge")||VI;let Ib=null;const UI=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>LI)return;const a=n==null?void 0:n.token;Ib!==a&&(Ib=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BI(t=H2()){const e=Ya(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HR(t,{popupRedirectResolver:kI,persistence:[ON,wN,B4]}),i=Pw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=UI(l.toString());bN(n,c,()=>c(n.currentUser)),vN(n,d=>c(d))}}const a=Nw("auth");return a&&$R(n,`http://${a}`),n}function FI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IR({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=jn("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",FI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MI("Browser");var Pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,K4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function C(){}C.prototype=S.prototype,O.D=S.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(k,B,z){for(var M=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)M[ue-2]=arguments[ue];return S.prototype[B].apply(k,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,S,C){C||(C=0);var k=Array(16);if(typeof S=="string")for(var B=0;16>B;++B)k[B]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(B=0;16>B;++B)k[B]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=O.g[0],C=O.g[1],B=O.g[2];var z=O.g[3],M=S+(z^C&(B^z))+k[0]+3614090360&4294967295;S=C+(M<<7&4294967295|M>>>25),M=z+(B^S&(C^B))+k[1]+3905402710&4294967295,z=S+(M<<12&4294967295|M>>>20),M=B+(C^z&(S^C))+k[2]+606105819&4294967295,B=z+(M<<17&4294967295|M>>>15),M=C+(S^B&(z^S))+k[3]+3250441966&4294967295,C=B+(M<<22&4294967295|M>>>10),M=S+(z^C&(B^z))+k[4]+4118548399&4294967295,S=C+(M<<7&4294967295|M>>>25),M=z+(B^S&(C^B))+k[5]+1200080426&4294967295,z=S+(M<<12&4294967295|M>>>20),M=B+(C^z&(S^C))+k[6]+2821735955&4294967295,B=z+(M<<17&4294967295|M>>>15),M=C+(S^B&(z^S))+k[7]+4249261313&4294967295,C=B+(M<<22&4294967295|M>>>10),M=S+(z^C&(B^z))+k[8]+1770035416&4294967295,S=C+(M<<7&4294967295|M>>>25),M=z+(B^S&(C^B))+k[9]+2336552879&4294967295,z=S+(M<<12&4294967295|M>>>20),M=B+(C^z&(S^C))+k[10]+4294925233&4294967295,B=z+(M<<17&4294967295|M>>>15),M=C+(S^B&(z^S))+k[11]+2304563134&4294967295,C=B+(M<<22&4294967295|M>>>10),M=S+(z^C&(B^z))+k[12]+1804603682&4294967295,S=C+(M<<7&4294967295|M>>>25),M=z+(B^S&(C^B))+k[13]+4254626195&4294967295,z=S+(M<<12&4294967295|M>>>20),M=B+(C^z&(S^C))+k[14]+2792965006&4294967295,B=z+(M<<17&4294967295|M>>>15),M=C+(S^B&(z^S))+k[15]+1236535329&4294967295,C=B+(M<<22&4294967295|M>>>10),M=S+(B^z&(C^B))+k[1]+4129170786&4294967295,S=C+(M<<5&4294967295|M>>>27),M=z+(C^B&(S^C))+k[6]+3225465664&4294967295,z=S+(M<<9&4294967295|M>>>23),M=B+(S^C&(z^S))+k[11]+643717713&4294967295,B=z+(M<<14&4294967295|M>>>18),M=C+(z^S&(B^z))+k[0]+3921069994&4294967295,C=B+(M<<20&4294967295|M>>>12),M=S+(B^z&(C^B))+k[5]+3593408605&4294967295,S=C+(M<<5&4294967295|M>>>27),M=z+(C^B&(S^C))+k[10]+38016083&4294967295,z=S+(M<<9&4294967295|M>>>23),M=B+(S^C&(z^S))+k[15]+3634488961&4294967295,B=z+(M<<14&4294967295|M>>>18),M=C+(z^S&(B^z))+k[4]+3889429448&4294967295,C=B+(M<<20&4294967295|M>>>12),M=S+(B^z&(C^B))+k[9]+568446438&4294967295,S=C+(M<<5&4294967295|M>>>27),M=z+(C^B&(S^C))+k[14]+3275163606&4294967295,z=S+(M<<9&4294967295|M>>>23),M=B+(S^C&(z^S))+k[3]+4107603335&4294967295,B=z+(M<<14&4294967295|M>>>18),M=C+(z^S&(B^z))+k[8]+1163531501&4294967295,C=B+(M<<20&4294967295|M>>>12),M=S+(B^z&(C^B))+k[13]+2850285829&4294967295,S=C+(M<<5&4294967295|M>>>27),M=z+(C^B&(S^C))+k[2]+4243563512&4294967295,z=S+(M<<9&4294967295|M>>>23),M=B+(S^C&(z^S))+k[7]+1735328473&4294967295,B=z+(M<<14&4294967295|M>>>18),M=C+(z^S&(B^z))+k[12]+2368359562&4294967295,C=B+(M<<20&4294967295|M>>>12),M=S+(C^B^z)+k[5]+4294588738&4294967295,S=C+(M<<4&4294967295|M>>>28),M=z+(S^C^B)+k[8]+2272392833&4294967295,z=S+(M<<11&4294967295|M>>>21),M=B+(z^S^C)+k[11]+1839030562&4294967295,B=z+(M<<16&4294967295|M>>>16),M=C+(B^z^S)+k[14]+4259657740&4294967295,C=B+(M<<23&4294967295|M>>>9),M=S+(C^B^z)+k[1]+2763975236&4294967295,S=C+(M<<4&4294967295|M>>>28),M=z+(S^C^B)+k[4]+1272893353&4294967295,z=S+(M<<11&4294967295|M>>>21),M=B+(z^S^C)+k[7]+4139469664&4294967295,B=z+(M<<16&4294967295|M>>>16),M=C+(B^z^S)+k[10]+3200236656&4294967295,C=B+(M<<23&4294967295|M>>>9),M=S+(C^B^z)+k[13]+681279174&4294967295,S=C+(M<<4&4294967295|M>>>28),M=z+(S^C^B)+k[0]+3936430074&4294967295,z=S+(M<<11&4294967295|M>>>21),M=B+(z^S^C)+k[3]+3572445317&4294967295,B=z+(M<<16&4294967295|M>>>16),M=C+(B^z^S)+k[6]+76029189&4294967295,C=B+(M<<23&4294967295|M>>>9),M=S+(C^B^z)+k[9]+3654602809&4294967295,S=C+(M<<4&4294967295|M>>>28),M=z+(S^C^B)+k[12]+3873151461&4294967295,z=S+(M<<11&4294967295|M>>>21),M=B+(z^S^C)+k[15]+530742520&4294967295,B=z+(M<<16&4294967295|M>>>16),M=C+(B^z^S)+k[2]+3299628645&4294967295,C=B+(M<<23&4294967295|M>>>9),M=S+(B^(C|~z))+k[0]+4096336452&4294967295,S=C+(M<<6&4294967295|M>>>26),M=z+(C^(S|~B))+k[7]+1126891415&4294967295,z=S+(M<<10&4294967295|M>>>22),M=B+(S^(z|~C))+k[14]+2878612391&4294967295,B=z+(M<<15&4294967295|M>>>17),M=C+(z^(B|~S))+k[5]+4237533241&4294967295,C=B+(M<<21&4294967295|M>>>11),M=S+(B^(C|~z))+k[12]+1700485571&4294967295,S=C+(M<<6&4294967295|M>>>26),M=z+(C^(S|~B))+k[3]+2399980690&4294967295,z=S+(M<<10&4294967295|M>>>22),M=B+(S^(z|~C))+k[10]+4293915773&4294967295,B=z+(M<<15&4294967295|M>>>17),M=C+(z^(B|~S))+k[1]+2240044497&4294967295,C=B+(M<<21&4294967295|M>>>11),M=S+(B^(C|~z))+k[8]+1873313359&4294967295,S=C+(M<<6&4294967295|M>>>26),M=z+(C^(S|~B))+k[15]+4264355552&4294967295,z=S+(M<<10&4294967295|M>>>22),M=B+(S^(z|~C))+k[6]+2734768916&4294967295,B=z+(M<<15&4294967295|M>>>17),M=C+(z^(B|~S))+k[13]+1309151649&4294967295,C=B+(M<<21&4294967295|M>>>11),M=S+(B^(C|~z))+k[4]+4149444226&4294967295,S=C+(M<<6&4294967295|M>>>26),M=z+(C^(S|~B))+k[11]+3174756917&4294967295,z=S+(M<<10&4294967295|M>>>22),M=B+(S^(z|~C))+k[2]+718787259&4294967295,B=z+(M<<15&4294967295|M>>>17),M=C+(z^(B|~S))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(B+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+B&4294967295,O.g[3]=O.g[3]+z&4294967295}i.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var C=S-this.blockSize,k=this.B,B=this.h,z=0;z<S;){if(B==0)for(;z<=C;)a(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<S;)if(k[B++]=O.charCodeAt(z++),B==this.blockSize){a(this,k),B=0;break}}else for(;z<S;)if(k[B++]=O[z++],B==this.blockSize){a(this,k),B=0;break}}this.h=B,this.o+=S},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var C=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=C&255,C/=256;for(this.u(O),O=Array(16),S=C=0;4>S;++S)for(var k=0;32>k;k+=8)O[C++]=this.g[S]>>>k&255;return O};function l(O,S){var C=d;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=S(O)}function c(O,S){this.h=S;for(var C=[],k=!0,B=O.length-1;0<=B;B--){var z=O[B]|0;k&&z==S||(C[B]=z,k=!1)}this.g=C}var d={};function f(O){return-128<=O&&128>O?l(O,function(S){return new c([S|0],0>S?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return N(g(-O));for(var S=[],C=1,k=0;O>=C;k++)S[k]=O/C|0,C*=4294967296;return new c(S,0)}function v(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return N(v(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(S,8)),k=_,B=0;B<O.length;B+=8){var z=Math.min(8,O.length-B),M=parseInt(O.substring(B,B+z),S);8>z?(z=g(Math.pow(S,z)),k=k.j(z).add(g(M))):(k=k.j(C),k=k.add(g(M)))}return k}var _=f(0),T=f(1),E=f(16777216);t=c.prototype,t.m=function(){if(V(this))return-N(this).m();for(var O=0,S=1,C=0;C<this.g.length;C++){var k=this.i(C);O+=(0<=k?k:4294967296+k)*S,S*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(R(this))return"0";if(V(this))return"-"+N(this).toString(O);for(var S=g(Math.pow(O,6)),C=this,k="";;){var B=Y(C,S).g;C=D(C,B.j(S));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=B,R(C))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function R(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function V(O){return O.h==-1}t.l=function(O){return O=D(this,O),V(O)?-1:R(O)?0:1};function N(O){for(var S=O.g.length,C=[],k=0;k<S;k++)C[k]=~O.g[k];return new c(C,~O.h).add(T)}t.abs=function(){return V(this)?N(this):this},t.add=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],k=0,B=0;B<=S;B++){var z=k+(this.i(B)&65535)+(O.i(B)&65535),M=(z>>>16)+(this.i(B)>>>16)+(O.i(B)>>>16);k=M>>>16,z&=65535,M&=65535,C[B]=M<<16|z}return new c(C,C[C.length-1]&-2147483648?-1:0)};function D(O,S){return O.add(N(S))}t.j=function(O){if(R(this)||R(O))return _;if(V(this))return V(O)?N(this).j(N(O)):N(N(this).j(O));if(V(O))return N(this.j(N(O)));if(0>this.l(E)&&0>O.l(E))return g(this.m()*O.m());for(var S=this.g.length+O.g.length,C=[],k=0;k<2*S;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var B=0;B<O.g.length;B++){var z=this.i(k)>>>16,M=this.i(k)&65535,ue=O.i(B)>>>16,Xe=O.i(B)&65535;C[2*k+2*B]+=M*Xe,j(C,2*k+2*B),C[2*k+2*B+1]+=z*Xe,j(C,2*k+2*B+1),C[2*k+2*B+1]+=M*ue,j(C,2*k+2*B+1),C[2*k+2*B+2]+=z*ue,j(C,2*k+2*B+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new c(C,0)};function j(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function L(O,S){this.g=O,this.h=S}function Y(O,S){if(R(S))throw Error("division by zero");if(R(O))return new L(_,_);if(V(O))return S=Y(N(O),S),new L(N(S.g),N(S.h));if(V(S))return S=Y(O,N(S)),new L(N(S.g),S.h);if(30<O.g.length){if(V(O)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var C=T,k=S;0>=k.l(O);)C=K(C),k=K(k);var B=$(C,1),z=$(k,1);for(k=$(k,2),C=$(C,2);!R(k);){var M=z.add(k);0>=M.l(O)&&(B=B.add(C),z=M),k=$(k,1),C=$(C,1)}return S=D(O,B.j(S)),new L(B,S)}for(B=_;0<=O.l(S);){for(C=Math.max(1,Math.floor(O.m()/S.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=g(C),M=z.j(S);V(M)||0<M.l(O);)C-=k,z=g(C),M=z.j(S);R(z)&&(z=T),B=B.add(z),O=D(O,M)}return new L(B,O)}t.A=function(O){return Y(this,O).h},t.and=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)&O.i(k);return new c(C,this.h&O.h)},t.or=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)|O.i(k);return new c(C,this.h|O.h)},t.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)^O.i(k);return new c(C,this.h^O.h)};function K(O){for(var S=O.g.length+1,C=[],k=0;k<S;k++)C[k]=O.i(k)<<1|O.i(k-1)>>>31;return new c(C,O.h)}function $(O,S){var C=S>>5;S%=32;for(var k=O.g.length-C,B=[],z=0;z<k;z++)B[z]=0<S?O.i(z+C)>>>S|O.i(z+C+1)<<32-S:O.i(z+C);return new c(B,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,K4=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,kr=c}).apply(typeof Pb<"u"?Pb:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W4,Yc,Y4,Lh,e2,Q4,X4,Z4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,x){return h==Array.prototype||h==Object.prototype||(h[b]=x.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var b=0;b<h.length;++b){var x=h[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function a(h,b){if(b)e:{var x=i;h=h.split(".");for(var P=0;P<h.length-1;P++){var Q=h[P];if(!(Q in x))break e;x=x[Q]}h=h[h.length-1],P=x[h],b=b(P),b!=P&&b!=null&&e(x,h,{configurable:!0,writable:!0,value:b})}}function l(h,b){h instanceof String&&(h+="");var x=0,P=!1,Q={next:function(){if(!P&&x<h.length){var ee=x++;return{value:b(ee,h[ee]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(b,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function g(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function v(h,b,x){return h.call.apply(h.bind,arguments)}function _(h,b,x){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,P),h.apply(b,Q)}}return function(){return h.apply(b,arguments)}}function T(h,b,x){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,T.apply(null,arguments)}function E(h,b){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function R(h,b){function x(){}x.prototype=b.prototype,h.aa=b.prototype,h.prototype=new x,h.prototype.constructor=h,h.Qb=function(P,Q,ee){for(var he=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)he[Ge-2]=arguments[Ge];return b.prototype[Q].apply(P,he)}}function V(h){const b=h.length;if(0<b){const x=Array(b);for(let P=0;P<b;P++)x[P]=h[P];return x}return[]}function N(h,b){for(let x=1;x<arguments.length;x++){const P=arguments[x];if(f(P)){const Q=h.length||0,ee=P.length||0;h.length=Q+ee;for(let he=0;he<ee;he++)h[Q+he]=P[he]}else h.push(P)}}class D{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function j(h){return/^[\s\xa0]*$/.test(h)}function L(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Y(h){return Y[" "](h),h}Y[" "]=function(){};var K=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function $(h,b,x){for(const P in h)b.call(x,h[P],P,h)}function O(h,b){for(const x in h)b.call(void 0,h[x],x,h)}function S(h){const b={};for(const x in h)b[x]=h[x];return b}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,b){let x,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(x in P)h[x]=P[x];for(let ee=0;ee<C.length;ee++)x=C[ee],Object.prototype.hasOwnProperty.call(P,x)&&(h[x]=P[x])}}function B(h){var b=1;h=h.split(":");const x=[];for(;0<b&&h.length;)x.push(h.shift()),b--;return h.length&&x.push(h.join(":")),x}function z(h){d.setTimeout(()=>{throw h},0)}function M(){var h=Re;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class ue{constructor(){this.h=this.g=null}add(b,x){const P=Xe.get();P.set(b,x),this.h?this.h.next=P:this.g=P,this.h=P}}var Xe=new D(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let G,se=!1,Re=new ue,F=()=>{const h=d.Promise.resolve(void 0);G=()=>{h.then(le)}};var le=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(x){z(x)}var b=Xe;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}se=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};d.addEventListener("test",x,b),d.removeEventListener("test",x,b)}catch{}return h}();function _e(h,b){if(J.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var x=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(K){e:{try{Y(b.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(b=null)}}else x=="mouseover"?b=h.fromElement:x=="mouseout"&&(b=h.toElement);this.relatedTarget=b,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&_e.aa.h.call(this)}}R(_e,J);var Ee={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Ue(h,b,x,P,Q){this.listener=h,this.proxy=null,this.src=b,this.type=x,this.capture=!!P,this.ha=Q,this.key=++Pe,this.da=this.fa=!1}function Ze(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,b,x,P,Q){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var he=Ve(h,b,P,Q);return-1<he?(b=h[he],x||(b.fa=!1)):(b=new Ue(b,this.src,ee,!!P,Q),b.fa=x,h.push(b)),b};function fe(h,b){var x=b.type;if(x in h.g){var P=h.g[x],Q=Array.prototype.indexOf.call(P,b,void 0),ee;(ee=0<=Q)&&Array.prototype.splice.call(P,Q,1),ee&&(Ze(b),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Ve(h,b,x,P){for(var Q=0;Q<h.length;++Q){var ee=h[Q];if(!ee.da&&ee.listener==b&&ee.capture==!!x&&ee.ha==P)return Q}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),Et={};function It(h,b,x,P,Q){if(Array.isArray(b)){for(var ee=0;ee<b.length;ee++)It(h,b[ee],x,P,Q);return null}return x=Zu(x),h&&h[ze]?h.K(b,x,g(P)?!!P.capture:!1,Q):Kr(h,b,x,!1,P,Q)}function Kr(h,b,x,P,Q,ee){if(!b)throw Error("Invalid event type");var he=g(Q)?!!Q.capture:!!Q,Ge=Nl(h);if(Ge||(h[nt]=Ge=new pe(h)),x=Ge.add(b,x,P,he,ee),x.proxy)return x;if(P=no(),x.proxy=P,P.src=h,P.listener=x,h.addEventListener)ie||(Q=he),Q===void 0&&(Q=!1),h.addEventListener(b.toString(),P,Q);else if(h.attachEvent)h.attachEvent(so(b.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function no(){function h(x){return b.call(h.src,h.listener,x)}const b=s0;return h}function io(h,b,x,P,Q){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)io(h,b[ee],x,P,Q);else P=g(P)?!!P.capture:!!P,x=Zu(x),h&&h[ze]?(h=h.i,b=String(b).toString(),b in h.g&&(ee=h.g[b],x=Ve(ee,x,P,Q),-1<x&&(Ze(ee[x]),Array.prototype.splice.call(ee,x,1),ee.length==0&&(delete h.g[b],h.h--)))):h&&(h=Nl(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Ve(b,x,P,Q)),(x=-1<h?b[h]:null)&&Wr(x))}function Wr(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[ze])fe(b.i,h);else{var x=h.type,P=h.proxy;b.removeEventListener?b.removeEventListener(x,P,h.capture):b.detachEvent?b.detachEvent(so(x),P):b.addListener&&b.removeListener&&b.removeListener(P),(x=Nl(b))?(fe(x,h),x.h==0&&(x.src=null,b[nt]=null)):Ze(h)}}}function so(h){return h in Et?Et[h]:Et[h]="on"+h}function s0(h,b){if(h.da)h=!0;else{b=new _e(b,this);var x=h.listener,P=h.ha||h.src;h.fa&&Wr(h),h=x.call(P,b)}return h}function Nl(h){return h=h[nt],h instanceof pe?h:null}var Nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zu(h){return typeof h=="function"?h:(h[Nn]||(h[Nn]=function(b){return h.handleEvent(b)}),h[Nn])}function Vt(){me.call(this),this.i=new pe(this),this.M=this,this.F=null}R(Vt,me),Vt.prototype[ze]=!0,Vt.prototype.removeEventListener=function(h,b,x,P){io(this,h,b,x,P)};function Kt(h,b){var x,P=h.F;if(P)for(x=[];P;P=P.F)x.push(P);if(h=h.M,P=b.type||b,typeof b=="string")b=new J(b,h);else if(b instanceof J)b.target=b.target||h;else{var Q=b;b=new J(P,h),k(b,Q)}if(Q=!0,x)for(var ee=x.length-1;0<=ee;ee--){var he=b.g=x[ee];Q=is(he,P,!0,b)&&Q}if(he=b.g=h,Q=is(he,P,!0,b)&&Q,Q=is(he,P,!1,b)&&Q,x)for(ee=0;ee<x.length;ee++)he=b.g=x[ee],Q=is(he,P,!1,b)&&Q}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var x=h.g[b],P=0;P<x.length;P++)Ze(x[P]);delete h.g[b],h.h--}}this.F=null},Vt.prototype.K=function(h,b,x,P){return this.i.add(String(h),b,!1,x,P)},Vt.prototype.L=function(h,b,x,P){return this.i.add(String(h),b,!0,x,P)};function is(h,b,x,P){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var Q=!0,ee=0;ee<b.length;++ee){var he=b[ee];if(he&&!he.da&&he.capture==x){var Ge=he.listener,Ut=he.ha||he.src;he.fa&&fe(h.i,he),Q=Ge.call(Ut,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function Ju(h,b,x){if(typeof h=="function")x&&(h=T(h,x));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(h,b||0)}function Il(h){h.g=Ju(()=>{h.g=null,h.i&&(h.i=!1,Il(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class r0 extends me{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Il(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(h){me.call(this),this.h=h,this.g={}}R(Yr,me);var qs=[];function un(h){$(h.g,function(b,x){this.g.hasOwnProperty(x)&&Wr(b)},h),h.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),un(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pl=d.JSON.stringify,Ii=d.JSON.parse,_n=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Dl(){}Dl.prototype.h=null;function ed(h){return h.h||(h.h=h.i())}function td(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $s(){J.call(this,"d")}R($s,J);function gi(){J.call(this,"c")}R(gi,J);var Gn={},Gs=null;function ro(){return Gs=Gs||new Vt}Gn.La="serverreachability";function kl(h){J.call(this,Gn.La,h)}R(kl,J);function Ks(h){const b=ro();Kt(b,new kl(b))}Gn.STAT_EVENT="statevent";function ao(h,b){J.call(this,Gn.STAT_EVENT,h),this.stat=b}R(ao,J);function Ct(h){const b=ro();Kt(b,new ao(b,h))}Gn.Ma="timingevent";function nd(h,b){J.call(this,Gn.Ma,h),this.size=b}R(nd,J);function Ws(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},b)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function id(h,b,x,P,Q,ee){h.info(function(){if(h.g)if(ee)for(var he="",Ge=ee.split("&"),Ut=0;Ut<Ge.length;Ut++){var Ke=Ge[Ut].split("=");if(1<Ke.length){var Qt=Ke[0];Ke=Ke[1];var Bt=Qt.split("_");he=2<=Bt.length&&Bt[1]=="type"?he+(Qt+"="+Ke+"&"):he+(Qt+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+b+`
`+x+`
`+he})}function sd(h,b,x,P,Q,ee,he){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+b+`
`+x+`
`+ee+" "+he})}function Qs(h,b,x,P){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Wt(h,x)+(P?" "+P:"")})}function Di(h,b){h.info(function(){return"TIMEOUT: "+b})}Ys.prototype.info=function(){};function Wt(h,b){if(!h.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(h=0;h<x.length;h++)if(Array.isArray(x[h])){var P=x[h];if(!(2>P.length)){var Q=P[1];if(Array.isArray(Q)&&!(1>Q.length)){var ee=Q[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var he=1;he<Q.length;he++)Q[he]=""}}}}return Pl(x)}catch{return b}}var Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ss={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function oo(){}R(oo,Dl),oo.prototype.g=function(){return new XMLHttpRequest},oo.prototype.i=function(){return{}},Qr=new oo;function ki(h,b,x,P){this.j=h,this.i=b,this.l=x,this.R=P||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ol}function Ol(){this.i=null,this.g="",this.h=!1}var Xs={},Xr={};function yi(h,b,x){h.L=1,h.v=ea(bt(b)),h.m=x,h.P=!0,rs(h,null)}function rs(h,b){h.F=Date.now(),mt(h),h.A=bt(h.v);var x=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),ls(x.i,"t",P),h.C=0,x=h.j.J,h.h=new Ol,h.g=vd(h.j,x?b:null,!h.m),0<h.O&&(h.M=new r0(T(h.Y,h,h.g),h.O)),b=h.U,x=h.g,P=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(qs[0]=Q.toString()),Q=qs);for(var ee=0;ee<Q.length;ee++){var he=It(x,Q[ee],P||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),Ks(),id(h.i,h.u,h.A,h.l,h.R,h.m)}ki.prototype.ca=function(h){h=h.target;const b=this.M;b&&Xn(h)==3?b.j():this.Y(h)},ki.prototype.Y=function(h){try{if(h==this.g)e:{const Bt=Xn(this.g);var b=this.g.Ba();const hs=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||ud(this.g)))){this.J||Bt!=4||b==7||(b==8||0>=hs?Ks(3):Ks(2)),lo(this);var x=this.g.Z();this.X=x;t:if(Zs(this)){var P=ud(this.g);h="";var Q=P.length,ee=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Ln(this);var he="";break t}this.h.i=new d.TextDecoder}for(b=0;b<Q;b++)this.h.h=!0,h+=this.h.i.decode(P[b],{stream:!(ee&&b==Q-1)});P.length=0,this.h.g+=h,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=x==200,sd(this.i,this.u,this.A,this.l,this.R,Bt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ut=this.g;if((Ge=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ge)){var Ke=Ge;break t}}Ke=null}if(x=Ke)Qs(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Un(this,x);else{this.o=!1,this.s=3,Ct(12),In(this),Ln(this);break e}}if(this.P){x=!0;let tn;for(;!this.J&&this.C<he.length;)if(tn=Js(this,he),tn==Xr){Bt==4&&(this.s=4,Ct(14),x=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Xs){this.s=4,Ct(15),Qs(this.i,this.l,he,"[Invalid Chunk]"),x=!1;break}else Qs(this.i,this.l,tn,null),Un(this,tn);if(Zs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||he.length!=0||this.h.h||(this.s=1,Ct(16),x=!1),this.o=this.o&&x,!x)Qs(this.i,this.l,he,"[Invalid Chunked Response]"),In(this),Ln(this);else if(0<he.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),oa(Qt),Qt.M=!0,Ct(11))}}else Qs(this.i,this.l,he,null),Un(this,he);Bt==4&&In(this),this.o&&!this.J&&(Bt==4?pd(this.j,this):(this.o=!1,mt(this)))}else d0(this.g),x==400&&0<he.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),In(this),Ln(this)}}}catch{}finally{}};function Zs(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Js(h,b){var x=h.C,P=b.indexOf(`
`,x);return P==-1?Xr:(x=Number(b.substring(x,P)),isNaN(x)?Xs:(P+=1,P+x>b.length?Xr:(b=b.slice(P,P+x),h.C=P+x,b)))}ki.prototype.cancel=function(){this.J=!0,In(this)};function mt(h){h.S=Date.now()+h.I,jl(h,h.I)}function jl(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ws(T(h.ba,h),b)}function lo(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ki.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Di(this.i,this.A),this.L!=2&&(Ks(),Ct(17)),In(this),this.s=2,Ln(this)):jl(this,this.S-h)};function Ln(h){h.j.G==0||h.J||pd(h.j,h)}function In(h){lo(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,un(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function Un(h,b){try{var x=h.j;if(x.G!=0&&(x.g==h||er(x.h,h))){if(!h.K&&er(x.h,h)&&x.G==3){try{var P=x.Da.g.parse(b)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<h.F)bo(x),yo(x);else break e;Gl(x),Ct(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=Ws(T(x.Za,x),6e3));if(1>=rd(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ds(x,11)}else if((h.K||x.g==h)&&bo(x),!j(b))for(Q=x.Da.g.parse(b),b=0;b<Q.length;b++){let Ke=Q[b];if(x.T=Ke[0],Ke=Ke[1],x.G==2)if(Ke[0]=="c"){x.K=Ke[1],x.ia=Ke[2];const Qt=Ke[3];Qt!=null&&(x.la=Qt,x.j.info("VER="+x.la));const Bt=Ke[4];Bt!=null&&(x.Aa=Bt,x.j.info("SVER="+x.Aa));const hs=Ke[5];hs!=null&&typeof hs=="number"&&0<hs&&(P=1.5*hs,x.L=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;const tn=h.g;if(tn){const Bi=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var ee=P.h;ee.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(tr(ee,ee.h),ee.h=null))}if(P.D){const Wl=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(P.ya=Wl,Je(P.I,P.D,Wl))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-h.F,x.j.info("Handshake RTT: "+x.R+"ms")),P=x;var he=h;if(P.qa=yd(P,P.J?P.ia:null,P.W),he.K){Kn(P.h,he);var Ge=he,Ut=P.L;Ut&&(Ge.I=Ut),Ge.B&&(lo(Ge),mt(Ge)),P.g=he}else fd(P);0<x.i.length&&vo(x)}else Ke[0]!="stop"&&Ke[0]!="close"||ds(x,7);else x.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?ds(x,7):ql(x):Ke[0]!="noop"&&x.l&&x.l.ta(Ke),x.v=0)}}Ks(4)}catch{}}var a0=class{constructor(h,b){this.g=h,this.map=b}};function Ml(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function rd(h){return h.h?1:h.g?h.g.size:0}function er(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function tr(h,b){h.g?h.g.add(b):h.h=b}function Kn(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Ml.prototype.cancel=function(){if(this.i=xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const x of h.g.values())b=b.concat(x.D);return b}return V(h.i)}function ad(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var b=[],x=h.length,P=0;P<x;P++)b.push(h[P]);return b}b=[],x=0;for(P in h)b[x++]=h[P];return b}function o0(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var b=[];h=h.length;for(var x=0;x<h;x++)b.push(x);return b}b=[],x=0;for(const P in h)b[x++]=P;return b}}}function Zr(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var x=o0(h),P=ad(h),Q=P.length,ee=0;ee<Q;ee++)b.call(void 0,P[ee],x&&x[ee],h)}var Ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(h,b){if(h){h=h.split("&");for(var x=0;x<h.length;x++){var P=h[x].indexOf("="),Q=null;if(0<=P){var ee=h[x].substring(0,P);Q=h[x].substring(P+1)}else ee=h[x];b(ee,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function as(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof as){this.h=h.h,nr(this,h.j),this.o=h.o,this.g=h.g,Jr(this,h.s),this.l=h.l;var b=h.i,x=new Oi;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),uo(this,x),this.m=h.m}else h&&(b=String(h).match(Ll))?(this.h=!1,nr(this,b[1]||"",!0),this.o=ir(b[2]||""),this.g=ir(b[3]||"",!0),Jr(this,b[4]),this.l=ir(b[5]||"",!0),uo(this,b[6]||"",!0),this.m=ir(b[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}as.prototype.toString=function(){var h=[],b=this.j;b&&h.push(Wn(b,Ul,!0),":");var x=this.g;return(x||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Wn(b,Ul,!0),"@"),h.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&h.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Wn(x,x.charAt(0)=="/"?Bl:od,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Wn(x,u0)),h.join("")};function bt(h){return new as(h)}function nr(h,b,x){h.j=x?ir(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Jr(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function uo(h,b,x){b instanceof Oi?(h.i=b,Fl(h.i,h.h)):(x||(b=Wn(b,c0)),h.i=new Oi(b,h.h))}function Je(h,b,x){h.i.set(b,x)}function ea(h){return Je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ir(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wn(h,b,x){return typeof h=="string"?(h=encodeURI(h).replace(b,l0),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function l0(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ul=/[#\/\?@]/g,od=/[#\?:]/g,Bl=/[#\?]/g,c0=/[#\?@]/g,u0=/#/g;function Oi(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Yn(h){h.g||(h.g=new Map,h.h=0,h.i&&co(h.i,function(b,x){h.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}t=Oi.prototype,t.add=function(h,b){Yn(this),this.i=null,h=cs(this,h);var x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(b),this.h+=1,this};function ho(h,b){Yn(h),b=cs(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function os(h,b){return Yn(h),b=cs(h,b),h.g.has(b)}t.forEach=function(h,b){Yn(this),this.g.forEach(function(x,P){x.forEach(function(Q){h.call(b,Q,P,this)},this)},this)},t.na=function(){Yn(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let P=0;P<b.length;P++){const Q=h[P];for(let ee=0;ee<Q.length;ee++)x.push(b[P])}return x},t.V=function(h){Yn(this);let b=[];if(typeof h=="string")os(this,h)&&(b=b.concat(this.g.get(cs(this,h))));else{h=Array.from(this.g.values());for(let x=0;x<h.length;x++)b=b.concat(h[x])}return b},t.set=function(h,b){return Yn(this),this.i=null,h=cs(this,h),os(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function ls(h,b,x){ho(h,b),0<x.length&&(h.i=null,h.g.set(cs(h,b),V(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var P=b[x];const ee=encodeURIComponent(String(P)),he=this.V(P);for(P=0;P<he.length;P++){var Q=ee;he[P]!==""&&(Q+="="+encodeURIComponent(String(he[P]))),h.push(Q)}}return this.i=h.join("&")};function cs(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Fl(h,b){b&&!h.j&&(Yn(h),h.i=null,h.g.forEach(function(x,P){var Q=P.toLowerCase();P!=Q&&(ho(this,P),ls(this,Q,x))},h)),h.j=b}function ld(h,b){const x=new Ys;if(d.Image){const P=new Image;P.onload=E(Qn,x,"TestLoadImage: loaded",!0,b,P),P.onerror=E(Qn,x,"TestLoadImage: error",!1,b,P),P.onabort=E(Qn,x,"TestLoadImage: abort",!1,b,P),P.ontimeout=E(Qn,x,"TestLoadImage: timeout",!1,b,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else b(!1)}function ta(h,b){const x=new Ys,P=new AbortController,Q=setTimeout(()=>{P.abort(),Qn(x,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:P.signal}).then(ee=>{clearTimeout(Q),ee.ok?Qn(x,"TestPingServer: ok",!0,b):Qn(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Qn(x,"TestPingServer: error",!1,b)})}function Qn(h,b,x,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(x)}catch{}}function na(){this.g=new _n}function ji(h,b,x){const P=x||"";try{Zr(h,function(Q,ee){let he=Q;g(Q)&&(he=Pl(Q)),b.push(P+ee+"="+encodeURIComponent(he))})}catch(Q){throw b.push(P+"type="+encodeURIComponent("_badmap")),Q}}function sr(h){this.l=h.Ub||null,this.j=h.eb||!1}R(sr,Dl),sr.prototype.g=function(){return new us(this.l,this.j)},sr.prototype.i=function(h){return function(){return h}}({});function us(h,b){Vt.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(us,Vt),t=us.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,Vi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Mi(this):Vi(this),this.readyState==3&&zl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Mi(this))},t.Qa=function(h){this.g&&(this.response=h,Mi(this))},t.ga=function(){this.g&&Mi(this)};function Mi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Vi(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=b.next();return h.join(`\r
`)};function Vi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hl(h){let b="";return $(h,function(x,P){b+=P,b+=":",b+=x,b+=`\r
`}),b}function Yt(h,b,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=Hl(x),typeof h=="string"?x!=null&&encodeURIComponent(String(x)):Je(h,b,x))}function it(h){Vt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(it,Vt);var fo=/^https?$/i,ia=["POST","PUT"];t=it.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?ed(this.o):ed(Qr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(ee){cd(this,ee);return}if(h=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)x.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ee of P.keys())x.set(ee,P.get(ee));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ia,b,void 0))||P||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of x)this.g.setRequestHeader(ee,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){cd(this,ee)}};function cd(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,mo(h),Li(h)}function mo(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),Li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},t.bb=function(){po(this)};function po(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Xn(h)!=4||h.Z()!=2)){if(h.u&&Xn(h)==4)Ju(h.Ea,0,h);else if(Kt(h,"readystatechange"),Xn(h)==4){h.h=!1;try{const he=h.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var P;if(P=he===0){var Q=String(h.D).match(Ll)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),P=!fo.test(Q?Q.toLowerCase():"")}x=P}if(x)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var ee=2<Xn(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",mo(h)}}finally{Li(h)}}}}function Li(h,b){if(h.g){sa(h);const x=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||Kt(h,"ready");try{x.onreadystatechange=P}catch{}}}function sa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Xn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Ii(b)}};function ud(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function d0(h){const b={};h=(h.g&&2<=Xn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(j(h[P]))continue;var x=B(h[P]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ee=b[Q]||[];b[Q]=ee,ee.push(x)}O(b,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(h,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||b}function go(h){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,h),this.cb=ra("retryDelaySeedMs",1e4,h),this.Wa=ra("forwardChannelMaxRetries",2,h),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ml(h&&h.concurrentRequestLimit),this.Da=new na,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=go.prototype,t.la=8,t.G=1,t.connect=function(h,b,x,P){Ct(0),this.W=h,this.H=b||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.I=yd(this,null,this.W),vo(this)};function ql(h){if(dd(h),h.G==3){var b=h.U++,x=bt(h.I);if(Je(x,"SID",h.K),Je(x,"RID",b),Je(x,"TYPE","terminate"),aa(h,x),b=new ki(h,h.j,b),b.L=2,b.v=ea(bt(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=b.v,x=!0),x||(b.g=vd(b.j,null),b.g.ea(b.v)),b.F=Date.now(),mt(b)}gd(h)}function yo(h){h.g&&(oa(h),h.g.cancel(),h.g=null)}function dd(h){yo(h),h.u&&(d.clearTimeout(h.u),h.u=null),bo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function vo(h){if(!Vl(h.h)&&!h.s){h.s=!0;var b=h.Ga;G||F(),se||(G(),se=!0),Re.add(b,h),h.B=0}}function h0(h,b){return rd(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ws(T(h.Ga,h,b),Kl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new ki(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=S(ee),k(ee,this.S)):ee=this.S),this.m!==null||this.O||(Q.H=ee,ee=null),this.P)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(b+=P,4096<b){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=hd(this,Q,b),x=bt(this.I),Je(x,"RID",h),Je(x,"CVER",22),this.D&&Je(x,"X-HTTP-Session-Id",this.D),aa(this,x),ee&&(this.O?b="headers="+encodeURIComponent(String(Hl(ee)))+"&"+b:this.m&&Yt(x,this.m,ee)),tr(this.h,Q),this.Ua&&Je(x,"TYPE","init"),this.P?(Je(x,"$req",b),Je(x,"SID","null"),Q.T=!0,yi(Q,x,null)):yi(Q,x,b),this.G=2}}else this.G==3&&(h?$l(this,h):this.i.length==0||Vl(this.h)||$l(this))};function $l(h,b){var x;b?x=b.l:x=h.U++;const P=bt(h.I);Je(P,"SID",h.K),Je(P,"RID",x),Je(P,"AID",h.T),aa(h,P),h.m&&h.o&&Yt(P,h.m,h.o),x=new ki(h,h.j,x,h.B+1),h.m===null&&(x.H=h.o),b&&(h.i=b.D.concat(h.i)),b=hd(h,x,1e3),x.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),tr(h.h,x),yi(x,P,b)}function aa(h,b){h.H&&$(h.H,function(x,P){Je(b,P,x)}),h.l&&Zr({},function(x,P){Je(b,P,x)})}function hd(h,b,x){x=Math.min(h.i.length,x);var P=h.l?T(h.l.Na,h.l,h):null;e:{var Q=h.i;let ee=-1;for(;;){const he=["count="+x];ee==-1?0<x?(ee=Q[0].g,he.push("ofs="+ee)):ee=0:he.push("ofs="+ee);let Ge=!0;for(let Ut=0;Ut<x;Ut++){let Ke=Q[Ut].g;const Qt=Q[Ut].map;if(Ke-=ee,0>Ke)ee=Math.max(0,Q[Ut].g-100),Ge=!1;else try{ji(Qt,he,"req"+Ke+"_")}catch{P&&P(Qt)}}if(Ge){P=he.join("&");break e}}}return h=h.i.splice(0,x),b.D=h,P}function fd(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;G||F(),se||(G(),se=!0),Re.add(b,h),h.v=0}}function Gl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ws(T(h.Fa,h),Kl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,md(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ws(T(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),yo(this),md(this))};function oa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function md(h){h.g=new ki(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=bt(h.qa);Je(b,"RID","rpc"),Je(b,"SID",h.K),Je(b,"AID",h.T),Je(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&Je(b,"TO",h.ja),Je(b,"TYPE","xmlhttp"),aa(h,b),h.m&&h.o&&Yt(b,h.m,h.o),h.L&&(h.g.I=h.L);var x=h.g;h=h.ia,x.L=1,x.v=ea(bt(b)),x.m=null,x.P=!0,rs(x,h)}t.Za=function(){this.C!=null&&(this.C=null,yo(this),Gl(this),Ct(19))};function bo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function pd(h,b){var x=null;if(h.g==b){bo(h),oa(h),h.g=null;var P=2}else if(er(h.h,b))x=b.D,Kn(h.h,b),P=1;else return;if(h.G!=0){if(b.o)if(P==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var Q=h.B;P=ro(),Kt(P,new nd(P,x)),vo(h)}else fd(h);else if(Q=b.s,Q==3||Q==0&&0<b.X||!(P==1&&h0(h,b)||P==2&&Gl(h)))switch(x&&0<x.length&&(b=h.h,b.i=b.i.concat(x)),Q){case 1:ds(h,5);break;case 4:ds(h,10);break;case 3:ds(h,6);break;default:ds(h,2)}}}function Kl(h,b){let x=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(x*=2),x*b}function ds(h,b){if(h.j.info("Error code "+b),b==2){var x=T(h.fb,h),P=h.Xa;const Q=!P;P=new as(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||nr(P,"https"),ea(P),Q?ld(P.toString(),x):ta(P.toString(),x)}else Ct(2);h.G=0,h.l&&h.l.sa(b),gd(h),dd(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function gd(h){if(h.G=0,h.ka=[],h.l){const b=xn(h.h);(b.length!=0||h.i.length!=0)&&(N(h.ka,b),N(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function yd(h,b,x){var P=x instanceof as?bt(x):new as(x);if(P.g!="")b&&(P.g=b+"."+P.g),Jr(P,P.s);else{var Q=d.location;P=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;var ee=new as(null);P&&nr(ee,P),b&&(ee.g=b),Q&&Jr(ee,Q),x&&(ee.l=x),P=ee}return x=h.D,b=h.ya,x&&b&&Je(P,x,b),Je(P,"VER",h.la),aa(h,P),P}function vd(h,b,x){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new it(new sr({eb:x})):new it(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bd(){}t=bd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _o(){}_o.prototype.g=function(h,b){return new wn(h,b)};function wn(h,b){Vt.call(this),this.g=new go(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!j(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!j(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Ui(this)}R(wn,Vt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){ql(this.g)},wn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.u&&(x={},x.__data__=Pl(h),h=x);b.i.push(new a0(b.Ya++,h)),b.G==3&&vo(b)},wn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,wn.aa.N.call(this)};function _d(h){$s.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const x in b){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}R(_d,$s);function xd(){gi.call(this),this.status=1}R(xd,gi);function Ui(h){this.g=h}R(Ui,bd),Ui.prototype.ua=function(){Kt(this.g,"a")},Ui.prototype.ta=function(h){Kt(this.g,new _d(h))},Ui.prototype.sa=function(h){Kt(this.g,new xd)},Ui.prototype.ra=function(){Kt(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Z4=function(){return new _o},X4=function(){return ro()},Q4=Gn,e2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,Lh=Lt,ss.COMPLETE="complete",Y4=ss,td.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Yc=td,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,W4=it}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const Db="@firebase/firestore",kb="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new kf("@firebase/firestore");function Wo(){return $a.logLevel}function ge(t,...e){if($a.logLevel<=Be.DEBUG){const n=e.map(og);$a.debug(`Firestore (${wl}): ${t}`,...n)}}function Bs(t,...e){if($a.logLevel<=Be.ERROR){const n=e.map(og);$a.error(`Firestore (${wl}): ${t}`,...n)}}function ol(t,...e){if($a.logLevel<=Be.WARN){const n=e.map(og);$a.warn(`Firestore (${wl}): ${t}`,...n)}}function og(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: `+t;throw Bs(e),new Error(e)}function st(t,e){t||Ae()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class HI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qI{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},d=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string"),new J4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new pn(e)}}class $I{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GI{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new $I(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){st(this.o===void 0);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ob(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string"),this.R=n.token,new Ob(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=WI(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function $e(t,e){return t<e?-1:t>e?1:0}function ll(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=-62135596800,Mb=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Mb);return new qt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jb)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mb}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new qt(0,0))}static max(){return new Ne(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="__name__";class Gi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(),i===void 0?i=e.length-n:i>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Gi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=Gi.isNumericId(e),a=Gi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Gi.extractNumericId(e).compare(Gi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class ht extends Gi{construct(e,n,i){return new ht(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const YI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Gi{construct(e,n,i){return new ln(e,n,i)}static isValidIdentifier(e){return YI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vb}static keyField(){return new ln([Vb])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ht.fromString(e))}static fromName(e){return new Te(ht.fromString(e).popFirst(5))}static empty(){return new Te(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function QI(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(i===1e9?new qt(n+1,0):new qt(n,i));return new Mr(a,Te.empty(),e)}function XI(t){return new Mr(t.readTime,t.key,vu)}class Mr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Mr(Ne.min(),Te.empty(),vu)}static max(){return new Mr(Ne.max(),Te.empty(),vu)}}function ZI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==JI)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,i)=>{n(e)})}static reject(e){return new ae((n,i)=>{i(e)})}static waitFor(e){return new ae((n,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},f=>i(f))}),c=!0,l===a&&n()})}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next(a=>a?ae.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ae((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const g=f;n(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,n){return new ae((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function tP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function Bf(t){return t==null}function sf(t){return t===0&&1/t==-1/0}function nP(t){return typeof t=="number"&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="";function iP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lb(e)),e=sP(t.get(n),e);return Lb(e)}function sP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case tT:n+="";break;default:n+=l}}return n}function Lb(t){return t+tT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new on(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,i,a,l){return this}insert(e,n,i){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bb(this.data.getIterator())}getIteratorFrom(e){return new Bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ti([])}unionWith(e){let n=new $t(ln.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new iT("Invalid base64 string: "+l):l}}(e);return new cn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const rP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(t){if(st(!!t),typeof t=="string"){let e=0;const n=rP.exec(t);if(st(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="server_timestamp",rT="__type__",aT="__previous_value__",oT="__local_write_time__";function cg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rT])===null||n===void 0?void 0:n.stringValue)===sT}function Ff(t){const e=t.mapValue.fields[aT];return cg(e)?Ff(e):e}function bu(t){const e=Vr(t.mapValue.fields[oT].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,i,a,l,c,d,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}const rf="(default)";class _u{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="__type__",oP="__max__",Ch={mapValue:{}},cT="__vector__",af="value";function Ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cg(t)?4:cP(t)?9007199254740991:lP(t)?10:11:Ae()}function ns(t,e){if(t===e)return!0;const n=Ur(t);if(n!==Ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vr(a.timestampValue),d=Vr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Lr(a.bytesValue).isEqual(Lr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),d=Nt(l.doubleValue);return c===d?sf(c)===sf(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Ub(c)!==Ub(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!ns(c[f],d[f])))return!1;return!0}(t,e);default:return Ae()}}function xu(t,e){return(t.values||[]).find(n=>ns(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=Ur(t),i=Ur(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Nt(l.integerValue||l.doubleValue),f=Nt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return Fb(t.timestampValue,e.timestampValue);case 4:return Fb(bu(t),bu(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Lr(l),f=Lr(c);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),f=c.split("/");for(let g=0;g<d.length&&g<f.length;g++){const v=$e(d[g],f[g]);if(v!==0)return v}return $e(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=$e(Nt(l.latitude),Nt(c.latitude));return d!==0?d:$e(Nt(l.longitude),Nt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zb(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,f,g,v;const _=l.fields||{},T=c.fields||{},E=(d=_[af])===null||d===void 0?void 0:d.arrayValue,R=(f=T[af])===null||f===void 0?void 0:f.arrayValue,V=$e(((g=E==null?void 0:E.values)===null||g===void 0?void 0:g.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:zb(E,R)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Ch.mapValue&&c===Ch.mapValue)return 0;if(l===Ch.mapValue)return 1;if(c===Ch.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),g=c.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let _=0;_<f.length&&_<v.length;++_){const T=$e(f[_],v[_]);if(T!==0)return T;const E=cl(d[f[_]],g[v[_]]);if(E!==0)return E}return $e(f.length,v.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function Fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=Vr(t),i=Vr(e),a=$e(n.seconds,i.seconds);return a!==0?a:$e(n.nanos,i.nanos)}function zb(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=cl(n[a],i[a]);if(l)return l}return $e(n.length,i.length)}function ul(t){return t2(t)}function t2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Vr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=t2(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${t2(n.fields[c])}`;return a+"}"}(t.mapValue):Ae()}function Uh(t){switch(Ur(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ff(t);return e?16+Uh(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Uh(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Xa(i.fields,(l,c)=>{a+=l.length+Uh(c)}),a}(t.mapValue);default:throw Ae()}}function Hb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function n2(t){return!!t&&"integerValue"in t}function ug(t){return!!t&&"arrayValue"in t}function qb(t){return!!t&&"nullValue"in t}function $b(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bh(t){return!!t&&"mapValue"in t}function lP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lT])===null||n===void 0?void 0:n.stringValue)===cT}function au(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=au(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=ln.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=au(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Bh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Xa(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new ui(au(this.value))}}function uT(t){const e=[];return Xa(t.fields,(n,i)=>{const a=new ln([n]);if(Bh(i)){const l=uT(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new gn(e,0,Ne.min(),Ne.min(),Ne.min(),ui.empty(),0)}static newFoundDocument(e,n,i,a){return new gn(e,1,n,Ne.min(),i,a,0)}static newNoDocument(e,n){return new gn(e,2,n,Ne.min(),Ne.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ne.min(),Ne.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.position=e,this.inclusive=n}}function Gb(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),n.key):i=cl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Kb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function uP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{}class Mt extends dT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new hP(e,n,i):n==="array-contains"?new pP(e,i):n==="in"?new gP(e,i):n==="not-in"?new yP(e,i):n==="array-contains-any"?new vP(e,i):new Mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new fP(e,i):new mP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends dT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Si(e,n)}matches(e){return hT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function hT(t){return t.op==="and"}function fT(t){return dP(t)&&hT(t)}function dP(t){for(const e of t.filters)if(e instanceof Si)return!1;return!0}function i2(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+ul(t.value);if(fT(t))return t.filters.map(e=>i2(e)).join(",");{const e=t.filters.map(n=>i2(n)).join(",");return`${t.op}(${e})`}}function mT(t,e){return t instanceof Mt?function(i,a){return a instanceof Mt&&i.op===a.op&&i.field.isEqual(a.field)&&ns(i.value,a.value)}(t,e):t instanceof Si?function(i,a){return a instanceof Si&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&mT(c,a.filters[d]),!0):!1}(t,e):void Ae()}function pT(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`}(t):t instanceof Si?function(n){return n.op.toString()+" {"+n.getFilters().map(pT).join(" ,")+"}"}(t):"Filter"}class hP extends Mt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class fP extends Mt{constructor(e,n){super(e,"in",n),this.keys=gT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mP extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=gT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class pP extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ug(n)&&xu(n.arrayValue,this.value)}}class gP extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class yP extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xu(this.value.arrayValue,n)}}class vP extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function Wb(t,e=null,n=[],i=[],a=null,l=null,c=null){return new bP(t,e,n,i,a,l,c)}function dg(t){const e=ke(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>i2(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ul(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ul(i)).join(",")),e.le=n}return e.le}function hg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kb(t.startAt,e.startAt)&&Kb(t.endAt,e.endAt)}function s2(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function _P(t,e,n,i,a,l,c,d){return new Fu(t,e,n,i,a,l,c,d)}function fg(t){return new Fu(t)}function Yb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yT(t){return t.collectionGroup!==null}function ou(t){const e=ke(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(ln.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new lf(l,i))}),n.has(ln.keyField().canonicalString())||e.he.push(new lf(ln.keyField(),i))}return e.he}function Wi(t){const e=ke(t);return e.Pe||(e.Pe=xP(e,ou(t))),e.Pe}function xP(t,e){if(t.limitType==="F")return Wb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new lf(a.field,l)});const n=t.endAt?new of(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new of(t.startAt.position,t.startAt.inclusive):null;return Wb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function r2(t,e){const n=t.filters.concat([e]);return new Fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function a2(t,e,n){return new Fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return hg(Wi(t),Wi(e))&&t.limitType===e.limitType}function vT(t){return`${dg(Wi(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>pT(a)).join(", ")}]`),Bf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>ul(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>ul(a)).join(",")),`Target(${i})`}(Wi(t))}; limitType=${t.limitType})`}function Hf(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of ou(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,d,f){const g=Gb(c,d,f);return c.inclusive?g<=0:g<0}(i.startAt,ou(i),a)||i.endAt&&!function(c,d,f){const g=Gb(c,d,f);return c.inclusive?g>=0:g>0}(i.endAt,ou(i),a))}(t,e)}function wP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bT(t){return(e,n)=>{let i=!1;for(const a of ou(t)){const l=TP(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function TP(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(l,c,d){const f=c.data.field(l),g=d.data.field(l);return f!==null&&g!==null?cl(f,g):Ae()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return nT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new vt(Te.comparator);function Fs(){return EP}const _T=new vt(Te.comparator);function Qc(...t){let e=_T;for(const n of t)e=e.insert(n.key,n);return e}function xT(t){let e=_T;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ka(){return lu()}function wT(){return lu()}function lu(){return new Za(t=>t.toString(),(t,e)=>t.isEqual(e))}const CP=new vt(Te.comparator),SP=new $t(Te.comparator);function Fe(...t){let e=SP;for(const n of t)e=e.add(n);return e}const AP=new $t($e);function RP(){return AP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function TT(t){return{integerValue:""+t}}function NP(t,e){return nP(e)?TT(e):mg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function IP(t,e,n){return t instanceof cf?function(a,l){const c={fields:{[rT]:{stringValue:sT},[oT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&cg(l)&&(l=Ff(l)),l&&(c.fields[aT]=l),{mapValue:c}}(n,e):t instanceof wu?CT(t,e):t instanceof Tu?ST(t,e):function(a,l){const c=ET(a,l),d=Qb(c)+Qb(a.Ie);return n2(c)&&n2(a.Ie)?TT(d):mg(a.serializer,d)}(t,e)}function PP(t,e,n){return t instanceof wu?CT(t,e):t instanceof Tu?ST(t,e):n}function ET(t,e){return t instanceof uf?function(i){return n2(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class cf extends qf{}class wu extends qf{constructor(e){super(),this.elements=e}}function CT(t,e){const n=AT(e);for(const i of t.elements)n.some(a=>ns(a,i))||n.push(i);return{arrayValue:{values:n}}}class Tu extends qf{constructor(e){super(),this.elements=e}}function ST(t,e){let n=AT(e);for(const i of t.elements)n=n.filter(a=>!ns(a,i));return{arrayValue:{values:n}}}class uf extends qf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Qb(t){return Nt(t.integerValue||t.doubleValue)}function AT(t){return ug(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DP(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof wu&&a instanceof wu||i instanceof Tu&&a instanceof Tu?ll(i.elements,a.elements,ns):i instanceof uf&&a instanceof uf?ns(i.Ie,a.Ie):i instanceof cf&&a instanceof cf}(t.transform,e.transform)}class kP{constructor(e,n){this.version=e,this.transformResults=n}}class Yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $f{}function RT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new IT(t.key,Yi.none()):new zu(t.key,t.data,Yi.none());{const n=t.data,i=ui.empty();let a=new $t(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ja(t.key,i,new Ti(a.toArray()),Yi.none())}}function OP(t,e,n){t instanceof zu?function(a,l,c){const d=a.value.clone(),f=Zb(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Ja?function(a,l,c){if(!Fh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Zb(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(NT(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function cu(t,e,n,i){return t instanceof zu?function(l,c,d,f){if(!Fh(l.precondition,c))return d;const g=l.value.clone(),v=Jb(l.fieldTransforms,f,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ja?function(l,c,d,f){if(!Fh(l.precondition,c))return d;const g=Jb(l.fieldTransforms,f,c),v=c.data;return v.setAll(NT(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,c,d){return Fh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function jP(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=ET(i.transform,a||null);l!=null&&(n===null&&(n=ui.empty()),n.set(i.field,l))}return n||null}function Xb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ll(i,a,(l,c)=>DP(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zu extends $f{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ja extends $f{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function NT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Zb(t,e,n){const i=new Map;st(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,PP(c,d,n[a]))}return i}function Jb(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,IP(l,c,e))}return i}class IT extends $f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MP extends $f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&OP(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=cu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=cu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=wT();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=RT(c,d);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,i)=>Xb(n,i))&&ll(this.baseMutations,e.baseMutations,(n,i)=>Xb(n,i))}}class pg{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){st(e.mutations.length===i.length);let a=function(){return CP}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new pg(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ye;function BP(t){switch(t){case oe.OK:return Ae();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ae()}}function PT(t){if(t===void 0)return Bs("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Ot.OK:return oe.OK;case Ot.CANCELLED:return oe.CANCELLED;case Ot.UNKNOWN:return oe.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return oe.INTERNAL;case Ot.UNAVAILABLE:return oe.UNAVAILABLE;case Ot.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ot.NOT_FOUND:return oe.NOT_FOUND;case Ot.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ot.ABORTED:return oe.ABORTED;case Ot.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ot.DATA_LOSS:return oe.DATA_LOSS;default:return Ae()}}(Ye=Ot||(Ot={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new kr([4294967295,4294967295],0);function e_(t){const e=FP().encode(t),n=new K4;return n.update(e),new Uint8Array(n.digest())}function t_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new kr([n,i],0),new kr([a,l],0)]}class gg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xc(`Invalid padding: ${n}`);if(i<0)throw new Xc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=kr.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(kr.fromNumber(i)));return a.compare(zP)===1&&(a=new kr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=e_(e),[i,a]=t_(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new gg(l,a,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const n=e_(e),[i,a]=t_(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Gf(Ne.min(),a,new vt($e),Fs(),Fe())}}class Hu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Hu(i,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class DT{constructor(e,n){this.targetId=e,this.ge=n}}class kT{constructor(e,n,i=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class n_{constructor(){this.pe=0,this.ye=i_(),this.we=cn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Fe(),n=Fe(),i=Fe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ae()}}),new Hu(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=i_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,st(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class HP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Fs(),this.$e=Sh(),this.Ke=Sh(),this.Ue=new vt($e)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(s2(l))if(i===0){const c=new Te(l.path);this.ze(n,c,gn.newNoDocument(c,Ne.min()))}else st(i===1);else{const c=this.et(n);if(c!==i){const d=this.tt(e),f=d?this.nt(d,e,c):1;if(f!==0){this.Ye(n);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Lr(i).toUint8Array()}catch(f){if(f instanceof iT)return ol("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new gg(c,a,l)}catch(f){return ol(f instanceof Xc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ee===0?null:d}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&s2(d.target)){const f=new Te(d.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,gn.newNoDocument(f,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Fe();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(f=>{const g=this.Xe(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Gf(e,n,this.Ue,this.Qe,i);return this.Qe=Fs(),this.$e=Sh(),this.Ke=Sh(),this.Ue=new vt($e),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new n_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new $t($e),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new $t($e),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new n_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Sh(){return new vt(Te.comparator)}function i_(){return new vt(Te.comparator)}const qP={asc:"ASCENDING",desc:"DESCENDING"},$P={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GP={and:"AND",or:"OR"};class KP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function o2(t,e){return t.useProto3Json||Bf(e)?e:{value:e}}function df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WP(t,e){return df(t,e.toTimestamp())}function Qi(t){return st(!!t),Ne.fromTimestamp(function(n){const i=Vr(n);return new qt(i.seconds,i.nanos)}(t))}function yg(t,e){return l2(t,e).canonicalString()}function l2(t,e){const n=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jT(t){const e=ht.fromString(t);return st(BT(e)),e}function c2(t,e){return yg(t.databaseId,e.path)}function wp(t,e){const n=jT(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(VT(n))}function MT(t,e){return yg(t.databaseId,e)}function YP(t){const e=jT(t);return e.length===4?ht.emptyPath():VT(e)}function u2(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VT(t){return st(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function s_(t,e,n){return{name:c2(t,e),fields:n.value.mapValue.fields}}function QP(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(st(v===void 0||typeof v=="string"),cn.fromBase64String(v||"")):(st(v===void 0||v instanceof Buffer||v instanceof Uint8Array),cn.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?oe.UNKNOWN:PT(g.code);return new ve(v,g.message||"")}(c);n=new kT(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=wp(t,i.document.name),l=Qi(i.document.updateTime),c=i.document.createTime?Qi(i.document.createTime):Ne.min(),d=new ui({mapValue:{fields:i.document.fields}}),f=gn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];n=new zh(g,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=wp(t,i.document),l=i.readTime?Qi(i.readTime):Ne.min(),c=gn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new zh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=wp(t,i.document),l=i.removedTargetIds||[];n=new zh([],l,a,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new UP(a,l),d=i.targetId;n=new DT(d,c)}}return n}function XP(t,e){let n;if(e instanceof zu)n={update:s_(t,e.key,e.value)};else if(e instanceof IT)n={delete:c2(t,e.key)};else if(e instanceof Ja)n={update:s_(t,e.key,e.data),updateMask:aD(e.fieldMask)};else{if(!(e instanceof MP))return Ae();n={verify:c2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uf)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ae()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:WP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(t,e.precondition)),n}function ZP(t,e){return t&&t.length>0?(st(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?Qi(a.updateTime):Qi(l);return c.isEqual(Ne.min())&&(c=Qi(l)),new kP(c,a.transformResults||[])}(n,e))):[]}function JP(t,e){return{documents:[MT(t,e.path)]}}function eD(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=MT(t,a);const l=function(g){if(g.length!==0)return UT(Si.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Qo(T.field),direction:iD(T.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=o2(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:a}}function tD(t){let e=YP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){st(i===1);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(_){const T=LT(_);return T instanceof Si&&fT(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(T=>function(R){return new lf(Xo(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(T))}(n.orderBy));let d=null;n.limit&&(d=function(_){let T;return T=typeof _=="object"?_.value:_,Bf(T)?null:T}(n.limit));let f=null;n.startAt&&(f=function(_){const T=!!_.before,E=_.values||[];return new of(E,T)}(n.startAt));let g=null;return n.endAt&&(g=function(_){const T=!_.before,E=_.values||[];return new of(E,T)}(n.endAt)),_P(e,a,c,l,d,"F",f,g)}function nD(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Xo(n.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Xo(n.unaryFilter.field);return Mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xo(n.unaryFilter.field);return Mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xo(n.unaryFilter.field);return Mt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(Xo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Si.create(n.compositeFilter.filters.map(i=>LT(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function iD(t){return qP[t]}function sD(t){return $P[t]}function rD(t){return GP[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return ln.fromServerFormat(t.fieldPath)}function UT(t){return t instanceof Mt?function(n){if(n.op==="=="){if($b(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(qb(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($b(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(qb(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:sD(n.op),value:n.value}}}(t):t instanceof Si?function(n){const i=n.getFilters().map(a=>UT(a));return i.length===1?i[0]:{compositeFilter:{op:rD(n.op),filters:i}}}(t):Ae()}function aD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,i,a,l=Ne.min(),c=Ne.min(),d=cn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.Tt=e}}function lD(t){const e=tD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?a2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.Tn=new uD}addToCollectionParentIndex(e,n){return this.Tn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Mr.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class uD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new $t(ht.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new $t(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FT=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(FT,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new dl(0)}static Un(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LruGarbageCollector",dD=1048576;function o_([t,e],[n,i]){const a=$e(t,n);return a===0?$e(e,i):a}class hD{constructor(e){this.Hn=e,this.buffer=new $t(o_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();o_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ge(a_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){El(n)?ge(a_,"Ignoring IndexedDB error during garbage collection: ",n):await Tl(n)}await this.er(3e5)})}}class mD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Uf.ae);const i=new hD(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(r_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,d,f,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(g=Date.now(),Wo()<=Be.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(g-f)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function pD(t,e){return new mD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.changes=new Za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&cu(i.mutation,a,Ti.empty(),qt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Fe()){const a=ka();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=Qc();return l.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=ka();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Fe()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,a){let l=Fs();const c=lu(),d=function(){return lu()}();return n.forEach((f,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ja)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),cu(v.mutation,g,v.mutation.getFieldMask(),qt.now())):c.set(g.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((g,v)=>c.set(g,v)),n.forEach((g,v)=>{var _;return d.set(g,new yD(v,(_=c.get(g))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const i=lu();let a=new vt((c,d)=>c-d),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(f=>{const g=n.get(f);if(g===null)return;let v=i.get(f)||Ti.empty();v=d.applyToLocalView(g,v),i.set(f,v);const _=(a.get(d.batchId)||Fe()).add(f);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,v=f.value,_=wT();v.forEach(T=>{if(!l.has(T)){const E=RT(n.get(T),i.get(T));E!==null&&_.set(T,E),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(ka());let d=vu,f=l;return c.next(g=>ae.forEach(g,(v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{f=f.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,f,g,Fe())).next(v=>({batchId:d,changes:xT(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let a=Qc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Qc();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,f=>{const g=function(_,T){return new Fu(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((_,T)=>{c=c.insert(_,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((f,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,gn.newInvalidDocument(v)))});let d=Qc();return c.forEach((f,g)=>{const v=l.get(f);v!==void 0&&cu(v.mutation,g,Ti.empty(),qt.now()),Hf(n,g)&&(d=d.insert(f,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ae.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:lD(a.bundledQuery),readTime:Qi(a.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.overlays=new vt(Te.comparator),this.Rr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ka();return ae.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=ka(),l=n.length+1,c=new Te(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new vt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=ka(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ka(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ae.resolve(d)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LP(n,i));let l=this.Rr.get(n);l===void 0&&(l=Fe(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Vr=new $t(en.mr),this.gr=new $t(en.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new en(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new en(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new Te(new ht([])),i=new en(n,e),a=new en(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Te(new ht([])),i=new en(n,e),a=new en(n,e+1);let l=Fe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new en(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Te.comparator(e.key,n.key)||$e(e.Cr,n.Cr)}static pr(e,n){return $e(e.Cr,n.Cr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new $t(en.mr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VP(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new en(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?lg:this.Fr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new $t($e);return n.forEach(a=>{const l=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),ae.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new en(new Te(l),0);let d=new $t($e);return this.Mr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(f.Cr)),!0)},c),ae.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){st(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ae.forEach(n.mutations,a=>{const l=new en(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new en(n,0),a=this.Mr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.kr=e,this.docs=function(){return new vt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let i=Fs();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():gn.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Fs();const c=n.path,d=new Te(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:v}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||ZI(XI(v),i)<=0||(a.has(v.key)||Hf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ae()}qr(e,n){return ae.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ED(this)}getSize(e){return ae.resolve(this.size)}}class ED extends gD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ae.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.persistence=e,this.Qr=new Za(n=>dg(n),hg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new vg,this.targetCount=0,this.Ur=dl.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ae.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.zn(n),ae.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Uf(0),this.zr=!1,this.zr=!0,this.jr=new xD,this.referenceDelegate=e(this),this.Hr=new CD(this),this.indexManager=new cD,this.remoteDocumentCache=function(a){return new TD(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new oD(n),this.Yr=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _D,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new wD(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const a=new SD(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return ae.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class SD extends eP{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.ti=new vg,this.ni=null}static ri(e){return new bg(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ae.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.ii,i=>{const a=Te.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,Ne.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ae.or([()=>ae.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class hf{constructor(e,n){this.persistence=e,this.oi=new Za(i=>iP(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=pD(this,n)}static ri(e,n){return new hf(e,n)}Zr(){}Xr(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ae.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ae.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(d=>{d||(i++,l.removeEntry(c,Ne.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ae.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uh(e.data.value)),n}ar(e,n,i){return ae.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Fe(),a=Fe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new _g(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return v8()?8:tP(vn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new AD;return this._s(e,n,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,n,c,d.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(Wo()<=Be.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ae.resolve()):(Wo()<=Be.DEBUG&&ge("QueryEngine","Query:",Yo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Wo()<=Be.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):ae.resolve())}rs(e,n){if(Yb(n))return ae.resolve(null);let i=Wi(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=a2(n,null,"F"),i=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Fe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.cs(n,d);return this.ls(n,g,c,f.readTime)?this.rs(e,a2(n,null,"F")):this.hs(e,g,n,f)}))})))}ss(e,n,i,a){return Yb(n)||a.isEqual(Ne.min())?ae.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?ae.resolve(null):(Wo()<=Be.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Yo(n)),this.hs(e,c,n,QI(a,vu)).next(d=>d))})}cs(e,n){let i=new $t(bT(e));return n.forEach((a,l)=>{Hf(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return Wo()<=Be.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.ns.getDocumentsMatchingQuery(e,n,Mr.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",ND=3e8;class ID{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new vt($e),this.Is=new Za(l=>dg(l),hg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function PD(t,e,n,i){return new ID(t,e,n,i)}async function HT(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let f=Fe();for(const g of a){c.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function DD(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,f,g,v){const _=g.batch,T=_.keys();let E=ae.resolve();return T.forEach(R=>{E=E.next(()=>v.getEntry(f,R)).next(V=>{const N=g.docVersions.get(R);st(N!==null),V.version.compareTo(N)<0&&(_.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),v.addEntry(V)))})}),E.next(()=>d.mutationQueue.removeMutationBatch(f,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=Fe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(f=f.add(d.batch.mutations[g].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function qT(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function kD(t,e){const n=ke(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const d=[];e.targetChanges.forEach((v,_)=>{const T=a.get(_);if(!T)return;d.push(n.Hr.removeMatchingKeys(l,v.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,v.addedDocuments,_)));let E=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(cn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(v.resumeToken,i)),a=a.insert(_,E),function(V,N,D){return V.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=ND?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(T,E,v)&&d.push(n.Hr.updateTargetData(l,E))});let f=Fs(),g=Fe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(OD(l,c,e.documentUpdates).next(v=>{f=v.Vs,g=v.fs})),!i.isEqual(Ne.min())){const v=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,f,g)).next(()=>f)}).then(l=>(n.Ts=a,l))}function OD(t,e,n){let i=Fe(),a=Fe();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Fs();return n.forEach((d,f)=>{const g=l.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ge(xg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{Vs:c,fs:a}})}function jD(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=lg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function MD(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,ae.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new Ir(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function d2(t,e,n){const i=ke(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!El(c))throw c;ge(xg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function l_(t,e,n){const i=ke(t);let a=Ne.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,g,v){const _=ke(f),T=_.Is.get(v);return T!==void 0?ae.resolve(_.Ts.get(T)):_.Hr.getTargetData(g,v)}(i,c,Wi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:Ne.min(),n?l:Fe())).next(d=>(VD(i,wP(e),d),{documents:d,gs:l})))}function VD(t,e,n){let i=t.Es.get(e)||Ne.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class c_{constructor(){this.activeTargetIds=RP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LD{constructor(){this.ho=new c_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new c_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="ConnectivityMonitor";class d_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ge(u_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ge(u_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function h2(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===rf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,n,i,a,l){const c=h2(),d=this.So(e,n.toUriEncodedString());ge(Tp,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,l),this.vo(e,d,f,i).then(g=>(ge(Tp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw ol(Tp,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",i),g})}Co(e,n,i,a,l,c){return this.bo(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,n){const i=BD[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class HD extends FD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=h2();return new Promise((c,d)=>{const f=new W4;f.setWithCredentials(!0),f.listenOnce(Y4.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Lh.NO_ERROR:const v=f.getResponseJson();ge(fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Lh.TIMEOUT:ge(fn,`RPC '${e}' ${l} timed out`),d(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const _=f.getStatus();if(ge(fn,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const E=T==null?void 0:T.error;if(E&&E.status&&E.message){const R=function(N){const D=N.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(D)>=0?D:oe.UNKNOWN}(E.status);d(new ve(R,E.message))}else d(new ve(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ge(fn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);ge(fn,`RPC '${e}' ${l} sending request:`,a),f.send(n,"POST",g,i,15)})}Wo(e,n,i){const a=h2(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Z4(),d=X4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const v=l.join("");ge(fn,`Creating RPC '${e}' stream ${a}: ${v}`,f);const _=c.createWebChannel(v,f);let T=!1,E=!1;const R=new zD({Fo:N=>{E?ge(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(T||(ge(fn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),ge(fn,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Mo:()=>_.close()}),V=(N,D,j)=>{N.listen(D,L=>{try{j(L)}catch(Y){setTimeout(()=>{throw Y},0)}})};return V(_,Yc.EventType.OPEN,()=>{E||(ge(fn,`RPC '${e}' stream ${a} transport opened.`),R.Qo())}),V(_,Yc.EventType.CLOSE,()=>{E||(E=!0,ge(fn,`RPC '${e}' stream ${a} transport closed`),R.Ko())}),V(_,Yc.EventType.ERROR,N=>{E||(E=!0,ol(fn,`RPC '${e}' stream ${a} transport errored:`,N),R.Ko(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),V(_,Yc.EventType.MESSAGE,N=>{var D;if(!E){const j=N.data[0];st(!!j);const L=j,Y=(L==null?void 0:L.error)||((D=L[0])===null||D===void 0?void 0:D.error);if(Y){ge(fn,`RPC '${e}' stream ${a} received error:`,Y);const K=Y.status;let $=function(C){const k=Ot[C];if(k!==void 0)return PT(k)}(K),O=Y.message;$===void 0&&($=oe.INTERNAL,O="Unknown error status: "+K+" with message "+Y.message),E=!0,R.Ko(new ve($,O)),_.close()}else ge(fn,`RPC '${e}' stream ${a} received:`,j),R.Uo(j)}}),V(d,Q4.STAT_EVENT,N=>{N.stat===e2.PROXY?ge(fn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===e2.NOPROXY&&ge(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return new KP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="PersistentStream";class GT{constructor(e,n,i,a,l,c,d,f){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $T(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ge(h_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ge(h_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qD extends GT{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=QP(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?Qi(c.readTime):Ne.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=u2(this.serializer),n.addTarget=function(l,c){let d;const f=c.target;if(d=s2(f)?{documents:JP(l,f)}:{query:eD(l,f).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=OT(l,c.resumeToken);const g=o2(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=df(l,c.snapshotVersion.toTimestamp());const g=o2(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=nD(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=u2(this.serializer),n.removeTarget=e,this.I_(n)}}class $D extends GT{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=ZP(e.writeResults,e.commitTime),i=Qi(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=u2(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>XP(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{}class KD extends GD{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,l2(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(oe.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,l2(n,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(oe.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bs(n),this.N_=!1):ge("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="RemoteStore";class YD{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{eo(this)&&(ge(Ga,"Restarting streams for network reachability change."),await async function(f){const g=ke(f);g.W_.add(4),await qu(g),g.j_.set("Unknown"),g.W_.delete(4),await Wf(g)}(this))})}),this.j_=new WD(i,a)}}async function Wf(t){if(eo(t))for(const e of t.G_)await e(!0)}async function qu(t){for(const e of t.G_)await e(!1)}function KT(t,e){const n=ke(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Cg(n)?Eg(n):Cl(n).c_()&&Tg(n,e))}function wg(t,e){const n=ke(t),i=Cl(n);n.U_.delete(e),i.c_()&&WT(n,e),n.U_.size===0&&(i.c_()?i.P_():eo(n)&&n.j_.set("Unknown"))}function Tg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).y_(e)}function WT(t,e){t.H_.Ne(e),Cl(t).w_(e)}function Eg(t){t.H_=new HP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.j_.B_()}function Cg(t){return eo(t)&&!Cl(t).u_()&&t.U_.size>0}function eo(t){return ke(t).W_.size===0}function YT(t){t.H_=void 0}async function QD(t){t.j_.set("Online")}async function XD(t){t.U_.forEach((e,n)=>{Tg(t,e)})}async function ZD(t,e){YT(t),Cg(t)?(t.j_.q_(e),Eg(t)):t.j_.set("Unknown")}async function JD(t,e,n){if(t.j_.set("Online"),e instanceof kT&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(t,e)}catch(i){ge(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ff(t,i)}else if(e instanceof zh?t.H_.We(e):e instanceof DT?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ne.min()))try{const i=await qT(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.U_.get(g);v&&l.U_.set(g,v.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,g)=>{const v=l.U_.get(f);if(!v)return;l.U_.set(f,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),WT(l,f);const _=new Ir(v.target,f,g,v.sequenceNumber);Tg(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){ge(Ga,"Failed to raise snapshot:",i),await ff(t,i)}}async function ff(t,e,n){if(!El(e))throw e;t.W_.add(1),await qu(t),t.j_.set("Offline"),n||(n=()=>qT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge(Ga,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Wf(t)})}function QT(t,e){return e().catch(n=>ff(t,n,e))}async function Yf(t){const e=ke(t),n=Br(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:lg;for(;ek(e);)try{const a=await jD(e.localStore,i);if(a===null){e.K_.length===0&&n.P_();break}i=a.batchId,tk(e,a)}catch(a){await ff(e,a)}XT(e)&&ZT(e)}function ek(t){return eo(t)&&t.K_.length<10}function tk(t,e){t.K_.push(e);const n=Br(t);n.c_()&&n.b_&&n.S_(e.mutations)}function XT(t){return eo(t)&&!Br(t).u_()&&t.K_.length>0}function ZT(t){Br(t).start()}async function nk(t){Br(t).C_()}async function ik(t){const e=Br(t);for(const n of t.K_)e.S_(n.mutations)}async function sk(t,e,n){const i=t.K_.shift(),a=pg.from(i,e,n);await QT(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Yf(t)}async function rk(t,e){e&&Br(t).b_&&await async function(i,a){if(function(c){return BP(c)&&c!==oe.ABORTED}(a.code)){const l=i.K_.shift();Br(i).h_(),await QT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Yf(i)}}(t,e),XT(t)&&ZT(t)}async function f_(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge(Ga,"RemoteStore received new credentials");const i=eo(n);n.W_.add(3),await qu(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Wf(n)}async function ak(t,e){const n=ke(t);e?(n.W_.delete(2),await Wf(n)):e||(n.W_.add(2),await qu(n),n.j_.set("Unknown"))}function Cl(t){return t.J_||(t.J_=function(n,i,a){const l=ke(n);return l.M_(),new qD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:QD.bind(null,t),No:XD.bind(null,t),Lo:ZD.bind(null,t),p_:JD.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Cg(t)?Eg(t):t.j_.set("Unknown")):(await t.J_.stop(),YT(t))})),t.J_}function Br(t){return t.Y_||(t.Y_=function(n,i,a){const l=ke(n);return l.M_(),new $D(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:nk.bind(null,t),Lo:rk.bind(null,t),D_:ik.bind(null,t),v_:sk.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Yf(t)):(await t.Y_.stop(),t.K_.length>0&&(ge(Ga,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new Sg(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),El(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=Qc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Z_=new vt(Te.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class hl{constructor(e,n,i,a,l,c,d,f,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new hl(e,n,al.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class lk{constructor(){this.queries=p_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=ke(n),l=a.queries;a.queries=p_(),l.forEach((c,d)=>{for(const f of d.ta)f.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function p_(){return new Za(t=>vT(t),zf)}async function JT(t,e){const n=ke(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new ok,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Ag(c,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&Rg(n)}async function e5(t,e){const n=ke(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ck(t,e){const n=ke(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&Rg(n)}function uk(t,e,n){const i=ke(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function Rg(t){t.ia.forEach(e=>{e.next()})}var f2,g_;(g_=f2||(f2={}))._a="default",g_.Cache="cache";class t5{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new hl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==f2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.key=e}}class i5{constructor(e){this.key=e}}class dk{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=bT(e),this.wa=new al(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new m_,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,_)=>{const T=a.get(v),E=Hf(this.query,_)?_:null,R=!!T&&this.mutatedKeys.has(T.key),V=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;T&&E?T.data.isEqual(E.data)?R!==V&&(i.track({type:3,doc:E}),N=!0):this.va(T,E)||(i.track({type:2,doc:E}),N=!0,(f&&this.ya(E,f)>0||g&&this.ya(E,g)<0)&&(d=!0)):!T&&E?(i.track({type:0,doc:E}),N=!0):T&&!E&&(i.track({type:1,doc:T}),N=!0,(f||g)&&(d=!0)),N&&(E?(c=c.add(E),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,_)=>function(E,R){const V=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return V(E)-V(R)}(v.type,_.type)||this.ya(v.doc,_.doc)),this.Ca(i),a=a!=null&&a;const d=n&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,g=f!==this.ga;return this.ga=f,c.length!==0||g?{snapshot:new hl(this.query,e.wa,l,c,e.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new m_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new i5(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new n5(i))}),n}Oa(e){this.fa=e.gs,this.pa=Fe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return hl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ng="SyncEngine";class hk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class fk{constructor(e){this.key=e,this.Ba=!1}}class mk{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Za(d=>vT(d),zf),this.qa=new Map,this.Qa=new Set,this.$a=new vt(Te.comparator),this.Ka=new Map,this.Ua=new vg,this.Wa={},this.Ga=new Map,this.za=dl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function pk(t,e,n=!0){const i=c5(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await s5(i,e,n,!0),a}async function gk(t,e){const n=c5(t);await s5(n,e,!0,!1)}async function s5(t,e,n,i){const a=await MD(t.localStore,Wi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await yk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&KT(t.remoteStore,a),d}async function yk(t,e,n,i,a){t.Ha=(_,T,E)=>async function(V,N,D,j){let L=N.view.Sa(D);L.ls&&(L=await l_(V.localStore,N.query,!1).then(({documents:O})=>N.view.Sa(O,L)));const Y=j&&j.targetChanges.get(N.targetId),K=j&&j.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(L,V.isPrimaryClient,Y,K);return v_(V,N.targetId,$.Ma),$.snapshot}(t,_,T,E);const l=await l_(t.localStore,e,!0),c=new dk(e,l.gs),d=c.Sa(l.documents),f=Hu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,f);v_(t,n,g.Ma);const v=new hk(e,n,c);return t.ka.set(e,v),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),g.snapshot}async function vk(t,e,n){const i=ke(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!zf(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await d2(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&wg(i.remoteStore,a.targetId),m2(i,a.targetId)}).catch(Tl)):(m2(i,a.targetId),await d2(i.localStore,a.targetId,!0))}async function bk(t,e){const n=ke(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),wg(n.remoteStore,i.targetId))}async function _k(t,e,n){const i=Ak(t);try{const a=await function(c,d){const f=ke(c),g=qt.now(),v=d.reduce((E,R)=>E.add(R.key),Fe());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let R=Fs(),V=Fe();return f.ds.getEntries(E,v).next(N=>{R=N,R.forEach((D,j)=>{j.isValidDocument()||(V=V.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,R)).next(N=>{_=N;const D=[];for(const j of d){const L=jP(j,_.get(j.key).overlayedDocument);L!=null&&D.push(new Ja(j.key,L,uT(L.value.mapValue),Yi.exists(!0)))}return f.mutationQueue.addMutationBatch(E,g,D,d)}).next(N=>{T=N;const D=N.applyToLocalDocumentSet(_,V);return f.documentOverlayCache.saveOverlays(E,N.batchId,D)})}).then(()=>({batchId:T.batchId,changes:xT(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,f){let g=c.Wa[c.currentUser.toKey()];g||(g=new vt($e)),g=g.insert(d,f),c.Wa[c.currentUser.toKey()]=g}(i,a.batchId,n),await $u(i,a.changes),await Yf(i.remoteStore)}catch(a){const l=Ag(a,"Failed to persist write");n.reject(l)}}async function r5(t,e){const n=ke(t);try{const i=await kD(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?st(c.Ba):a.removedDocuments.size>0&&(st(c.Ba),c.Ba=!1))}),await $u(n,i,e)}catch(i){await Tl(i)}}function y_(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const f=ke(c);f.onlineState=d;let g=!1;f.queries.forEach((v,_)=>{for(const T of _.ta)T.sa(d)&&(g=!0)}),g&&Rg(f)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xk(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new vt(Te.comparator);c=c.insert(l,gn.newNoDocument(l,Ne.min()));const d=Fe().add(l),f=new Gf(Ne.min(),new Map,new vt($e),c,d);await r5(i,f),i.$a=i.$a.remove(l),i.Ka.delete(e),Ig(i)}else await d2(i.localStore,e,!1).then(()=>m2(i,e,n)).catch(Tl)}async function wk(t,e){const n=ke(t),i=e.batch.batchId;try{const a=await DD(n.localStore,e);o5(n,i,null),a5(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $u(n,a)}catch(a){await Tl(a)}}async function Tk(t,e,n){const i=ke(t);try{const a=await function(c,d){const f=ke(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,d).next(_=>(st(_!==null),v=_.keys(),f.mutationQueue.removeMutationBatch(g,_))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(i.localStore,e);o5(i,e,n),a5(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await $u(i,a)}catch(a){await Tl(a)}}function a5(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function o5(t,e,n){const i=ke(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function m2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||l5(t,i)})}function l5(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(wg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Ig(t))}function v_(t,e,n){for(const i of n)i instanceof n5?(t.Ua.addReference(i.key,e),Ek(t,i)):i instanceof i5?(ge(Ng,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||l5(t,i.key)):Ae()}function Ek(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(ge(Ng,"New document in limbo: "+n),t.Qa.add(i),Ig(t))}function Ig(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Te(ht.fromString(e)),i=t.za.next();t.Ka.set(i,new fk(n)),t.$a=t.$a.insert(n,i),KT(t.remoteStore,new Ir(Wi(fg(n.path)),i,"TargetPurposeLimboResolution",Uf.ae))}}async function $u(t,e,n){const i=ke(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,f)=>{c.push(i.Ha(f,e,n).then(g=>{var v;if((g||n)&&i.isPrimaryClient){const _=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(g){a.push(g);const _=_g.Yi(f.targetId,g);l.push(_)}}))}),await Promise.all(c),i.La.p_(a),await async function(f,g){const v=ke(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ae.forEach(g,T=>ae.forEach(T.Hi,E=>v.persistence.referenceDelegate.addReference(_,T.targetId,E)).next(()=>ae.forEach(T.Ji,E=>v.persistence.referenceDelegate.removeReference(_,T.targetId,E)))))}catch(_){if(!El(_))throw _;ge(xg,"Failed to update sequence numbers: "+_)}for(const _ of g){const T=_.targetId;if(!_.fromCache){const E=v.Ts.get(T),R=E.snapshotVersion,V=E.withLastLimboFreeSnapshotVersion(R);v.Ts=v.Ts.insert(T,V)}}}(i.localStore,l))}async function Ck(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge(Ng,"User change. New user:",e.toKey());const i=await HT(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(f=>{f.reject(new ve(oe.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $u(n,i.Rs)}}function Sk(t,e){const n=ke(t),i=n.Ka.get(e);if(i&&i.Ba)return Fe().add(i.key);{let a=Fe();const l=n.qa.get(e);if(!l)return a;for(const c of l){const d=n.ka.get(c);a=a.unionWith(d.view.ba)}return a}}function c5(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xk.bind(null,e),e.La.p_=ck.bind(null,e.eventManager),e.La.Ja=uk.bind(null,e.eventManager),e}function Ak(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tk.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return PD(this.persistence,new RD,e.initialUser,this.serializer)}Xa(e){return new zT(bg.ri,this.serializer)}Za(e){return new LD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class Rk extends mf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){st(this.persistence.referenceDelegate instanceof hf);const i=this.persistence.referenceDelegate.garbageCollector;return new fD(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new zT(i=>hf.ri(i,n),this.serializer)}}class p2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>y_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ck.bind(null,this.syncEngine),await ak(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lk}()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),i=function(l){return new HD(l)}(e.databaseInfo);return function(l,c,d,f){return new KD(l,c,d,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,d){return new YD(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>y_(this.syncEngine,n,0),function(){return d_.D()?new d_:new UD}())}createSyncEngine(e,n){return function(a,l,c,d,f,g,v){const _=new mk(a,l,c,d,f,g);return v&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=ke(a);ge(Ga,"RemoteStore shutting down."),l.W_.add(5),await qu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}p2.provider={build:()=>new p2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class Nk{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=eT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ge(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ag(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await HT(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function b_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ik(t);ge(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>f_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>f_(e.remoteStore,a)),t._onlineComponents=e}async function Ik(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Fr,"Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new mf)}}else ge(Fr,"Using default OfflineComponentProvider"),await Cp(t,new Rk(void 0));return t._offlineComponents}async function d5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Fr,"Using user provided OnlineComponentProvider"),await b_(t,t._uninitializedComponentsProvider._online)):(ge(Fr,"Using default OnlineComponentProvider"),await b_(t,new p2))),t._onlineComponents}function Pk(t){return d5(t).then(e=>e.syncEngine)}async function h5(t){const e=await d5(t),n=e.eventManager;return n.onListen=pk.bind(null,e.syncEngine),n.onUnlisten=vk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bk.bind(null,e.syncEngine),n}function Dk(t,e,n={}){const i=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,f,g){const v=new u5({next:T=>{v.su(),c.enqueueAndForget(()=>e5(l,_));const E=T.docs.has(d);!E&&T.fromCache?g.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&T.fromCache&&f&&f.source==="server"?g.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),_=new t5(fg(d.path),v,{includeMetadataChanges:!0,Ta:!0});return JT(l,_)}(await h5(t),t.asyncQueue,e,n,i)),i.promise}function kk(t,e,n={}){const i=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,f,g){const v=new u5({next:T=>{v.su(),c.enqueueAndForget(()=>e5(l,_)),T.fromCache&&f.source==="server"?g.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),_=new t5(d,v,{includeMetadataChanges:!0,Ta:!0});return JT(l,_)}(await h5(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ok(t,e,n,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x_(t){if(!Te.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w_(t){if(Te.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="firestore.googleapis.com",T_=!0;class E_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p5,this.ssl=T_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:T_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dD)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ok("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f5((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zI;switch(i.type){case"firstParty":return new GI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=__.get(n);i&&(ge("ComponentProvider","Removing Datastore"),__.delete(n),i.terminate())}(this),Promise.resolve()}}function jk(t,e,n,i={}){var a;const l=(t=zr(t,Xf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l.host!==p5&&l.host!==d&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!jr(f,c)&&(t._setSettings(f),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=pn.MOCK_USER;else{g=h8(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new pn(_)}t._authCredentials=new HI(new J4(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Sl(this.firestore,e,this._query)}}class Mn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class Or extends Sl{constructor(e,n,i){super(e,n,fg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Te(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function C_(t,e,...n){if(t=Gt(t),m5("collection","path",e),t instanceof Xf){const i=ht.fromString(e,...n);return w_(i),new Or(t,null,i)}{if(!(t instanceof Mn||t instanceof Or))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ht.fromString(e,...n));return w_(i),new Or(t.firestore,null,i)}}function Ka(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=eT.newId()),m5("doc","path",e),t instanceof Xf){const i=ht.fromString(e,...n);return x_(i),new Mn(t,null,new Te(i))}{if(!(t instanceof Mn||t instanceof Or))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ht.fromString(e,...n));return x_(i),new Mn(t.firestore,t instanceof Or?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $T(this,"async_queue_retry"),this.bu=()=>{const i=Ep();i&&ge(S_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=Ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!El(e))throw e;ge(S_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Bs("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=Sg.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Gu extends Xf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new A_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function Mk(t,e){const n=typeof t=="object"?t:H2(),i=typeof t=="string"?t:rf,a=Ya(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=u8("firestore");l&&jk(a,...l)}return a}function Pg(t){if(t._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Vk(t),t._firestoreClient}function Vk(t){var e,n,i;const a=t._freezeSettings(),l=function(d,f,g,v){return new aP(d,f,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,f5(v.experimentalLongPollingOptions),v.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new Nk(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(cn.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fl(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=/^__.*__$/;class Uk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new zu(e,this.data,n,this.fieldTransforms)}}function y5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class jg{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new jg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return pf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(y5(this.Lu)&&Lk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Bk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Kf(e)}ju(e,n,i,a=!1){return new jg({Lu:e,methodName:n,zu:i,path:ln.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mg(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new Bk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v5(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);x5("Data must be an object, but it was:",c,i);const d=b5(i,c);let f,g;if(l.merge)f=new Ti(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const T=zk(e,_,n);if(!c.contains(T))throw new ve(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);qk(v,T)||v.push(T)}f=new Ti(v),g=c.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,g=c.fieldTransforms;return new Uk(new ui(d),f,g)}function Fk(t,e,n,i=!1){return Vg(n,t.ju(i?4:3,e))}function Vg(t,e){if(_5(t=Gt(t)))return x5("Unsupported field value:",e,t),b5(t,e);if(t instanceof g5)return function(i,a){if(!y5(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let f=Vg(d,a.Uu(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=qt.fromDate(i);return{timestampValue:df(a.serializer,l)}}if(i instanceof qt){const l=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:df(a.serializer,l)}}if(i instanceof kg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fl)return{bytesValue:OT(a.serializer,i._byteString)};if(i instanceof Mn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Og)return function(c,d){return{mapValue:{fields:{[lT]:{stringValue:cT},[af]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return mg(d.serializer,g)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Qf(i)}`)}(t,e)}function b5(t,e){const n={};return nT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(i,a)=>{const l=Vg(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function _5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof kg||t instanceof fl||t instanceof Mn||t instanceof g5||t instanceof Og)}function x5(t,e,n){if(!_5(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Qf(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function zk(t,e,n){if((e=Gt(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return w5(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hk=new RegExp("[~\\*/\\[\\]]");function w5(t,e,n){if(e.search(Hk)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new ve(oe.INVALID_ARGUMENT,d+t+f)}function qk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $k extends T5{data(){return super.data()}}function E5(t,e){return typeof e=="string"?w5(t,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class Kk extends Lg{}function Wk(t,e,...n){let i=[];e instanceof Lg&&i.push(e),i=i.concat(n),function(l){const c=l.filter(f=>f instanceof Bg).length,d=l.filter(f=>f instanceof Ug).length;if(c>1||c>0&&d>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class Ug extends Kk{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ug(e,n,i)}_apply(e){const n=this._parse(e);return C5(e._query,n),new Sl(e.firestore,e.converter,r2(e._query,n))}_parse(e){const n=Mg(e.firestore);return function(l,c,d,f,g,v,_){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){N_(_,v);const R=[];for(const V of _)R.push(R_(f,l,V));T={arrayValue:{values:R}}}else T=R_(f,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||N_(_,v),T=Fk(d,c,_,v==="in"||v==="not-in");return Mt.create(g,v,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bg extends Lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)C5(c,f),c=r2(c,f)}(e._query,n),new Sl(e.firestore,e.converter,r2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function R_(t,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yT(e)&&n.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ht.fromString(n));if(!Te.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hb(t,new Te(i))}if(n instanceof Mn)return Hb(t,n._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qf(n)}.`)}function N_(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C5(t,e){const n=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Yk{convertValue(e,n="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Xa(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[af].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Nt(c.doubleValue));return new Og(l)}convertGeoPoint(e){return new kg(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Ff(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=Vr(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ht.fromString(e);st(BT(i));const a=new _u(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(n)||Bs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A5 extends T5{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(E5("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Hh extends A5{data(e={}){return super.data(e)}}class Qk{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Hh(this._firestore,this._userDataWriter,i.key,i,new Zc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const f=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Zc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const f=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Zc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Xk(d.type),doc:f,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Xk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){t=zr(t,Mn);const e=zr(t.firestore,Gu);return Dk(Pg(e),t._key).then(n=>eO(e,t,n))}class R5 extends Yk{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function Zk(t){t=zr(t,Sl);const e=zr(t.firestore,Gu),n=Pg(e),i=new R5(e);return Gk(t._query),kk(n,t._query).then(a=>new Qk(e,i,t,a))}function gf(t,e,n){t=zr(t,Mn);const i=zr(t.firestore,Gu),a=S5(t.converter,e,n);return N5(i,[v5(Mg(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Yi.none())])}function Jk(t,e){const n=zr(t.firestore,Gu),i=Ka(t),a=S5(t.converter,e);return N5(n,[v5(Mg(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Yi.exists(!1))]).then(()=>i)}function N5(t,e){return function(i,a){const l=new Os;return i.asyncQueue.enqueueAndForget(async()=>_k(await Pk(i),a,l)),l.promise}(Pg(t),e)}function eO(t,e,n){const i=n.docs.get(e._key),a=new R5(t);return new A5(t,a,e._key,i,new Zc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){wl=a})(xl),ts(new Ci("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Gu(new qI(i.getProvider("auth-internal")),new KI(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),di(Db,kb,e),di(Db,kb,"esm2017")})();const tO={apiKey:"AIzaSyAq73IcEYtVahyF1DxvYGyNvw_k8O0PZo0",authDomain:"united-feeds.firebaseapp.com",projectId:"united-feeds",storageBucket:"united-feeds.firebasestorage.app",messagingSenderId:"314385939594",appId:"1:314385939594:web:dab03b1849ca6cc0014173",measurementId:"G-63MP0MEPEC"},zg=Lw(tO),lt=BI(zg);tR(zg);const js=Mk(zg),nO=()=>{window.recaptchaVerifier=new BN(lt,"recaptcha-container",{size:"invisible",callback:t=>{console.log("reCAPTCHA verified:",t)},"expired-callback":()=>{console.log("reCAPTCHA expired")}})},iO=async(t,e)=>{try{return await HN(lt,t,e)}catch(n){throw n}},sO=async(t,e)=>{try{return await t.confirm(e)}catch(n){throw n}},rO=async(t,e)=>{try{return await fN(lt,t,e)}catch(n){throw n}},aO=async(t,e)=>{try{return await hN(lt,t,e)}catch(n){throw n}},I5=async t=>{let e;switch(t){case"Google":e=new Rs;break;case"Apple":throw console.warn("AppleAuthProvider not supported in this configuration. Skipping."),new Error("Apple sign-in not configured");case"Twitter":e=new Ns;break;default:throw new Error("Unsupported provider")}try{return await YN(lt,e)}catch(n){throw n}},oO=async t=>{try{await dN(lt,t)}catch(e){throw e}},Hs=I.createContext(),lO=t=>{const e="SAR",i=t8.map(j=>({...j,name:{en:j.name_en||"Unnamed Product",ar:j.name_ar||"  "},category:{en:j.category||"Unknown",ar:j.category==="Barley"?"":j.category==="Corn"?"":j.category==="Soya"?"":j.category==="Wheat"?"":j.category||" "},description:{en:j.description_en||"No description available.",ar:j.description_ar||"   ."},image:Array.isArray(j.image)?j.image:[j.image],inStock:j.inStock!==void 0?j.inStock:!0,productType:j.productType||"Whole",size:j.size||40,arrivalDate:j.arrivalDate||"2025-03-01",isDiscounted:j.isDiscounted!==void 0?j.isDiscounted:!1})),[a,l]=I.useState([]),[c,d]=I.useState({}),[f,g]=I.useState(null);I.useEffect(()=>{if(!js){console.error("Firestore is not initialized. Check firebase.js configuration.");return}const j=lt.onAuthStateChanged(async L=>{g(L),L?await v(L.uid):(l([]),d({}))});return()=>j()},[]);const v=async j=>{try{const L=Ka(js,"users",j),Y=await Fg(L);if(Y.exists()){const K=Y.data();l(K.favorites||[]),d(K.cartItems||{})}else await gf(L,{favorites:[],cartItems:{}}),l([]),d({})}catch(L){console.error("Error fetching user data:",L.message,L.code)}},_=async(j,L)=>{if(f)try{const Y=Ka(js,"users",f.uid);await gf(Y,{favorites:j,cartItems:L},{merge:!0})}catch(Y){console.error("Error saving user data:",Y.message,Y.code)}},D={products:i,currency:e,delivery_fee:10,favorites:a,addToFavorites:j=>{l(L=>{if(L.includes(j))return L;const Y=[...L,j];return _(Y,c),Y})},removeFromFavorites:j=>{l(L=>{const Y=L.filter(K=>K!==j);return _(Y,c),Y})},cartItems:c,addToCart:j=>{d(L=>{const Y={...L,[j]:(L[j]||0)+1};return _(a,Y),console.log("Updated cart:",Y),Y})},removeFromCart:j=>{d(L=>{const Y={...L};return Y[j]>1?Y[j]-=1:delete Y[j],_(a,Y),Y})},getCartCount:()=>Object.values(c).reduce((j,L)=>j+L,0)};return console.log("ShopContext products:",i),console.log("ShopContext favorites:",a),console.log("ShopContext cartItems:",c),p.jsx(Hs.Provider,{value:D,children:t.children})},cO="/united-feeds/assets/saudi-Cxl7Cdw8.png",I_="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_902_72206)'%3e%3cpath%20d='M12.8438%208.21444V6.71875C12.8438%204.53681%2011.3934%202.68747%209.40629%202.08344V1.40625C9.40629%200.630844%208.77544%200%208.00004%200C7.22463%200%206.59379%200.630844%206.59379%201.40625V2.08344C4.6066%202.68747%203.15629%204.53678%203.15629%206.71875V8.21444C3.15629%2010.1311%202.42572%2011.9484%201.09919%2013.3318C0.969193%2013.4674%200.932661%2013.6674%201.00635%2013.8402C1.08004%2014.0129%201.24972%2014.125%201.43754%2014.125H5.70344C5.92119%2015.1935%206.86819%2016%208.00004%2016C9.13191%2016%2010.0788%2015.1935%2010.2966%2014.125H14.5625C14.7503%2014.125%2014.92%2014.0129%2014.9937%2013.8402C15.0674%2013.6674%2015.0308%2013.4674%2014.9009%2013.3318C13.5743%2011.9484%2012.8438%2010.131%2012.8438%208.21444ZM7.53129%201.40625C7.53129%201.14778%207.74157%200.9375%208.00004%200.9375C8.25851%200.9375%208.46879%201.14778%208.46879%201.40625V1.89775C8.31451%201.88287%208.15816%201.875%208.00004%201.875C7.84191%201.875%207.68557%201.88287%207.53129%201.89775V1.40625ZM8.00004%2015.0625C7.38894%2015.0625%206.86791%2014.6706%206.67441%2014.125H9.32566C9.13216%2014.6706%208.61113%2015.0625%208.00004%2015.0625ZM2.44785%2013.1875C3.51538%2011.7565%204.09379%2010.0247%204.09379%208.21444V6.71875C4.09379%204.56484%205.84613%202.8125%208.00004%202.8125C10.1539%202.8125%2011.9063%204.56484%2011.9063%206.71875V8.21444C11.9063%2010.0247%2012.4847%2011.7565%2013.5523%2013.1875H2.44785Z'%20fill='%2378B833'/%3e%3cpath%20d='M14.094%206.71853C14.094%206.97741%2014.3039%207.18728%2014.5627%207.18728C14.8216%207.18728%2015.0315%206.97741%2015.0315%206.71853C15.0315%204.84041%2014.3001%203.07469%2012.9721%201.74666C12.789%201.56363%2012.4922%201.5636%2012.3092%201.74666C12.1261%201.92972%2012.1261%202.2265%2012.3092%202.40957C13.4601%203.56054%2014.094%205.09082%2014.094%206.71853Z'%20fill='%2378B833'/%3e%3cpath%20d='M1.4375%207.18727C1.69638%207.18727%201.90625%206.97739%201.90625%206.71852C1.90625%205.09083%202.54012%203.56055%203.69106%202.40958C3.87413%202.22652%203.87413%201.92973%203.69106%201.74667C3.50803%201.56361%203.21122%201.56361%203.02816%201.74667C1.70012%203.0747%200.96875%204.84039%200.96875%206.71852C0.96875%206.97739%201.17862%207.18727%201.4375%207.18727Z'%20fill='%2378B833'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_902_72206'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",uO="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2012C9.31371%2012%2012%209.31371%2012%206C12%202.68629%209.31371%200%206%200C2.68629%200%200%202.68629%200%206C0%209.31371%202.68629%2012%206%2012Z'%20fill='%23F0F0F0'/%3e%3cpath%20d='M1.24016%202.34668C0.768855%202.95987%200.413473%203.66663%200.206543%204.43442H3.3279L1.24016%202.34668Z'%20fill='%230052B4'/%3e%3cpath%20d='M11.7932%204.4344C11.5863%203.66663%2011.2309%202.95987%2010.7596%202.34668L8.67188%204.4344H11.7932Z'%20fill='%230052B4'/%3e%3cpath%20d='M0.206543%207.56494C0.413496%208.33271%200.768879%209.03947%201.24016%209.65264L3.32783%207.56494H0.206543Z'%20fill='%230052B4'/%3e%3cpath%20d='M9.65266%201.24018C9.03946%200.768879%208.33273%200.413496%207.56494%200.206543V3.32788L9.65266%201.24018Z'%20fill='%230052B4'/%3e%3cpath%20d='M2.34668%2010.7595C2.95987%2011.2309%203.66663%2011.5862%204.4344%2011.7932V8.67188L2.34668%2010.7595Z'%20fill='%230052B4'/%3e%3cpath%20d='M4.43437%200.206543C3.66661%200.413496%202.95985%200.768879%202.34668%201.24016L4.43437%203.32786V0.206543Z'%20fill='%230052B4'/%3e%3cpath%20d='M7.56494%2011.7932C8.33271%2011.5862%209.03947%2011.2309%209.65264%2010.7596L7.56494%208.67188V11.7932Z'%20fill='%230052B4'/%3e%3cpath%20d='M8.67188%207.56494L10.7596%209.65266C11.2309%209.03949%2011.5863%208.33271%2011.7932%207.56494H8.67188Z'%20fill='%230052B4'/%3e%3cpath%20d='M11.9492%205.2174H6.78265H6.78263V0.0507891C6.52643%200.0174375%206.26524%200%206%200C5.73471%200%205.47357%200.0174375%205.2174%200.0507891V5.21735V5.21737H0.0507891C0.0174375%205.47357%200%205.73476%200%206C0%206.26529%200.0174375%206.52643%200.0507891%206.7826H5.21735H5.21737V11.9492C5.47357%2011.9826%205.73471%2012%206%2012C6.26524%2012%206.52643%2011.9826%206.7826%2011.9492V6.78265V6.78263H11.9492C11.9826%206.52643%2012%206.26529%2012%206C12%205.73476%2011.9826%205.47357%2011.9492%205.2174Z'%20fill='%23D80027'/%3e%3cpath%20d='M7.56543%207.56545L10.2428%2010.2429C10.366%2010.1198%2010.4834%209.99107%2010.5955%209.85766L8.30329%207.56543H7.56543V7.56545Z'%20fill='%23D80027'/%3e%3cpath%20d='M4.43475%207.56543H4.43471L1.75732%2010.2428C1.88042%2010.366%202.00911%2010.4834%202.14252%2010.5955L4.43475%208.30322V7.56543Z'%20fill='%23D80027'/%3e%3cpath%20d='M4.43488%204.4348V4.43475L1.75747%201.75732C1.63433%201.88042%201.51686%202.00911%201.40479%202.14252L3.69704%204.43478L4.43488%204.4348Z'%20fill='%23D80027'/%3e%3cpath%20d='M7.56543%204.4349L10.2429%201.75745C10.1198%201.63431%209.99107%201.51684%209.85766%201.40479L7.56543%203.69704V4.4349Z'%20fill='%23D80027'/%3e%3c/svg%3e",P_="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.8801%2012.48C11.9097%2012.48%2011.1201%2013.2695%2011.1201%2014.24C11.1201%2015.2105%2011.9096%2016%2012.8801%2016C13.8506%2016%2014.6401%2015.2105%2014.6401%2014.24C14.6401%2013.2695%2013.8506%2012.48%2012.8801%2012.48ZM12.8801%2015.04C12.439%2015.04%2012.0801%2014.6811%2012.0801%2014.24C12.0801%2013.7989%2012.439%2013.44%2012.8801%2013.44C13.3212%2013.44%2013.6801%2013.7989%2013.6801%2014.24C13.6801%2014.6811%2013.3212%2015.04%2012.8801%2015.04Z'%20fill='%2378B833'/%3e%3cpath%20d='M7.11986%2012.48C6.14941%2012.48%205.35986%2013.2695%205.35986%2014.24C5.35986%2015.2105%206.14938%2016%207.11986%2016C8.0903%2016%208.87985%2015.2105%208.87985%2014.24C8.87985%2013.2695%208.09034%2012.48%207.11986%2012.48ZM7.11986%2015.04C6.67874%2015.04%206.31988%2014.6811%206.31988%2014.24C6.31988%2013.7989%206.67874%2013.44%207.11986%2013.44C7.56098%2013.44%207.91984%2013.7989%207.91984%2014.24C7.91984%2014.6811%207.56098%2015.04%207.11986%2015.04Z'%20fill='%2378B833'/%3e%3cpath%20d='M16.6148%202.10014C16.5237%201.98629%2016.3858%201.92002%2016.24%201.92002H3.465L3.10776%200.372058C3.05748%200.154277%202.86356%200%202.64006%200H0.560068C0.294999%200%200.0800781%200.214921%200.0800781%200.480022C0.0800781%200.745123%200.294999%200.960012%200.560068%200.960012H2.25822L4.68309%2011.4679C4.73334%2011.6857%204.9273%2011.8399%205.1508%2011.8399H14.768C15.0331%2011.8399%2015.248%2011.625%2015.248%2011.36C15.248%2011.0948%2015.033%2010.88%2014.768%2010.88H5.53267L5.16347%209.27996H14.8C15.0245%209.27996%2015.219%209.12435%2015.2683%208.90534L16.7083%202.50538C16.7403%202.36309%2016.7059%202.21402%2016.6148%202.10014ZM14.416%208.31995H4.94192L3.68655%202.88H15.64L14.416%208.31995Z'%20fill='%2378B833'/%3e%3c/svg%3e",D_="data:image/svg+xml,%3csvg%20width='17'%20height='15'%20viewBox='0%200%2017%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.46298%2014.0227C8.4627%2014.0226%208.46254%2014.0225%208.46249%2014.0224L8.45822%2014.0184L1.84485%207.76709C0.816589%206.71952%200.450017%205.60311%200.505395%204.58477C0.56146%203.55379%201.05301%202.57499%201.82567%201.82918C3.36696%200.341433%205.95685%20-0.162719%208.19497%201.71972L8.52858%202.00032L8.85203%201.70805C10.6243%200.106633%2013.4548%200.131347%2015.1956%201.77544L15.1956%201.77551L15.2032%201.78247C16.9323%203.34896%2016.9323%206.18712%2015.2032%207.75361L15.2032%207.75353L15.1955%207.76079L8.57558%2014.0183C8.57397%2014.0198%208.55433%2014.0342%208.5147%2014.0342C8.48196%2014.0342%208.46593%2014.0245%208.46298%2014.0227Z'%20stroke='%2378B833'/%3e%3c/svg%3e",dO="/united-feeds/assets/logo-nNASG6Bb.svg",hO="/united-feeds/assets/best-bVm-GVSb.svg",k_="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_282_19729)'%3e%3cpath%20d='M437.02%2074.9805C388.668%2026.6289%20324.379%200%20256%200C187.621%200%20123.332%2026.6289%2074.9805%2074.9805C26.6289%20123.332%200%20187.621%200%20256C0%20324.379%2026.6289%20388.668%2074.9805%20437.02C123.332%20485.371%20187.621%20512%20256%20512C324.379%20512%20388.668%20485.371%20437.02%20437.02C485.371%20388.668%20512%20324.379%20512%20256C512%20187.621%20485.371%20123.332%20437.02%2074.9805ZM111.105%20429.297C119.559%20356.562%20182.094%20300.406%20256%20300.406C294.961%20300.406%20331.598%20315.586%20359.156%20343.141C382.438%20366.426%20397.121%20396.828%20400.898%20429.293C361.641%20462.172%20311.094%20482%20256%20482C200.906%20482%20150.363%20462.176%20111.105%20429.297ZM256%20269.508C213.129%20269.508%20178.246%20234.625%20178.246%20191.754C178.246%20148.879%20213.129%20114%20256%20114C298.871%20114%20333.754%20148.879%20333.754%20191.754C333.754%20234.625%20298.871%20269.508%20256%20269.508ZM426.719%20403.934C419.074%20373.113%20403.133%20344.695%20380.367%20321.93C361.93%20303.492%20340.117%20289.66%20316.328%20280.992C344.926%20261.598%20363.754%20228.832%20363.754%20191.754C363.754%20132.34%20315.414%2084%20256%2084C196.586%2084%20148.246%20132.34%20148.246%20191.754C148.246%20228.852%20167.09%20261.629%20195.711%20281.02C173.824%20288.996%20153.57%20301.328%20136.145%20317.562C110.91%20341.062%2093.3867%20371.027%2085.2617%20403.91C50.8516%20364.242%2030%20312.512%2030%20256C30%20131.383%20131.383%2030%20256%2030C380.617%2030%20482%20131.383%20482%20256C482%20312.523%20461.141%20364.266%20426.719%20403.934Z'%20fill='%2378B833'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_282_19729'%3e%3crect%20width='512'%20height='512'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Sp="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.74866%207.97692C9.42076%207.13672%209.82266%206.07096%209.82266%204.91133C9.82266%202.19888%207.62378%200%204.91133%200C2.19888%200%200%202.19888%200%204.91133C0%207.62378%202.19888%209.82266%204.91133%209.82266C6.07096%209.82266%207.13672%209.42076%207.97692%208.74866L11.0684%2011.8402C11.2815%2012.0533%2011.6271%2012.0533%2011.8402%2011.8402C12.0533%2011.6271%2012.0533%2011.2815%2011.8402%2011.0684L8.74866%207.97692ZM4.91133%208.73673C2.79862%208.73673%201.08593%207.02404%201.08593%204.91133C1.08593%202.79862%202.79862%201.08593%204.91133%201.08593C7.02404%201.08593%208.73673%202.79862%208.73673%204.91133C8.73673%207.02404%207.02404%208.73673%204.91133%208.73673Z'%20fill='%23D9D9D9'/%3e%3c/svg%3e",fO="data:image/svg+xml,%3csvg%20width='21'%20height='20'%20viewBox='0%200%2021%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.9346%202.00732C11.9346%201.1789%2012.6061%200.507324%2013.4346%200.507324H18.8693C19.6977%200.507324%2020.3693%201.1789%2020.3693%202.00732V7.26857C20.3693%208.097%2019.6977%208.76857%2018.8693%208.76857H13.4346C12.6061%208.76857%2011.9346%208.097%2011.9346%207.26857V2.00732Z'%20stroke='%23CFCFCF'/%3e%3cpath%20d='M11.9346%2017.8232C11.9346%2018.6517%2012.6061%2019.3232%2013.4346%2019.3232H18.8693C19.6977%2019.3232%2020.3693%2018.6517%2020.3693%2017.8232V12.562C20.3693%2011.7336%2019.6977%2011.062%2018.8693%2011.062H13.4346C12.6061%2011.062%2011.9346%2011.7336%2011.9346%2012.562V17.8232Z'%20stroke='%23CFCFCF'/%3e%3cpath%20d='M7.43457%200.503005C8.263%200.50176%208.93457%201.17232%208.93457%202.00075L8.93457%207.26229C8.93457%208.09071%208.263%208.7633%207.43457%208.76454L2.00011%208.77271C1.17168%208.77395%200.500113%208.10339%200.500113%207.27496L0.500113%202.01343C0.500113%201.185%201.17169%200.512416%202.00011%200.511171L7.43457%200.503005Z'%20stroke='%23CFCFCF'/%3e%3cpath%20d='M7.43457%2019.144C8.263%2019.1452%208.93457%2018.4746%208.93457%2017.6462L8.93457%2012.3847C8.93457%2011.5563%208.263%2010.8837%207.43457%2010.8824L2.00011%2010.8743C1.17168%2010.873%200.500113%2011.5436%200.500113%2012.372L0.500113%2017.6335C0.500113%2018.462%201.17169%2019.1346%202.00011%2019.1358L7.43457%2019.144Z'%20stroke='%23CFCFCF'/%3e%3c/svg%3e",O_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAAA2CAYAAABgMA/LAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADLSURBVHgB7dmxDcIwEEbhC2koKTMCZTZDlHQuKTNCVmEDj+GOjMBZSJAGxbJdHPH7JCv9r9jN60SN4+j0c9FzEqwtembv/bXTkSZ5j4TfXBzqKfxJW5aDIEkcahJsmfsQwmMYhnj1znqOgrX4mN/1Mb8JAAAAAAAAAPytTgo00AO/XU8yNdYDXclQLfVAul6qkqFa6oFzL5ka6YF0PQAAAAAAAAA7UNT1ajPYCcu7Xm3GO6GzNJTlTkjXS2VpKMudML/r1Wa0E3663gvhCDx/4CktcwAAAABJRU5ErkJggg==",mO=({language:t,setLanguage:e})=>{const{favorites:n=[],products:i}=I.useContext(Hs),a=bn(),[l,c]=I.useState(!1),[d,f]=I.useState(!1),[g,v]=I.useState(null),[_,T]=I.useState(""),[E,R]=I.useState([]),[V,N]=I.useState(!1),D={en:{searchPlaceholder:"Search",categories:"Categories",all:"ALL",barley:"Barley",corn:"Corn",soya:"Soya",wheat:"Wheat",bestTagline:"Best Feeds Production in Saudi Arabia",signIn:"Sign in",logout:"Logout"},ar:{searchPlaceholder:"",categories:"",all:"",barley:"",corn:"",soya:"",wheat:"",bestTagline:"      ",signIn:" ",logout:" "}};I.useEffect(()=>{const C=lt.onAuthStateChanged(k=>{v(k)});return()=>C()},[]),I.useEffect(()=>{if(_.trim()){const C=i.filter(k=>k.name[t].toLowerCase().includes(_.toLowerCase())).map(k=>k.name[t]).slice(0,5);R(C)}else R([])},[_,i,t]);const j=()=>{c(!l),f(!1)},L=()=>{f(!d),c(!1)},Y=async()=>{try{await lt.signOut(),a("/login"),v(null)}catch(C){console.error("Logout error:",C.message)}},K=(C=_)=>{if(C.trim()){const k=i.find(B=>B.name[t].toLowerCase()===C.trim().toLowerCase());a(k?`/product-details/${k._id}`:`/products?search=${encodeURIComponent(C.trim())}`)}else a("/products");T(""),R([]),f(!1),N(!1)},$=C=>{C.key==="Enter"&&K()},O=C=>{const k=i.find(B=>B.name[t]===C);k&&a(`/product-details/${k._id}`),T(""),R([]),N(!1),f(!1)},S=C=>{e(C)};return p.jsxs("div",{className:`flex flex-col w-full px-4 py-4 gap-5 bg-white shadow-md relative ${t==="ar"?"rtl":"ltr"}`,children:[p.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[p.jsx("img",{onClick:()=>a("/united-feeds/"),className:"w-28 sm:w-32 md:w-36 cursor-pointer",src:dO,alt:"Logo"}),p.jsxs("div",{className:"hidden sm:flex flex-grow max-w-xs md:max-w-sm lg:max-w-md relative",children:[p.jsx("input",{className:"rounded-full px-4 py-2 w-full border border-gray-300 focus:outline-none placeholder-gray-300 h-8 text-sm",type:"text",placeholder:D[t].searchPlaceholder,value:_,onChange:C=>T(C.target.value),onKeyPress:$,onFocus:()=>N(!0),onBlur:()=>{setTimeout(()=>N(!1),200)}}),p.jsx("img",{src:Sp,alt:"Search",className:`absolute ${t==="ar"?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 w-4 h-4 cursor-pointer`,onClick:()=>K()}),V&&E.length>0&&p.jsx("ul",{className:`absolute top-10 ${t==="ar"?"right-0":"left-0"} w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto`,children:E.map((C,k)=>p.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",onMouseDown:()=>O(C),children:C},k))})]}),d&&p.jsxs("div",{className:"sm:hidden flex-grow w-full relative",children:[p.jsx("input",{className:"rounded-full px-4 py-2 w-full border border-gray-300 focus:outline-none placeholder-gray-300 h-8 text-sm",type:"text",placeholder:D[t].searchPlaceholder,value:_,onChange:C=>T(C.target.value),onKeyPress:$,autoFocus:!0,onBlur:()=>{setTimeout(()=>{f(!1),K()},200)}}),p.jsx("img",{src:Sp,alt:"Search",className:`absolute ${t==="ar"?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 w-4 h-4 cursor-pointer`,onClick:()=>K()}),E.length>0&&p.jsx("ul",{className:`absolute top-10 ${t==="ar"?"right-0":"left-0"} w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto`,children:E.map((C,k)=>p.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",onMouseDown:()=>O(C),children:C},k))})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[p.jsx("img",{src:Sp,alt:"Search",className:"sm:hidden w-6 h-6 cursor-pointer",onClick:L}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:`flex items-center gap-1 cursor-pointer ${t==="en"?"text-[#78B833]":"hover:text-[#78B833]"} transition-colors`,onClick:()=>S("en"),children:[p.jsx("img",{src:uO,alt:"English",className:"w-5 h-5"}),p.jsx("p",{className:"text-xs sm:text-sm font-medium",children:"ENG"})]}),p.jsxs("div",{className:`flex items-center gap-1 cursor-pointer ${t==="ar"?"text-[#78B833]":"hover:text-[#78B833]"} transition-colors`,onClick:()=>S("ar"),children:[p.jsx("img",{src:cO,alt:"Arabic",className:"w-5 h-5"}),p.jsx("p",{className:"text-xs sm:text-sm font-medium",children:""})]})]}),p.jsx("img",{src:O_,alt:"Menu",className:"w-6 h-6 cursor-pointer md:hidden",onClick:j}),p.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-gray-600",children:[p.jsx("img",{src:hO,alt:"Best",className:"w-8 h-8"}),p.jsx("p",{className:"text-sm",children:D[t].bestTagline})]})]})]}),l&&p.jsx("div",{className:"md:hidden absolute top-0 right-0 w-64 h-screen bg-white shadow-lg z-50",children:p.jsxs("div",{className:"p-4",children:[p.jsx("div",{className:"flex justify-end",children:p.jsx("img",{src:O_,alt:"Close Menu",className:"w-6 h-6 cursor-pointer transform rotate-180",onClick:j})}),p.jsxs("ul",{className:"flex flex-col gap-4 mt-4 font-medium text-gray-700",children:[p.jsx($c,{to:"/products",onClick:j,children:p.jsx("li",{className:"py-1 text-black font-normal hover:text-[#78B833]",children:D[t].categories})}),["ALL","Barley","Corn","Soya","Wheat"].map(C=>p.jsx($c,{to:`/product/${C==="ALL"?"0":["Barley","Corn","Soya","Wheat"].indexOf(C)+1}`,className:({isActive:k})=>k?"text-[#78B833]":"hover:text-[#78B833] transition-colors",onClick:j,children:p.jsx("li",{className:"py-1 text-black font-normal hover:text-[#78B833]",children:D[t][C.toLowerCase()]})},C)),p.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[p.jsx("div",{className:"relative",children:p.jsx("img",{src:P_,alt:"Cart",className:`w-6 h-6 cursor-pointer transition-opacity ${g?"hover:opacity-70":"opacity-50"}`,onClick:()=>{a(g?"/cart":"/login"),j()}})}),p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:D_,alt:"Favorites",className:`w-6 h-6 cursor-pointer transition-opacity ${g?"hover:opacity-70":"opacity-50"}`,onClick:()=>{a(g?"/favorites":"/login"),j()}}),g&&n.length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-medium rounded-full w-5 h-5 flex items-center justify-center",children:n.length})]}),g?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{Y(),j()},className:"primary text-white px-4 py-2 rounded-full cursor-pointer transition-colors text-sm font-medium",children:D[t].logout}),p.jsx("img",{src:k_,alt:"Profile",className:"w-6 h-6 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>{a("/profile"),j()}})]}):p.jsx("button",{onClick:()=>{a("/login"),j()},className:"primary text-white px-4 py-2 rounded-full cursor-pointer transition-colors text-sm font-medium",children:D[t].signIn}),p.jsx("img",{src:I_,alt:"Notifications",className:`w-6 h-6 cursor-pointer transition-opacity ${g?"hover:opacity-70":"opacity-50"}`,onClick:()=>{a(g?"/notifications":"/login"),j()}})]})]})]})}),p.jsxs("div",{className:"hidden md:flex items-center justify-between w-full border-t border-gray-200 pt-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:fO,alt:"Group",className:"w-6 h-6 cursor-pointer",onClick:()=>{a("/products"),window.scrollTo(0,0)}}),p.jsxs("ul",{className:"flex items-center gap-4 lg:gap-6 font-medium text-gray-700",children:[p.jsx($c,{to:"/products",children:p.jsxs("li",{className:"py-1 relative group text-black font-normal hover:text-[#78B833]",children:[D[t].categories,p.jsx("hr",{className:"border-none outline-none h-0.5 w-3/5 primary m-auto absolute bottom-0 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),["ALL","Barley","Corn","Soya","Wheat"].map(C=>p.jsx($c,{to:`/product/${C==="ALL"?"0":["Barley","Corn","Soya","Wheat"].indexOf(C)+1}`,className:({isActive:k})=>k?"text-[#78B833]":"hover:text-[#78B833] transition-colors",children:p.jsxs("li",{className:"py-1 relative group text-black font-normal hover:text-[#78B833]",children:[D[t][C.toLowerCase()],p.jsx("hr",{className:"border-none outline-none h-0.5 w-3/5 primary m-auto absolute bottom-0 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity"})]})},C))]})]}),p.jsxs("div",{className:"flex items-center gap-4 lg:gap-8",children:[p.jsx("div",{className:"relative",children:p.jsx("img",{src:P_,alt:"Cart",className:`w-6 h-6 cursor-pointer transition-opacity ${g?"hover:opacity-70":"opacity-50"}`,onClick:()=>a(g?"/cart":"/login")})}),p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:D_,alt:"Favorites",className:`w-6 h-6 cursor-pointer transition-opacity ${g?"hover:opacity-70":"opacity-50"}`,onClick:()=>a(g?"/favorites":"/login")}),g&&n.length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-[#78B833] text-white text-xs font-medium rounded-full w-4 h-4 flex items-center justify-center",children:n.length})]}),g?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:Y,className:"primary text-white px-6 py-2 rounded-full cursor-pointer transition-colors text-sm font-medium",children:D[t].logout}),p.jsx("img",{src:k_,alt:"Profile",className:"w-6 h-6 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>a("/profile")})]}):p.jsx("button",{onClick:()=>a("/login"),className:"primary text-white px-6 py-2 rounded-full cursor-pointer transition-colors text-sm font-medium",children:D[t].signIn}),p.jsx("img",{src:I_,alt:"Notifications",className:`w-6 h-6 cursor-pointer transition-opacity ${g?"hover:opacity-70":"opacity-50"}`,onClick:()=>a(g?"/notifications":"/login")})]})]})]})},Zf="/united-feeds/assets/about-Ci3DJkCb.png",pO="/united-feeds/assets/aboutImg1-BPoOnNxv.png",gO="/united-feeds/assets/aboutImg2-DrtPXBTP.png",yO="/united-feeds/assets/aboutImg3-BTDRb71v.png",vO="/united-feeds/assets/aboutImg4-JdoOoJDx.png",bO="/united-feeds/assets/aboutImg5-CrrmTHOd.png",_O="/united-feeds/assets/aboutImg6-BlyPOMuY.png",xO=({language:t="en"})=>{const[e,n]=I.useState(!0),i={en:{home:"Home",aboutUs:"About Us",description:"United Feed Company is one of the leading companies globally and locally in the field of importing and trading barley and bulk grains for animal feed uses. It operates through all its seven stations in its strategic areas by distributing and packaging barley and feed to spread throughout the Kingdom, recognizing the importance of enabling local producers to obtain their needs, raising the efficiency of animal production, and supporting food security in Saudi Arabia.",ourMission:"Our Mission",missionText:"To build an integrated and sustainable system that aims to guarantee food security while also being able to adapt to continuous changes, maintain the excellence of our brand and product quality, and continue to earn our customers trust through commitment, trust, and responsibility.",ourVision:"Our Vision",visionText:"To set new standards and develop innovative ideas to redefine the meaning of quality and excellence in the barley and feed trade to always remain the first choice locally and globally.",ourGoals:"Our Goals",goals:["Contribute to maintaining the food security of Saudi Arabia","Increase the productivity of animal production sector","Empower local producers to obtain their needs","Enhance the economics of food industry in Saudi Arabia","Preserve the natural resources of Saudi Arabia"],ourServices:"Our Services",services:["Redesigning Formulas","Storage","Logistic","Feeds (Including Complete Feeds)","Animal Feed Raw Materials"],whatDistinguishesUs:"What Distinguishes Us?",distinguishes:["Leader in the Market","Largest Storage capacity in Saudi Arabia","Supports Food Security in Saudi Arabia","Available in 7 stations","ERP and advanced formulation systems","Imported products from best farms","Fast services","Stable prices","Close to customers","Well Experienced team in all levels"],ourValues:"Our Values",values:["Quality and Authenticity a constant, uncompromising essence with the passage of time and data differences","Integrity is the foundation and the bedrock upon which everything else is built","Teamwork the fastest and most successful way to achieve the goal","Commitment is the effort, the quality of performance and the fulfillment of the promise","Building strong relationships a sail of trust that leads us to the meaning of life","Promoting a sense of healthy living the most important principle, purpose and destination"]},ar:{home:"",aboutUs:" ",description:"                   .                                        .",ourMission:"",missionText:"                               .",ourVision:"",visionText:"                    .",ourGoals:"",goals:["        ","    ","      ","       ","      "],ourServices:"",services:["  ",""," "," (    )","   "],whatDistinguishesUs:" ",distinguishes:["  ","      ","      ","  7 "," ERP   ","    "," "," ","  ","      "],ourValues:"",values:["          ","        ","      ","      ","         ","       "]}};return I.useEffect(()=>{setTimeout(()=>{n(!1)},1e3)},[]),e?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"})}):p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:[p.jsx("nav",{className:`text-sm breadcrumbs ${t==="ar"?"rtl":"ltr"}`,children:p.jsxs("ul",{className:"flex space-x-2 text-gray-500",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-[#78B833] transition-colors",children:i[t].home})}),p.jsx("li",{children:p.jsx("span",{className:"text-gray-400",children:"/"})}),p.jsx("li",{children:p.jsx("span",{children:i[t].aboutUs})})]})}),p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mt-4 mb-8 tracking-tight",children:i[t].aboutUs})]}),p.jsxs("div",{style:{backgroundImage:`url(${Zf})`},className:"bg-cover bg-center relative overflow-hidden min-h-screen",children:[p.jsx("div",{className:"absolute inset-0 bg-overlay"})," ",p.jsxs("div",{className:`container px-12 sm:px-16 lg:px-18 py-16 max-w-7xl ${t==="ar"?"rtl":"ltr"}`,children:[p.jsx("section",{className:"mb-12 fade-in",children:p.jsx("p",{className:"text-gray-200 leading-relaxed font-medium text-lg",children:i[t].description})}),p.jsxs("div",{className:"grid gap-12 md:grid-cols-1 lg:grid-cols-1",children:[p.jsxs("section",{className:"fade-in",children:[p.jsx("h2",{className:"text-4xl font-semibold text-white mb-6",children:i[t].ourMission}),p.jsx("p",{className:"text-gray-200 leading-relaxed font-medium text-lg",children:i[t].missionText})]}),p.jsxs("section",{className:"fade-in",children:[p.jsx("h2",{className:"text-4xl font-semibold text-white mb-6",children:i[t].ourVision}),p.jsx("p",{className:"text-gray-200 leading-relaxed font-medium text-lg",children:i[t].visionText})]}),p.jsxs("section",{className:"fade-in",children:[p.jsx("h2",{className:"text-4xl font-semibold text-white mb-6",children:i[t].ourGoals}),p.jsx("ul",{className:"text-gray-200 leading-relaxed font-medium text-lg list-disc space-y-3",children:i[t].goals.map((a,l)=>p.jsx("li",{children:a},l))})]})]}),p.jsxs("section",{className:"mt-16 fade-in",children:[p.jsx("h2",{className:"text-4xl font-semibold text-white mb-6",children:i[t].ourServices}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 text-gray-200 leading-relaxed font-medium text-lg",children:i[t].services.map(a=>p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("span",{className:"text-white text-2xl",children:""}),p.jsx("p",{className:"text-gray-200 leading-relaxed font-medium text-lg",children:a})]},a))})]}),p.jsxs("section",{className:"mt-16 fade-in",children:[p.jsx("h2",{className:"text-4xl font-semibold text-white mb-6",children:i[t].whatDistinguishesUs}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 text-gray-200 leading-relaxed font-medium text-lg",children:i[t].distinguishes.map(a=>p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("span",{className:"text-white text-2xl",children:""}),p.jsx("p",{className:"text-gray-200 leading-relaxed font-medium text-lg",children:a})]},a))})]}),p.jsxs("section",{className:"mt-16 fade-in",children:[p.jsx("h2",{className:"text-4xl font-semibold text-white text-center mb-10",children:i[t].ourValues}),p.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:i[t].values.map((a,l)=>p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("img",{src:[pO,gO,yO,vO,bO,_O][l],alt:"",className:"w-24 h-24 mb-4 object-cover rounded-full shadow-lg"}),p.jsx("p",{className:"text-gray-200 leading-relaxed font-medium text-lg",children:a})]},a))})]})]})]})]})},wO=({isOpen:t,onClose:e,children:n,language:i="en"})=>t?p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 backdrop-blur-md",onClick:e,"aria-hidden":"true"}),p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative z-10",children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":i==="ar"?"":"Close",children:""}),n]})]}):null,TO=({language:t="en"})=>{const e=bn(),n=I.useContext(Hs),[i,a]=I.useState(null),[l,c]=I.useState("Cash on Pick Up"),[d,f]=I.useState("Delivery"),[g,v]=I.useState(""),[_,T]=I.useState("Jumum Station"),[E,R]=I.useState(""),[V,N]=I.useState(0),[D,j]=I.useState(!1),[L,Y]=I.useState(!1),[K,$]=I.useState(!1),[O,S]=I.useState("");if(!n)return console.error("Cart must be used within a ShopContextProvider"),p.jsx("div",{className:"text-center text-red-600 p-4",children:t==="ar"?":     ShopContext":"Error: ShopContext not found"});const{products:C,cartItems:k,addToCart:B,removeFromCart:z,currency:M}=n,ue={en:{account:"Account",myBag:"My Bag",cart:"My Cart",emptyCart:"Your cart is empty.",continueShopping:"Continue Shopping",product:"Product",description:"Description",price:"Price",quantity:"Quantity",action:"Action",totalPrice:"Total Price",delete:"Delete",clearCart:"Clear Cart",confirmRemove:"Are you sure you want to remove this item from your cart?",confirmClear:"Are you sure you want to clear your cart?",subTotal:"Sub Total",vat:"VAT",total:"Total",grandTotal:"Grand Total",paymentMethod:"Payment Method",cashOnPickUp:"Cash on Pick Up",myWallet:"My Wallet",sadad:"Sadad",enterSadadNumber:"Enter your SADA number",edit:"Edit",editPhoneNumber:"Edit Phone Number",phoneNumber:"Phone Number",update:"Update",shippingMethod:"Shipping Method",delivery:"Delivery",pickUp:"Pick Up",stationAddress:"Station Address",addCouponCode:"Add Coupon Code",apply:"Apply",checkout:"Checkout",invalidSadad:"Please enter a valid Sadad number.",invalidPhoneNumber:"Please enter a valid phone number starting with +966 followed by 9 digits.",phoneNumberUpdated:"Phone number updated successfully!",couponApplied:"Coupon applied successfully!",invalidCoupon:"Invalid coupon code.",itemRemoved:"Item removed from cart.",cartCleared:"Cart cleared successfully.",currency:M||"SAR"},ar:{account:"",myBag:"",cart:"",emptyCart:" .",continueShopping:" ",product:"",description:"",price:"",quantity:"",action:"",totalPrice:" ",delete:"",clearCart:" ",confirmRemove:"        ",confirmClear:"     ",subTotal:" ",vat:"  ",total:"",grandTotal:"J ",paymentMethod:" ",cashOnPickUp:"  ",myWallet:"",sadad:"",enterSadadNumber:"    ",edit:"",editPhoneNumber:"  ",phoneNumber:" ",update:"",shippingMethod:" ",delivery:"",pickUp:"",stationAddress:" ",addCouponCode:"  ",apply:"",checkout:"",invalidSadad:"    .",invalidPhoneNumber:"       +966  9 .",phoneNumberUpdated:"    !",couponApplied:"   !",invalidCoupon:"   .",itemRemoved:"    .",cartCleared:"   .",currency:""}};I.useEffect(()=>{j(!0);const fe=lt.onAuthStateChanged(async Ve=>{if(a(Ve),!Ve)e("/login");else{const nt=Ka(js,"users",Ve.uid),Et=await Fg(nt);if(Et.exists()){const It=Et.data();It.phoneNumber&&(v(It.phoneNumber),S(It.phoneNumber))}}j(!1)});return()=>fe()},[e]);const de=Object.entries(k).reduce((fe,[Ve,nt])=>{const Et=C.find(It=>It._id===Ve);return Et?fe+Et.price*nt:fe},0),G=de*.15,Re=de-V+G,F=Re,le=fe=>{B(fe)},me=fe=>{z(fe)},J=fe=>{if(window.confirm(ue[t].confirmRemove)){const Ve=k[fe]||0;for(let nt=0;nt<Ve;nt++)z(fe);Ie.success(ue[t].itemRemoved)}},ie=()=>{window.confirm(ue[t].confirmClear)&&(Object.keys(k).forEach(fe=>{const Ve=k[fe]||0;for(let nt=0;nt<Ve;nt++)z(fe)}),N(0),Ie.success(ue[t].cartCleared))},_e=fe=>{e(`/product-details/${fe}`)},Ee=()=>{if(l==="Sadad"&&!g.trim()){Ie.error(ue[t].invalidSadad);return}Y(!0),setTimeout(()=>{Y(!1),e("/checkout")},1500)},ze=()=>{e("/products")},Pe=()=>{E.toUpperCase()==="DISCOUNT10"?(N(de*.1),Ie.success(ue[t].couponApplied)):(N(0),Ie.error(ue[t].invalidCoupon))},Ue=()=>{S(g||"+966"),$(!0)},Ze=()=>{$(!1)},pe=async()=>{if(!/^\+966\d{9}$/.test(O)){Ie.error(ue[t].invalidPhoneNumber);return}try{const Ve=Ka(js,"users",i.uid);await gf(Ve,{phoneNumber:O},{merge:!0}),v(O),Ie.success(ue[t].phoneNumberUpdated),$(!1)}catch(Ve){console.error("Error updating phone number:",Ve),Ie.error(t==="ar"?"    .":"Failed to update phone number.")}};return D?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"})}):i?p.jsxs("div",{className:`p-6 max-w-7xl mx-auto ${t==="ar"?"rtl":"ltr"}`,children:[p.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[p.jsx(bl,{to:"/account",className:"hover:underline",children:ue[t].account})," ","/ ",ue[t].myBag]}),p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:ue[t].cart}),Object.keys(k).length>0&&p.jsx("button",{onClick:ie,className:"text-red-600 hover:text-red-800 text-sm font-medium",children:ue[t].clearCart})]}),Object.keys(k).length===0?p.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[p.jsx("p",{className:"text-gray-600 mb-4",children:ue[t].emptyCart}),p.jsx("button",{onClick:ze,className:"bg-green-600 text-white py-2 px-6 rounded-lg hover:bg-green-700 transition duration-300",children:ue[t].continueShopping})]}):p.jsxs("div",{className:"flex flex-col gap-8",children:[p.jsx("div",{className:"w-full overflow-x-auto shadow-md rounded-lg",children:p.jsxs("table",{className:"w-full border-collapse bg-white",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-100 border-b border-gray-200",children:[p.jsx("th",{className:"py-4 px-6 text-left text-gray-600 font-semibold",children:ue[t].product}),p.jsx("th",{className:"py-4 px-6 text-left text-gray-600 font-semibold",children:ue[t].description}),p.jsx("th",{className:"py-4 px-6 text-left text-gray-600 font-semibold",children:ue[t].price}),p.jsx("th",{className:"py-4 px-6 text-left text-gray-600 font-semibold",children:ue[t].quantity}),p.jsx("th",{className:"py-4 px-6 text-left text-gray-600 font-semibold",children:ue[t].action}),p.jsx("th",{className:"py-4 px-6 text-left text-gray-600 font-semibold",children:ue[t].totalPrice})]})}),p.jsx("tbody",{children:Object.entries(k).map(([fe,Ve])=>{const nt=C.find(Kr=>Kr._id===fe);if(!nt)return null;const Et=t==="ar"?nt.name.ar:nt.name.en,It=nt.price*Ve;return p.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition duration-200",children:[p.jsx("td",{className:"py-4 px-6",children:p.jsx("img",{src:Array.isArray(nt.image)?nt.image[0]:nt.image,alt:Et,className:"w-16 h-16 object-contain cursor-pointer rounded-md hover:opacity-80 transition duration-200",onClick:()=>_e(fe)})}),p.jsx("td",{className:"py-4 px-6 text-gray-800",children:Et}),p.jsxs("td",{className:"py-4 px-6 text-gray-600",children:[nt.price.toFixed(2)," ",ue[t].currency]}),p.jsx("td",{className:"py-4 px-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("button",{onClick:()=>me(fe),className:"w-8 h-8 bg-white text-gray-600 rounded-full flex items-center justify-center border border-gray-300 hover:bg-gray-100 transition duration-200",disabled:Ve<=1,children:"-"}),p.jsx("span",{className:"mx-3 text-gray-800",children:Ve}),p.jsx("button",{onClick:()=>le(fe),className:"w-8 h-8 bg-white text-gray-600 rounded-full flex items-center justify-center border border-gray-300 hover:bg-gray-100 transition duration-200",children:"+"})]})}),p.jsx("td",{className:"py-4 px-6",children:p.jsx("button",{onClick:()=>J(fe),className:"bg-red-500 text-white py-1 px-4 rounded-full text-sm hover:bg-red-600 transition duration-200",children:ue[t].delete})}),p.jsxs("td",{className:"py-4 px-6 text-gray-600",children:[It.toFixed(2)," ",ue[t].currency]})]},fe)})})]})}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("div",{className:"w-full md:w-1/3 bg-gray-50 p-6 rounded-lg shadow-md",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:ue[t].total}),p.jsxs("div",{className:"text-gray-600 space-y-3",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:[ue[t].subTotal,":"]}),p.jsxs("span",{children:[de.toFixed(2)," ",ue[t].currency]})]}),V>0&&p.jsxs("div",{className:"flex justify-between text-green-600",children:[p.jsx("span",{children:"Discount:"}),p.jsxs("span",{children:["-",V.toFixed(2)," ",ue[t].currency]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:[ue[t].vat,":"]}),p.jsxs("span",{children:[G.toFixed(2)," ",ue[t].currency]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{children:[ue[t].total,":"]}),p.jsxs("span",{children:[Re.toFixed(2)," ",ue[t].currency]})]}),p.jsxs("div",{className:"flex justify-between font-semibold text-gray-800 border-t pt-3",children:[p.jsxs("span",{children:[ue[t].grandTotal,":"]}),p.jsxs("span",{children:[F.toFixed(2)," ",ue[t].currency]})]})]})]})}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mt-8 bg-gray-50 p-6 rounded-lg shadow-md",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:ue[t].paymentMethod}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("label",{className:"flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-100 transition duration-200",children:[p.jsx("input",{type:"radio",name:"paymentMethod",value:"Cash on Pick Up",checked:l==="Cash on Pick Up",onChange:fe=>c(fe.target.value),className:"mr-3"}),ue[t].cashOnPickUp]}),p.jsxs("label",{className:"flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-100 transition duration-200",children:[p.jsx("input",{type:"radio",name:"paymentMethod",value:"My Wallet",checked:l==="My Wallet",onChange:fe=>c(fe.target.value),className:"mr-3"}),ue[t].myWallet]}),p.jsxs("label",{className:"flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-100 transition duration-200",children:[p.jsx("input",{type:"radio",name:"paymentMethod",value:"Sadad",checked:l==="Sadad",onChange:fe=>c(fe.target.value),className:"mr-3"}),ue[t].sadad]}),l==="Sadad"&&p.jsxs("div",{className:"mt-3",children:[p.jsx("input",{type:"text",value:g,onChange:fe=>v(fe.target.value),placeholder:ue[t].enterSadadNumber,className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600",readOnly:!0}),p.jsx("button",{onClick:Ue,className:"mt-2 text-green-600 hover:underline",children:ue[t].edit})]})]})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:ue[t].shippingMethod}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("label",{className:"flex-1 flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-100 transition duration-200",children:[p.jsx("input",{type:"radio",name:"shippingMethod",value:"Delivery",checked:d==="Delivery",onChange:fe=>f(fe.target.value),className:"mr-3"}),ue[t].delivery]}),p.jsxs("label",{className:"flex-1 flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-100 transition duration-200",children:[p.jsx("input",{type:"radio",name:"shippingMethod",value:"Pick Up",checked:d==="Pick Up",onChange:fe=>f(fe.target.value),className:"mr-3"}),ue[t].pickUp]})]}),p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mt-6 mb-2",children:ue[t].stationAddress}),p.jsx("input",{type:"text",value:_,onChange:fe=>T(fe.target.value),className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mt-6",children:[p.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:ue[t].addCouponCode}),p.jsx("input",{type:"text",value:E,onChange:fe=>R(fe.target.value),className:"flex-1 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"}),p.jsx("button",{onClick:Pe,className:"bg-green-600 text-white py-2 px-6 rounded-md hover:bg-green-700 transition duration-200",children:ue[t].apply})]}),p.jsxs("button",{onClick:Ee,disabled:L,className:`bg-orange-500 text-white py-3 px-8 rounded-md hover:bg-orange-600 transition duration-200 flex items-center justify-center ${L?"opacity-50 cursor-not-allowed":""}`,children:[L?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}):null,ue[t].checkout]})]})]}),p.jsxs(wO,{isOpen:K,onClose:Ze,language:t,children:[p.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-4",children:ue[t].editPhoneNumber}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-gray-600 mb-2",children:ue[t].phoneNumber}),p.jsxs("div",{className:"flex items-center border rounded-md",children:[p.jsx("span",{className:"bg-gray-100 px-3 py-2 border-r text-gray-600",children:"+966"}),p.jsx("input",{type:"text",value:O.startsWith("+966")?O.slice(4):O,onChange:fe=>S("+966"+fe.target.value),placeholder:"123456789",className:"w-full p-2 focus:outline-none focus:ring-2 focus:ring-green-600 rounded-r-md",maxLength:9,pattern:"\\d*"})]})]}),p.jsx("button",{onClick:pe,className:"bg-green-600 text-white py-2 px-6 rounded-md hover:bg-green-700 transition duration-200 w-full",children:ue[t].update})]})]}):null},EO=({language:t="en"})=>{const e=bn(),n={en:{checkout:"Checkout",comingSoon:"Checkout page coming soon!",backToCart:"Back to Cart"},ar:{checkout:"",comingSoon:"   !",backToCart:"  "}};return Qe.useEffect(()=>{lt.currentUser||e("/login")},[e]),p.jsxs("div",{className:`p-6 max-w-6xl mx-auto ${t==="ar"?"rtl":"ltr"}`,children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:n[t].checkout}),p.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[p.jsx("p",{className:"text-gray-600 mb-4",children:n[t].comingSoon}),p.jsx("button",{onClick:()=>e("/cart"),className:"bg-green-600 text-white py-2 px-6 rounded-lg hover:bg-green-700 transition duration-300",children:n[t].backToCart})]})]})};var P5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j_=Qe.createContext&&Qe.createContext(P5),CO=["attr","size","title"];function SO(t,e){if(t==null)return{};var n=AO(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function AO(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yf.apply(this,arguments)}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(i){RO(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function RO(t,e,n){return e=NO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NO(t){var e=IO(t,"string");return typeof e=="symbol"?e:e+""}function IO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D5(t){return t&&t.map((e,n)=>Qe.createElement(e.tag,vf({key:n},e.attr),D5(e.child)))}function Vn(t){return e=>Qe.createElement(PO,yf({attr:vf({},t.attr)},e),D5(t.child))}function PO(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=SO(t,CO),d=a||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Qe.createElement("svg",yf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:f,style:vf(vf({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Qe.createElement("title",null,l),t.children)};return j_!==void 0?Qe.createElement(j_.Consumer,null,n=>e(n)):e(P5)}function Ko(t){return Vn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"},child:[]}]})(t)}function DO(t){return Vn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(t)}function kO(t){return Vn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"},child:[]}]})(t)}const OO=({language:t="en"})=>{const[e,n]=I.useState("contact"),[i,a]=I.useState(null),l=t==="ar"?"ar":"en",c={en:{home:"Home",contactUs:"Contact Us",askUs:"Ask Us",faq:"Frequently Asked Questions (FAQ)",usagePolicyLabel:"Usage Policy",returnExchangePolicyLabel:"Return & Exchange Policy",privacyPolicyLabel:"Privacy Policy",telephone:"Telephone Number",email:"Email",name:"Name",phoneNumber:"Phone Number",city:"City",subject:"Subject",comment:"Comment",submit:"Submit",faqQuestions:[{question:"What is the United Feeds Store?",answer:"It is an online store that offers products from the United Feeds Company, which are animal products imported from the best farms in the world, including various bulk grains such as barley, corn, soybean, and bran in all their forms."},{question:"What distinguishes United Store from its competitors?",answer:"It stands out by offering high-quality products at the best prices. Some of the key features of the store include: Meeting customer needs. Reducing cash transactions. Providing easy access to the customer database. Offering products imported from the best farms. and product information. Facilitating direct order tracking. Providing a cash-on-delivery service. Supporting all types of devices and multiple languages. Easy to use and navigate. Quick response and service."},{question:"How can I order from United Feeds Store?",answer:"You can order from United Feeds Store by visiting our website, selecting your desired products, and completing the checkout process. We also offer phone orders."},{question:"What is the order number?",answer:"The order number is the number that is automatically generated upon completing the order and is used to track the order's status with customer service representatives or in the order status section."},{question:"Where can I find the order number?",answer:"After completing the order process, you will be automatically redirected to a page that contains your order number. You can also find it by checking the email sent from the website, which includes the details of your order. Additionally, you can review the order number and its details from your account."},{question:"What payment methods are available?",answer:"After completing the order process, you will be automatically redirected to a page that contains your order number. You can also find it by checking the email sent from the website, which includes the details of your order. Additionally, you can review the order number and its details from your account."},{question:"How long does it take to process the order?",answer:"After completing the order process, you will be automatically redirected to a page that contains your order number. You can also find it by checking the email sent from the website, which includes the details of your order. Additionally, you can review the order number and its details from your account."},{question:"When are the products available?",answer:"There is no specific availability date for products. To track their availability, you can add the product to your favorites, and you will be notified as soon as the product becomes available, either through the website or the app."},{question:"I have an issue, can I contact you?",answer:"There is no specific availability date for products. To track their availability, you can add the product to your favorites, and you will be notified as soon as the product becomes available, either through the website or the app."},{question:"How can I track my order?",answer:"You can check the status of your order through our website or the app by logging into your account, going to 'My Orders,' selecting the order, and tracking its status."},{question:"Can I cancel the order?",answer:"1. If the order has not been processed: - To cancel your order, please contact us at the unified number 920006839. - Our team may ask for the reason for cancellation so that we can serve you better in the future. 2. If the order has been processed: - Once the order is processed, we will not be able to cancel your order."},{question:"Can I edit/delete/add a product?",answer:"1. If the order has not been processed: - To cancel your order, please contact us at the unified number 920006839. - Our team may ask for the reason for cancellation so that we can serve you better in the future. 2. If the order has been processed: - Once the order is processed, we will not be able to cancel your order."},{question:"Can I edit my account information?",answer:"You can edit any of your account information (phone number, password, or email) through our website or app. Simply log in, go to 'My Account' > 'Profile,' click on the field you want to edit, enter the data, and then click 'Edit.'"},{question:"I forgot my password, how can I recover it?",answer:"If you forget your password, please go to the login page on the website or app, then click on 'Forgot Password' and enter the recovery information or your mobile number."},{question:"What is Wallet Balance?",answer:"Wallet Balance is a specific amount of money that a customer can use entirely at any time during the purchasing process."},{question:"How can I use Wallet Balance?",answer:"Upon completing an order, the entire amount in the wallet is deducted immediately along with any remaining amount paid by the customer using one of the available payment methods."},{question:"If I delete my account, can I recover the balance?",answer:"You can recover the balance by contacting the customer service team via email or by calling the unified number: 920006839."}],usagePolicy:{title:"Terms of Services",subtitle:"Usage Policy",lastUpdated:"Last Updated: April 10, 2025",intro:"This is the website of the United Feeds Company in the Kingdom of Saudi Arabia (referred to as 'the website' or 'the website'). It is available for the personal use of site visitors. Visitor access and use of this site are subject to these terms and conditions and the laws of the Kingdom of Saudi Arabia. The visitor's entry and use of this site constitute an unconditional agreement to the terms and conditions of use, whether registered or not. This agreement takes effect from the first use of this site - This website provides information, data, and services related to the business of the United Feeds Company (referred to as United Feeds Company). By using this website, you acknowledge and agree to refrain from the following:",rules:["Providing or uploading files that contain software, materials, data, or other information that you do not own or have a license for.","Using this site in any way to send any commercial or unwanted email or any form of abuse.","Providing or uploading files on this site that contain viruses or corrupted data.","Publishing, advertising, distributing, or disseminating materials or information that defame, violate regulations, contain obscene or indecent content, or are in violation of public morality, or any illegal materials or information through the site.","Engaging through this site in unlawful or irregular activities within the Kingdom of Saudi Arabia.","Advertising on this site any product or service that puts us in violation of any applicable law or regulation in any field.","Using any means, software, or actions to obstruct or attempt to obstruct the proper operation of the site.","Taking any action that unreasonably or inappropriately imposes an undue or excessive burden on the sites infrastructure."],electronicLinks:"The United Feeds Companys website may contain electronic links to other websites or portals that may use methods to protect information and privacy different from ours. We are not responsible for the content, methods, and privacy of these other websites, and we recommend referring to their privacy notices.",propertyRights:"This website is owned by the United Feeds Company. All website content, including software and information, is fully protected in accordance with Saudi copyright, trademark, and various property rights laws. Furthermore, all intellectual property rights for the website's content belong to the United Feeds Company. Except as otherwise indicated, you may not sell, license, rent, modify, copy, reproduce, reprint, download, advertise, transmit, distribute, publicly display, edit, or create derivative works from any materials or content from this website for public or commercial purposes without prior written consent from the website's management. Any modification of the website's content is strictly prohibited. In addition, the graphics and images on this website are protected by copyright, and may not be copied or used in any way without prior written consent from the website's management.",disclaimerPolicy:"This website is a private website managed by the United Feeds Company. Its content is published in collaboration with other government entities. The United Feeds Company does not guarantee the full accuracy and correctness of the website's content, as some information may change. Therefore, the company assumes no responsibility or consequences resulting from the use of the information provided on the website, including: Accuracy and correctness of information, Effectiveness in preventing breaches, Relevance of the website content, Continuity or validity, Absence of viruses or harmful elements on the website or server. The company is not legally responsible for any loss or damage of any kind (direct or indirect) resulting from the use of this website. The servers operating the site automatically collect visitors' IP addresses when they visit one of the organization's websites. The IP address is used to help diagnose server problems and to perform statistics on its usage. The site uses cookies, and these files help users navigate the site easily. If desired, these files can be used to remember passwords and facilitate and speed up the login process to some sites. These files are stored on the computer's hard drive.",limitationOfLiability:"The electronic services and data provided by the website of the United Company for Feeds and obtaining any information about various government entities are only provided to facilitate manual procedures. By this, the user acknowledges full awareness that Internet communications may be subject to interception or interception by others, and that the website does not replace the information available through official authorities, and that requests and administrative procedures can be taken directly with the relevant authorities.",virusProtection:"The company makes every effort to examine and test the contents of this website at all stages of its preparation, and visitors are always advised to run an up-to-date antivirus program on all materials downloaded from the Internet. The company is not responsible for any loss, interruption, data damage to the user, their personal computer, or any damage that may occur when connecting to this website or using any material contained therein.",waiverOfClaims:"In its entirety, the website of the United Feeds Company, including all its information, services, materials, and functions, or that which can be accessed through the website, is provided for your personal use as is, without any acknowledgments, promises, or warranties of any kind. The website's administration cannot guarantee or be held responsible for any interruptions, errors, or violations that may arise from using this website, its content, or any associated site, whether with or without the knowledge of the website's administration. Any communications or information sent by the user through this website shall not grant them ownership or the right to guarantee its confidentiality. Additionally, any interactive use contained within this website does not imply or intend to guarantee any rights, licenses, or privileges of any kind to the user.",compensation:"By this, the user acknowledges not to take any action against the United Feeds Company or any of its management, and to indemnify and secure them from liability, as well as any parties or employees responsible for the management, maintenance, update, or provision of the website, from any and all obligations and responsibilities that may arise in connection with any claim arising from any violation on their part of the terms and conditions of use, or any of the prevailing laws, whether in the Kingdom of Saudi Arabia or the place where they reside.",terminationOfAccess:"The United Feeds Company may, at its absolute discretion, terminate, restrict, or suspend your right to access and use the website without notice and for any reason, including a violation of the terms and conditions of use or any other behavior we may consider, at our discretion, to be unlawful or harmful to others. In the event of termination, you will not be permitted to access this website.",judicialReference:"By this, the user exclusively agrees to submit to the judicial authorities in the Kingdom of Saudi Arabia regarding all claims and disputes arising from your use of this website."},returnExchangePolicy:{title:"Return & Exchange Policy",subtitle:"Return & Exchange Policy",lastUpdated:"Last Updated: April 10, 2025",returnPolicy:"Products can be returned in the following cases: If the product does not match the description agreed upon in the invoice, in this case, the return request can be completed under the following conditions: - The product must be in its original condition and accompanied by the invoice. - All products can be returned within a period not exceeding 3 days from the date of receiving the order, in order to maintain the products quality and preservation. If the product is damaged from the same date of receiving the order, and the quality team has confirmed this damage, the product will be replaced for the customer."},privacyPolicy:{title:"Privacy Policy",subtitle:"Privacy Policy",lastUpdated:"Last Updated: April 10, 2025",intro:"We appreciate your concerns and interests regarding the privacy of your data on the Internet. This policy has been prepared to help you understand the nature of the data we collect from you when you visit our website or use our internet application and how we handle this personal data.",browsing:"We have not designed this website or application to collect your personal data from your computer while browsing this website or application. Only data provided by you with your knowledge and free will shall be used.",ipAddress:"At any time you visit any website, including this website or application, the host server will record your Internet Protocol (IP) address, date and time of your visit, and the type of web browser you are using, along with the URL address of any website that referred you to this website.",onlineSurveys:"The online surveys we conduct directly on the web enable us to collect specific data regarding your opinions and feelings about our website or application. Your responses are of utmost importance and highly appreciated as they allow us to improve the website and the application. You have complete freedom and choice in providing data related to your name and other information.",linksToOtherSites:"Our website may include links to other websites or advertisements from other websites, such as Google AdSense. We are not responsible for data collection methods by those websites. You can review the privacy policies and content of those websites accessed through any link within this website.",informationDisclosure:"We will always maintain the privacy and confidentiality of all personal data we obtain. This information will not be disclosed unless required by any law or when we believe in good faith that such action is necessary or desirable to comply with the law or defend or protect the rights of the property of this website or the parties benefiting from it.",dataForTransactions:"When we need any data that is specific to you, we will ask you to provide it of your own free will. This information will help us to contact you and execute your requests wherever possible. Your provided data will never be sold to any third party for marketing purposes without your prior and written consent, unless it is included in aggregated data used for statistical and research purposes without any information that can identify you.",whenContactingUs:"All data provided by you will be treated as confidential. The forms presented directly on the web require providing data that will help us improve our website. The data you provide will be used to respond to all your inquiries, feedback, or requests by this website or any of its affiliated sites.",disclosureToThirdParties:"We will not sell, trade, rent, or disclose any information for the benefit of any third party outside of this website, application, or its affiliated sites. Information will only be disclosed in the event of an order from any judicial or regulatory authority.",amendments:"We reserve the right to amend the terms and conditions of the Privacy and Data Confidentiality Policy if necessary and when it is appropriate. Amendments will be implemented here, and you will be continuously notified of the data we obtain, how we will use it, and the parties to whom we will provide this data.",contactingUs:"You can contact us when needed by clicking on the 'Contact Us' link available on our website or application, or by contacting us at the toll-free number 920006839.",conclusion:"Your concerns and interests regarding data confidentiality and privacy are of the utmost importance to us. We hope to achieve this through this policy."}},ar:{home:"",contactUs:" ",askUs:"",faq:"  (FAQ)",usagePolicyLabel:" ",returnExchangePolicyLabel:"  ",privacyPolicyLabel:" ",telephone:" ",email:" ",name:"",phoneNumber:" ",city:"",subject:"",comment:"",submit:"",faqQuestions:[{question:"   United Feeds",answer:"                          "},{question:"    United  ",answer:"      .    :                                            "},{question:"     United Feeds",answer:"    United Feeds           .     ."},{question:"   ",answer:"                       ."},{question:"     ",answer:"            .                          ."},{question:"    ",answer:"   :       .       .              ."},{question:"     ",answer:"    30       .   "},{question:"   ",answer:"                       ."},{question:"     ",answer:"  !               info@ufc.com.sa     920006839"},{question:"   ",answer:"            >  >  >   "},{question:"   ",answer:"-     : -         920006839. -               . 2-    : -        ."},{question:"  // ",answer:"          .             : 920006839"},{question:"    ",answer:"      (     )                       ."},{question:"     ",answer:"                 '   '      ."},{question:"   ",answer:"             ."},{question:"    ",answer:"                             ."},{question:"       ",answer:"                 : 920006839."}],usagePolicy:{title:" ",subtitle:" ",lastUpdated:" : 10  2025",intro:"     United Feeds     (   ''  ' ').      .             .                  .         -           United Feeds (    United Feeds).           :",rules:["                    .","                   .","            .","                                    .","               .","                   .","             .","             ."],electronicLinks:"    United Feeds                .                   .",propertyRights:"    United Feeds.                        .            United Feeds.                                                           .       .                          .",disclaimerPolicy:"       United Feeds.        .    United Feeds          .                  :                      .             (   )     .       IP        .   IP         .      (cookies)         .                 .       .",limitationOfLiability:"       United Feeds             .                                        .",virusProtection:"                            .                                 .",waiverOfClaims:"    United Feeds                              .                                 .                  .                          .",compensation:"          United Feeds                                                          .",terminationOfAccess:"  United Feeds                                    .          .",judicialReference:"                      ."},returnExchangePolicy:{title:"  ",subtitle:"  ",lastUpdated:" : 10  2025",returnPolicy:"     :                    : -          . -         3           .                 ."},privacyPolicy:{title:" ",subtitle:" ",lastUpdated:" : 10  2025",intro:"       .                           .",browsing:"                   .          .",ipAddress:"                     (IP)              URL       .",onlineSurveys:"                    .            .           .",linksToOtherSites:"              Google AdSense.           .                  .",informationDisclosure:"          .                                          .",dataForTransactions:"           .           .                                 .",whenContactingUs:"       .             .                       .",disclosureToThirdParties:"                       .               .",amendments:"                .                   .",contactingUs:'        " "             920006839.',conclusion:"         .        ."}}};console.log("Language:",l),console.log("Translations:",c[l]);const d=v=>{v.preventDefault(),console.log("Form submitted")},f=v=>{n(v),a(null)},g=v=>{a(i===v?null:v)};return c[l]?p.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${l==="ar"?"rtl":"ltr"} bg-gray-50 min-h-screen`,children:[p.jsxs("nav",{className:"text-sm font-medium text-gray-500 mb-6",children:[p.jsx(bl,{to:"/",className:"text-gray-600 hover:text-[#78B833] transition-colors",children:c[l].home}),p.jsx("span",{className:"mx-2",children:"/"}),p.jsx("span",{className:"text-gray-800",children:c[l].contactUs})]}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsxs("aside",{className:"lg:w-1/4 bg-white rounded-lg shadow-md p-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-[#78B833] mb-6 border-b border-gray-200 pb-3",children:c[l].askUs}),p.jsxs("ul",{className:"space-y-4",children:[p.jsxs("li",{className:`flex items-center justify-between cursor-pointer p-3 rounded-md transition-colors ${e==="contact"?"bg-[#78B833] text-white":"text-gray-700 hover:bg-gray-100 hover:text-[#78B833]"}`,onClick:()=>f("contact"),children:[p.jsx("span",{className:"font-medium",children:c[l].contactUs}),p.jsx(Ko,{className:"w-5 h-5"})]}),p.jsxs("li",{className:`flex items-center justify-between cursor-pointer p-3 rounded-md transition-colors ${e==="faq"?"bg-[#78B833] text-white":"text-gray-700 hover:bg-gray-100 hover:text-[#78B833]"}`,onClick:()=>f("faq"),children:[p.jsx("span",{className:"font-medium",children:c[l].faq}),p.jsx(Ko,{className:"w-5 h-5"})]}),p.jsxs("li",{className:`flex items-center justify-between cursor-pointer p-3 rounded-md transition-colors ${e==="usage"?"bg-[#78B833] text-white":"text-gray-700 hover:bg-gray-100 hover:text-[#78B833]"}`,onClick:()=>f("usage"),children:[p.jsx("span",{className:"font-medium",children:c[l].usagePolicyLabel}),p.jsx(Ko,{className:"w-5 h-5"})]}),p.jsxs("li",{className:`flex items-center justify-between cursor-pointer p-3 rounded-md transition-colors ${e==="return"?"bg-[#78B833] text-white":"text-gray-700 hover:bg-gray-100 hover:text-[#78B833]"}`,onClick:()=>f("return"),children:[p.jsx("span",{className:"font-medium",children:c[l].returnExchangePolicyLabel}),p.jsx(Ko,{className:"w-5 h-5"})]}),p.jsxs("li",{className:`flex items-center justify-between cursor-pointer p-3 rounded-md transition-colors ${e==="privacy"?"bg-[#78B833] text-white":"text-gray-700 hover:bg-gray-100 hover:text-[#78B833]"}`,onClick:()=>f("privacy"),children:[p.jsx("span",{className:"font-medium",children:c[l].privacyPolicyLabel}),p.jsx(Ko,{className:"w-5 h-5"})]})]})]}),p.jsxs("main",{className:"lg:w-3/4 flex flex-col lg:flex-row gap-8",children:[e==="contact"&&p.jsxs("div",{className:"lg:w-1/3 bg-white rounded-lg shadow-md p-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 border-b border-gray-200 pb-3",children:c[l].contactUs}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(kO,{className:"w-6 h-6 text-[#78B833] flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:c[l].telephone}),p.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"+920 006 839"})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(DO,{className:"w-6 h-6 text-[#78B833] flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600",children:c[l].email}),p.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"info@ufc.com.sa"})]})]})]})]}),e==="contact"?p.jsx("div",{className:"lg:w-2/3 bg-white rounded-lg shadow-md p-6",children:p.jsxs("form",{onSubmit:d,className:"space-y-5",children:[p.jsx("div",{children:p.jsx("input",{type:"text",placeholder:c[l].name,className:"w-full p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all text-gray-700 placeholder-gray-400",required:!0})}),p.jsx("div",{children:p.jsx("input",{type:"email",placeholder:c[l].email,className:"w-full p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all text-gray-700 placeholder-gray-400",required:!0})}),p.jsx("div",{children:p.jsxs("div",{className:"flex items-center border border-gray-200 rounded-lg overflow-hidden",children:[p.jsx("span",{className:"px-3 py-3 text-gray-600 bg-gray-50 border-r border-gray-200",children:"+966"}),p.jsx("input",{type:"tel",placeholder:c[l].phoneNumber,className:"w-full p-3 border-none focus:outline-none focus:ring-2 focus:ring-[#78B833] rounded-r-lg text-gray-700 placeholder-gray-400",required:!0})]})}),p.jsx("div",{children:p.jsx("input",{type:"text",placeholder:c[l].city,className:"w-full p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all text-gray-700 placeholder-gray-400"})}),p.jsx("div",{children:p.jsx("input",{type:"text",placeholder:c[l].subject,className:"w-full p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all text-gray-700 placeholder-gray-400",required:!0})}),p.jsx("div",{children:p.jsx("textarea",{placeholder:c[l].comment,className:"w-full p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all text-gray-700 placeholder-gray-400",rows:"5",required:!0})}),p.jsx("button",{type:"submit",className:"bg-[#78B833] text-white py-3 px-8 rounded-lg hover:bg-[#6aa02b] transition-colors font-semibold shadow-md",children:c[l].submit})]})}):e==="faq"?p.jsxs("div",{className:"lg:w-full bg-white rounded-lg shadow-md p-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 border-b border-gray-200 pb-3",children:c[l].faq}),p.jsx("ul",{className:"space-y-4",children:c[l].faqQuestions.map((v,_)=>p.jsxs("li",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[p.jsxs("div",{className:"flex items-center justify-between cursor-pointer text-gray-800 hover:text-[#78B833] transition-colors",onClick:()=>g(_),children:[p.jsx("span",{className:"font-semibold text-lg",children:v.question}),p.jsx(Ko,{className:`w-5 h-5 transform transition-transform text-[#78B833] ${i===_?"rotate-90":""}`})]}),i===_&&p.jsx("p",{className:"mt-3 text-gray-600 leading-relaxed",children:v.answer})]},_))})]}):e==="usage"?p.jsxs("div",{className:"lg:w-full bg-white rounded-lg shadow-md p-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:c[l].usagePolicy.title}),p.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-3",children:c[l].usagePolicy.subtitle}),p.jsx("p",{className:"text-sm text-gray-500 mb-6",children:c[l].usagePolicy.lastUpdated}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.intro}),p.jsx("ul",{className:"list-disc pl-6 space-y-3 mb-6",children:c[l].usagePolicy.rules.map((v,_)=>p.jsx("li",{className:"text-gray-600 leading-relaxed",children:v},_))}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Electronic Links"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.electronicLinks}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Property Rights"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.propertyRights}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Disclaimer Policy"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.disclaimerPolicy}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Limitation of Liability"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.limitationOfLiability}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Virus Protection"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.virusProtection}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Waiver of Claims"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.waiverOfClaims}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Compensation"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.compensation}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Termination of Access"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].usagePolicy.terminationOfAccess}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Judicial Reference"}),p.jsx("p",{className:"text-gray-600 leading-relaxed",children:c[l].usagePolicy.judicialReference})]}):e==="return"?p.jsxs("div",{className:"lg:w-full bg-white rounded-lg shadow-md p-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:c[l].returnExchangePolicy.title}),p.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-3",children:c[l].returnExchangePolicy.subtitle}),p.jsx("p",{className:"text-sm text-gray-500 mb-6",children:c[l].returnExchangePolicy.lastUpdated}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Return Policy"}),p.jsx("p",{className:"text-gray-600 leading-relaxed",children:c[l].returnExchangePolicy.returnPolicy})]}):e==="privacy"?p.jsxs("div",{className:"lg:w-full bg-white rounded-lg shadow-md p-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:c[l].privacyPolicy.title}),p.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-3",children:c[l].privacyPolicy.subtitle}),p.jsx("p",{className:"text-sm text-gray-500 mb-6",children:c[l].privacyPolicy.lastUpdated}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Privacy and Information Confidentiality Statement"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.intro}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Browsing"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.browsing}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Internet Protocol (IP) Address"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.ipAddress}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Online Surveys"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.onlineSurveys}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Links to Other Websites on the Internet"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.linksToOtherSites}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Information Disclosure"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.informationDisclosure}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Data Needed for Your Required Transactions"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.dataForTransactions}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"When Contacting Us"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.whenContactingUs}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Information Disclosure to Third Parties"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.disclosureToThirdParties}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Amendments to the Privacy and Data Confidentiality Policy"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.amendments}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Contacting Us"}),p.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:c[l].privacyPolicy.contactingUs}),p.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"In Conclusion"}),p.jsx("p",{className:"text-gray-600 leading-relaxed",children:c[l].privacyPolicy.conclusion})]}):p.jsx("div",{className:"lg:w-full bg-white rounded-lg shadow-md p-6",children:p.jsx("p",{className:"text-gray-600 text-center",children:"Section not found."})})]})]})]}):p.jsx("div",{className:"text-red-600 text-center p-6",children:"Error: Language not supported. Please use 'en' or 'ar'."})};function k5(t){return Vn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"},child:[]}]})(t)}function O5(t){return Vn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"},child:[]}]})(t)}function j5(t){return Vn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 0 0-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 1 0 0 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 0 0-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 0 0-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 0 0-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 0 0-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 0 1-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 0 1-31.6 31.6z"},child:[]}]})(t)}const Ku=({id:t,image:e,name_en:n,name_ar:i,price:a,stars:l,inStock:c,language:d="en"})=>{const f=bn(),{currency:g,favorites:v,addToFavorites:_,removeFromFavorites:T,addToCart:E}=I.useContext(Hs),[R,V]=I.useState(null),N=v.some(K=>K===t),D={en:{addToCart:"Add to Cart",addToFavorites:"Add to Favorites",removeFromFavorites:"Remove from Favorites",inStock:"In Stock",outOfStock:"Out of Stock",currency:g||"SAR",addedToCart:"Added to cart successfully!",addedToFavorites:"Added to favorites!",removedFromFavorites:"Removed from favorites!"},ar:{addToCart:"  ",addToFavorites:"  ",removeFromFavorites:"  ",inStock:"",outOfStock:" ",currency:"",addedToCart:"    !",addedToFavorites:"   !",removedFromFavorites:"   !"}};I.useEffect(()=>{const K=lt.onAuthStateChanged($=>{V($)});return()=>K()},[]);const j=K=>{if(K.preventDefault(),!R){f("/login");return}N?(T(t),Ie.info(D[d].removedFromFavorites,{position:"top-right",autoClose:3e3})):(_(t),Ie.success(D[d].addedToFavorites,{position:"top-right",autoClose:3e3}))},L=K=>{if(K.preventDefault(),!c){Ie.error(D[d].outOfStock,{position:"top-right",autoClose:3e3,style:{direction:d==="ar"?"rtl":"ltr"}});return}if(!R){f("/login");return}E(t),Ie.success(D[d].addedToCart,{position:"top-right",autoClose:3e3})},Y=d==="ar"?i:n;return p.jsxs("div",{className:`bg-white shadow-sm rounded-lg overflow-hidden ${d==="ar"?"rtl":"ltr"}`,children:[p.jsxs(bl,{to:`/product-details/${t}`,children:[p.jsxs("div",{className:"relative w-full h-48 flex items-center justify-center bg-white",children:[p.jsx("img",{className:"max-h-full max-w-full object-contain",src:Array.isArray(e)?e[0]:e,alt:Y}),p.jsx("button",{onClick:j,className:`absolute top-2 ${d==="ar"?"left-2":"right-2"} text-2xl`,"aria-label":N?D[d].removeFromFavorites:D[d].addToFavorites,disabled:!R,children:N?p.jsx(k5,{className:`cursor-pointer ${R?"text-[#78B833]":"text-gray-300"}`}):p.jsx(O5,{className:`cursor-pointer ${R?"text-gray-400 hover:text-[#78B833]":"text-gray-300"}`})})]}),p.jsxs("div",{className:"p-4 text-center",children:[p.jsx("div",{className:"flex justify-center text-yellow-400 mb-2",children:[...Array(5)].map((K,$)=>p.jsx("span",{children:$<Math.floor(l)?"":""},$))}),p.jsx("p",{className:"text-sm font-medium text-gray-800",children:Y}),p.jsxs("p",{className:"text-base font-semibold text-gray-900 mt-1",children:[a," ",D[d].currency]}),p.jsx("p",{className:`text-sm mt-1 ${c?"text-green-600":"text-red-600"}`,children:c?D[d].inStock:D[d].outOfStock})]})]}),p.jsx("div",{className:"px-4 pb-4",children:p.jsxs("button",{onClick:L,className:"w-full bg-[#78B833] text-white py-2 rounded-full flex items-center justify-center text-sm font-medium hover:bg-[#78B833] transition-colors cursor-pointer",disabled:!c,children:[p.jsx(j5,{className:`w-5 h-5 ${d==="ar"?"ml-2":"mr-2"}`}),D[d].addToCart]})})]})},Hg=I.createContext({});function qg(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const $g=typeof window<"u",M5=$g?I.useLayoutEffect:I.useEffect,Jf=I.createContext(null),Gg=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class jO extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=i instanceof HTMLElement&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MO({children:t,isPresent:e,anchorX:n}){const i=I.useId(),a=I.useRef(null),l=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=I.useContext(Gg);return I.useInsertionEffect(()=>{const{width:d,height:f,top:g,left:v,right:_}=l.current;if(e||!a.current||!d||!f)return;const T=n==="left"?`left: ${v}`:`right: ${_}`;a.current.dataset.motionPopId=i;const E=document.createElement("style");return c&&(E.nonce=c),document.head.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${T}px !important;
            top: ${g}px !important;
          }
        `),()=>{document.head.removeChild(E)}},[e]),p.jsx(jO,{isPresent:e,childRef:a,sizeRef:l,children:I.cloneElement(t,{ref:a})})}const VO=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d})=>{const f=qg(LO),g=I.useId(),v=I.useCallback(T=>{f.set(T,!0);for(const E of f.values())if(!E)return;i&&i()},[f,i]),_=I.useMemo(()=>({id:g,initial:e,isPresent:n,custom:a,onExitComplete:v,register:T=>(f.set(T,!1),()=>f.delete(T))}),l?[Math.random(),v]:[n,v]);return I.useMemo(()=>{f.forEach((T,E)=>f.set(E,!1))},[n]),I.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),c==="popLayout"&&(t=p.jsx(MO,{isPresent:n,anchorX:d,children:t})),p.jsx(Jf.Provider,{value:_,children:t})};function LO(){return new Map}function V5(t=!0){const e=I.useContext(Jf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const c=I.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Rh=t=>t.key||"";function V_(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const L5=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left"})=>{const[f,g]=V5(c),v=I.useMemo(()=>V_(t),[t]),_=c&&!f?[]:v.map(Rh),T=I.useRef(!0),E=I.useRef(v),R=qg(()=>new Map),[V,N]=I.useState(v),[D,j]=I.useState(v);M5(()=>{T.current=!1,E.current=v;for(let K=0;K<D.length;K++){const $=Rh(D[K]);_.includes($)?R.delete($):R.get($)!==!0&&R.set($,!1)}},[D,_.length,_.join("-")]);const L=[];if(v!==V){let K=[...v];for(let $=0;$<D.length;$++){const O=D[$],S=Rh(O);_.includes(S)||(K.splice($,0,O),L.push(O))}return l==="wait"&&L.length&&(K=L),j(V_(K)),N(v),null}const{forceRender:Y}=I.useContext(Hg);return p.jsx(p.Fragment,{children:D.map(K=>{const $=Rh(K),O=c&&!f?!1:v===D||_.includes($),S=()=>{if(R.has($))R.set($,!0);else return;let C=!0;R.forEach(k=>{k||(C=!1)}),C&&(Y==null||Y(),j(E.current),c&&(g==null||g()),i&&i())};return p.jsx(VO,{isPresent:O,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:O?void 0:S,anchorX:d,children:K},$)})})};function Kg(t,e){t.indexOf(e)===-1&&t.push(e)}function Wg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let U5=()=>{};const UO={useManualTiming:!1};function Yg(t){let e;return()=>(e===void 0&&(e=t()),e)}const hi=t=>t,Eu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Qg{constructor(){this.subscriptions=[]}add(e){return Kg(this.subscriptions,e),()=>Wg(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xi=t=>t*1e3,Zi=t=>t/1e3;function B5(t,e){return e?t*(1e3/e):0}const BO=Yg(()=>window.ScrollTimeline!==void 0);class FO{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(a=>{if(BO()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{i.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class zO extends FO{then(e,n){return this.finished.finally(e).then(()=>{})}}const L_={value:null},Xg=t=>Array.isArray(t)&&typeof t[0]=="number",HO={};function qO(t,e){const n=Yg(t);return()=>HO[e]??n()}const Cu=qO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),F5=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=t(l/(a-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Jc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,g2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jc([0,.65,.55,1]),circOut:Jc([.55,0,1,.45]),backIn:Jc([.31,.01,.66,-.59]),backOut:Jc([.33,1.53,.69,.99])};function z5(t,e){if(t)return typeof t=="function"&&Cu()?F5(t,e):Xg(t)?Jc(t):Array.isArray(t)?t.map(n=>z5(n,e)||g2.easeOut):g2[t]}function $O(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:f}={},g=void 0){const v={[e]:n};f&&(v.offset=f);const _=z5(d,a);return Array.isArray(_)&&(v.easing=_),t.animate(v,{delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:g})}function Zg(t){return typeof t=="function"&&"applyToOptions"in t}function Jg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const bf=2e4;function ey(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<bf;)e+=n,i=t.next(e);return e>=bf?1/0:e}function GO(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(ey(i),bf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Zi(a)}}function H5(t){return!!(typeof t=="function"&&Cu()||!t||typeof t=="string"&&(t in g2||Cu())||Xg(t)||Array.isArray(t)&&t.every(H5))}function U_(t,e){t.timeline=e,t.onfinish=null}const Nh=["read","resolveKeyframes","update","preRender","render","postRender"];function KO(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function g(_){c.has(_)&&(v.schedule(_),t()),f++,_(d)}const v={schedule:(_,T=!1,E=!1)=>{const V=E&&a?n:i;return T&&c.add(_),V.has(_)||V.add(_),_},cancel:_=>{i.delete(_),c.delete(_)},process:_=>{if(d=_,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(g),e&&L_.value&&L_.value.frameloop[e].push(f),f=0,n.clear(),a=!1,l&&(l=!1,v.process(_))}};return v}const WO=40;function q5(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Nh.reduce((D,j)=>(D[j]=KO(l,e?j:void 0),D),{}),{read:d,resolveKeyframes:f,update:g,preRender:v,render:_,postRender:T}=c,E=()=>{const D=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(D-a.timestamp,WO),1),a.timestamp=D,a.isProcessing=!0,d.process(a),f.process(a),g.process(a),v.process(a),_.process(a),T.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(E))},R=()=>{n=!0,i=!0,a.isProcessing||t(E)};return{schedule:Nh.reduce((D,j)=>{const L=c[j];return D[j]=(Y,K=!1,$=!1)=>(n||R(),L.schedule(Y,K,$)),D},{}),cancel:D=>{for(let j=0;j<Nh.length;j++)c[Nh[j]].cancel(D)},state:a,steps:c}}const{schedule:dt,cancel:Hr,state:an,steps:Ap}=q5(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0),{schedule:ty}=q5(queueMicrotask,!1);let qh;function YO(){qh=void 0}const Ji={now:()=>(qh===void 0&&Ji.set(an.isProcessing||UO.useManualTiming?an.timestamp:performance.now()),qh),set:t=>{qh=t,queueMicrotask(YO)}},wi={x:!1,y:!1};function $5(){return wi.x||wi.y}function QO(t){return t==="x"||t==="y"?wi[t]?null:(wi[t]=!0,()=>{wi[t]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function XO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function G5(t,e){const n=XO(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function B_(t){return!(t.pointerType==="touch"||$5())}function ZO(t,e,n={}){const[i,a,l]=G5(t,n),c=d=>{if(!B_(d))return;const{target:f}=d,g=e(f,d);if(typeof g!="function"||!f)return;const v=_=>{B_(_)&&(g(_),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const K5=(t,e)=>e?t===e?!0:K5(t,e.parentElement):!1,ny=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ej(t){return JO.has(t.tagName)||t.tabIndex!==-1}const eu=new WeakSet;function F_(t){return e=>{e.key==="Enter"&&t(e)}}function Rp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tj=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=F_(()=>{if(eu.has(n))return;Rp(n,"down");const a=F_(()=>{Rp(n,"up")}),l=()=>Rp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function z_(t){return ny(t)&&!$5()}function nj(t,e,n={}){const[i,a,l]=G5(t,n),c=d=>{const f=d.currentTarget;if(!z_(d)||eu.has(f))return;eu.add(f);const g=e(f,d),v=(E,R)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),!(!z_(E)||!eu.has(f))&&(eu.delete(f),typeof g=="function"&&g(E,{success:R}))},_=E=>{v(E,f===window||f===document||n.useGlobalTarget||K5(f,E.target))},T=E=>{v(E,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d instanceof HTMLElement&&(d.addEventListener("focus",g=>tj(g,a)),!ej(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}const H_=30,ij=t=>!isNaN(parseFloat(t));class sj{constructor(e,n={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const l=Ji.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ji.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ij(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qg);const i=this.events[e].add(n);return e==="change"?()=>{i(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ji.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>H_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,H_);return B5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Su(t,e){return new sj(t,e)}const W5=I.createContext({strict:!1}),q_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ml={};for(const t in q_)ml[t]={isEnabled:e=>q_[t].some(n=>!!e[n])};function rj(t){for(const e in t)ml[e]={...ml[e],...t[e]}}const aj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _f(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aj.has(t)}let Y5=t=>!_f(t);function oj(t){t&&(Y5=e=>e.startsWith("on")?!_f(e):t(e))}try{oj(require("@emotion/is-prop-valid").default)}catch{}function lj(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(Y5(a)||n===!0&&_f(a)||!e&&!_f(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function cj(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const e0=I.createContext({});function t0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Au(t){return typeof t=="string"||Array.isArray(t)}const iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sy=["initial",...iy];function n0(t){return t0(t.animate)||sy.some(e=>Au(t[e]))}function Q5(t){return!!(n0(t)||t.variants)}function uj(t,e){if(n0(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Au(n)?n:void 0,animate:Au(i)?i:void 0}}return t.inherit!==!1?e:{}}function dj(t){const{initial:e,animate:n}=uj(t,I.useContext(e0));return I.useMemo(()=>({initial:e,animate:n}),[$_(e),$_(n)])}function $_(t){return Array.isArray(t)?t.join(" "):t}const hj=Symbol.for("motionComponentSymbol");function Zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fj(t,e,n){return I.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Zo(n)&&(n.current=i))},[e])}const ry=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mj="framerAppearId",X5="data-"+ry(mj),Z5=I.createContext({});function pj(t,e,n,i,a){var V,N;const{visualElement:l}=I.useContext(e0),c=I.useContext(W5),d=I.useContext(Jf),f=I.useContext(Gg).reducedMotion,g=I.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const v=g.current,_=I.useContext(Z5);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&gj(g.current,n,a,_);const T=I.useRef(!1);I.useInsertionEffect(()=>{v&&T.current&&v.update(n,d)});const E=n[X5],R=I.useRef(!!E&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,E))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,E)));return M5(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),ty.render(v.render),R.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,E)}),R.current=!1))}),v}function gj(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:J5(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Zo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:g})}function J5(t){if(t)return t.options.allowProjection!==!1?t.projection:J5(t.parent)}function yj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:a}){t&&rj(t);function l(d,f){let g;const v={...I.useContext(Gg),...d,layoutId:vj(d)},{isStatic:_}=v,T=dj(d),E=i(d,_);if(!_&&$g){bj();const R=_j(v);g=R.MeasureLayout,T.visualElement=pj(a,E,v,e,R.ProjectionNode)}return p.jsxs(e0.Provider,{value:T,children:[g&&T.visualElement?p.jsx(g,{visualElement:T.visualElement,...v}):null,n(a,d,fj(E,T.visualElement,f),E,_,T.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=I.forwardRef(l);return c[hj]=a,c}function vj({layoutId:t}){const e=I.useContext(Hg).id;return e&&t!==void 0?e+"-"+t:t}function bj(t,e){I.useContext(W5).strict}function _j(t){const{drag:e,layout:n}=ml;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const e6=t=>e=>typeof e=="string"&&e.startsWith(t),ay=e6("--"),xj=e6("var(--"),oy=t=>xj(t)?wj.test(t.split("/*")[0].trim()):!1,wj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ru={};function Tj(t){for(const e in t)Ru[e]=t[e],ay(e)&&(Ru[e].isCSSVariable=!0)}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],to=new Set(Al);function t6(t,{layout:e,layoutId:n}){return to.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ru[t]||t==="opacity")}const yn=t=>!!(t&&t.getVelocity),n6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,zs=(t,e,n)=>n>e?e:n<t?t:n,Rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nu={...Rl,transform:t=>zs(0,1,t)},Ih={...Rl,default:1},Wu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ar=Wu("deg"),es=Wu("%"),Se=Wu("px"),Ej=Wu("vh"),Cj=Wu("vw"),G_={...es,parse:t=>es.parse(t)/100,transform:t=>es.transform(t*100)},Sj={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},Aj={rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:Ar,skewX:Ar,skewY:Ar,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Nu,originX:G_,originY:G_,originZ:Se},K_={...Rl,transform:Math.round},ly={...Sj,...Aj,zIndex:K_,size:Se,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:K_},Rj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nj=Al.length;function Ij(t,e,n){let i="",a=!0;for(let l=0;l<Nj;l++){const c=Al[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const g=n6(d,ly[c]);if(!f){a=!1;const v=Rj[c]||c;i+=`${v}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function cy(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const g=e[f];if(to.has(f)){c=!0;continue}else if(ay(f)){a[f]=g;continue}else{const v=n6(g,ly[f]);f.startsWith("origin")?(d=!0,l[f]=v):i[f]=v}}if(e.transform||(c||n?i.transform=Ij(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:g="50%",originZ:v=0}=l;i.transformOrigin=`${f} ${g} ${v}`}}const uy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i6(t,e,n){for(const i in e)!yn(e[i])&&!t6(i,n)&&(t[i]=e[i])}function Pj({transformTemplate:t},e){return I.useMemo(()=>{const n=uy();return cy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Dj(t,e){const n=t.style||{},i={};return i6(i,n,t),Object.assign(i,Pj(t,e)),i}function kj(t,e){const n={},i=Dj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Oj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dy(t){return typeof t!="string"||t.includes("-")?!1:!!(Oj.indexOf(t)>-1||/[A-Z]/u.test(t))}const jj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mj={offset:"strokeDashoffset",array:"strokeDasharray"};function Vj(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?jj:Mj;t[l.offset]=Se.transform(-i);const c=Se.transform(e),d=Se.transform(n);t[l.array]=`${c} ${d}`}function W_(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function Lj(t,e,n){const i=W_(e,t.x,t.width),a=W_(n,t.y,t.height);return`${i} ${a}`}function hy(t,{attrX:e,attrY:n,attrScale:i,originX:a,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...g},v,_){if(cy(t,g,_),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:E,dimensions:R}=t;T.transform&&(R&&(E.transform=T.transform),delete T.transform),R&&(a!==void 0||l!==void 0||E.transform)&&(E.transformOrigin=Lj(R,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),c!==void 0&&Vj(T,c,d,f,!1)}const s6=()=>({...uy(),attrs:{}}),fy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Uj(t,e,n,i){const a=I.useMemo(()=>{const l=s6();return hy(l,e,fy(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};i6(l,t.style,t),a.style={...l,...a.style}}return a}function Bj(t=!1){return(n,i,a,{latestValues:l},c)=>{const f=(dy(n)?Uj:kj)(i,l,c,n),g=lj(i,typeof n=="string",t),v=n!==I.Fragment?{...g,...f,ref:a}:{},{children:_}=i,T=I.useMemo(()=>yn(_)?_.get():_,[_]);return I.createElement(n,{...v,children:T})}}function Y_(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function my(t,e,n,i){if(typeof e=="function"){const[a,l]=Y_(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Y_(i);e=e(n!==void 0?n:t.custom,a,l)}return e}const y2=t=>Array.isArray(t),Fj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),zj=t=>y2(t)?t[t.length-1]||0:t;function $h(t){const e=yn(t)?t.get():t;return Fj(e)?e.toValue():e}function Hj({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,a,l){const c={latestValues:qj(i,a,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:i,current:d,...c}),c.onUpdate=d=>n(d)),c}const r6=t=>(e,n)=>{const i=I.useContext(e0),a=I.useContext(Jf),l=()=>Hj(t,e,i,a);return n?l():qg(l)};function qj(t,e,n,i){const a={},l=i(t,{});for(const T in l)a[T]=$h(l[T]);let{initial:c,animate:d}=t;const f=n0(t),g=Q5(t);e&&g&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const _=v?d:c;if(_&&typeof _!="boolean"&&!t0(_)){const T=Array.isArray(_)?_:[_];for(let E=0;E<T.length;E++){const R=my(t,T[E]);if(R){const{transitionEnd:V,transition:N,...D}=R;for(const j in D){let L=D[j];if(Array.isArray(L)){const Y=v?L.length-1:0;L=L[Y]}L!==null&&(a[j]=L)}for(const j in V)a[j]=V[j]}}}return a}function py(t,e,n){var l;const{style:i}=t,a={};for(const c in i)(yn(i[c])||e.style&&yn(e.style[c])||t6(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=i[c]);return a}const $j={useVisualState:r6({scrapeMotionValuesFromProps:py,createRenderState:uy})};function a6(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function o6(t,{style:e,vars:n},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}const l6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c6(t,e,n,i){o6(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(l6.has(a)?a:ry(a),e.attrs[a])}function u6(t,e,n){const i=py(t,e,n);for(const a in t)if(yn(t[a])||yn(e[a])){const l=Al.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const Q_=["x","y","width","height","cx","cy","r"],Gj={useVisualState:r6({scrapeMotionValuesFromProps:u6,createRenderState:s6,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in a)if(to.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<Q_.length;d++){const f=Q_[d];t[f]!==e[f]&&(c=!0)}c&&dt.read(()=>{a6(n,i),dt.render(()=>{hy(i,a,fy(n.tagName),t.transformTemplate),c6(n,i)})})}})};function Kj(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...dy(i)?Gj:$j,preloadedFeatures:t,useRender:Bj(a),createVisualElement:e,Component:i};return yj(c)}}function Iu(t,e,n){const i=t.getProps();return my(i,e,n!==void 0?n:i.custom,t)}const d6=new Set(["width","height","top","left","right","bottom",...Al]);function Wj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Su(n))}function Yj(t,e){const n=Iu(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=zj(l[c]);Wj(t,c,d)}}function Qj(t){return!!(yn(t)&&t.add)}function v2(t,e){const n=t.getValue("willChange");if(Qj(n))return n.add(e)}function h6(t){return t.props[X5]}const f6=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Xj=1e-7,Zj=12;function Jj(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=f6(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>Xj&&++d<Zj);return c}function Yu(t,e,n,i){if(t===e&&n===i)return hi;const a=l=>Jj(l,0,1,t,n);return l=>l===0||l===1?l:f6(a(l),e,i)}const m6=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,p6=t=>e=>1-t(1-e),g6=Yu(.33,1.53,.69,.99),gy=p6(g6),y6=m6(gy),v6=t=>(t*=2)<1?.5*gy(t):.5*(2-Math.pow(2,-10*(t-1))),yy=t=>1-Math.sin(Math.acos(t)),b6=p6(yy),_6=m6(yy),x6=t=>/^0[^.\s]+$/u.test(t);function eM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||x6(t):!0}const uu=t=>Math.round(t*1e5)/1e5,vy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tM(t){return t==null}const nM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,by=(t,e)=>n=>!!(typeof n=="string"&&nM.test(n)&&n.startsWith(t)||e&&!tM(n)&&Object.prototype.hasOwnProperty.call(n,e)),w6=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(vy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},iM=t=>zs(0,255,t),Np={...Rl,transform:t=>Math.round(iM(t))},Oa={test:by("rgb","red"),parse:w6("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Np.transform(t)+", "+Np.transform(e)+", "+Np.transform(n)+", "+uu(Nu.transform(i))+")"};function sM(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const b2={test:by("#"),parse:sM,transform:Oa.transform},Jo={test:by("hsl","hue"),parse:w6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+es.transform(uu(e))+", "+es.transform(uu(n))+", "+uu(Nu.transform(i))+")"},mn={test:t=>Oa.test(t)||b2.test(t)||Jo.test(t),parse:t=>Oa.test(t)?Oa.parse(t):Jo.test(t)?Jo.parse(t):b2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):Jo.transform(t)},rM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(vy))==null?void 0:e.length)||0)+(((n=t.match(rM))==null?void 0:n.length)||0)>0}const T6="number",E6="color",oM="var",lM="var(",X_="${}",cM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(cM,f=>(mn.test(f)?(i.color.push(l),a.push(E6),n.push(mn.parse(f))):f.startsWith(lM)?(i.var.push(l),a.push(oM),n.push(f)):(i.number.push(l),a.push(T6),n.push(parseFloat(f))),++l,X_)).split(X_);return{values:n,split:d,indexes:i,types:a}}function C6(t){return Pu(t).values}function S6(t){const{split:e,types:n}=Pu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===T6?l+=uu(a[c]):d===E6?l+=mn.transform(a[c]):l+=a[c]}return l}}const uM=t=>typeof t=="number"?0:t;function dM(t){const e=C6(t);return S6(t)(e.map(uM))}const qr={test:aM,parse:C6,createTransformer:S6,getAnimatableNone:dM},hM=new Set(["brightness","contrast","saturate","opacity"]);function fM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(vy)||[];if(!i)return t;const a=n.replace(i,"");let l=hM.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const mM=/\b([a-z-]*)\(.*?\)/gu,_2={...qr,getAnimatableNone:t=>{const e=t.match(mM);return e?e.map(fM).join(" "):t}},pM={...ly,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:_2,WebkitFilter:_2},A6=t=>pM[t];function R6(t,e){let n=A6(t);return n!==_2&&(n=qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gM=new Set(["auto","none","0"]);function yM(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!gM.has(l)&&Pu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=R6(n,a)}const ja=t=>t*180/Math.PI,x2=t=>{const e=ja(Math.atan2(t[1],t[0]));return w2(e)},vM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:x2,rotateZ:x2,skewX:t=>ja(Math.atan(t[1])),skewY:t=>ja(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},w2=t=>(t=t%360,t<0&&(t+=360),t),Z_=x2,J_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ex=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:J_,scaleY:ex,scale:t=>(J_(t)+ex(t))/2,rotateX:t=>w2(ja(Math.atan2(t[6],t[5]))),rotateY:t=>w2(ja(Math.atan2(-t[2],t[0]))),rotateZ:Z_,rotate:Z_,skewX:t=>ja(Math.atan(t[4])),skewY:t=>ja(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tx(t){return t.includes("scale")?1:0}function T2(t,e){if(!t||t==="none")return tx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=bM,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=vM,a=d}if(!a)return tx(e);const l=i[e],c=a[1].split(",").map(xM);return typeof l=="function"?l(c):c[l]}const _M=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return T2(n,e)};function xM(t){return parseFloat(t.trim())}const nx=t=>t===Rl||t===Se,wM=new Set(["x","y","z"]),TM=Al.filter(t=>!wM.has(t));function EM(t){const e=[];return TM.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const pl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>T2(e,"x"),y:(t,{transform:e})=>T2(e,"y")};pl.translateX=pl.x;pl.translateY=pl.y;const La=new Set;let E2=!1,C2=!1;function N6(){if(C2){const t=Array.from(La).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=EM(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{var d;(d=i.getValue(l))==null||d.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}C2=!1,E2=!1,La.forEach(t=>t.complete()),La.clear()}function I6(){La.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(C2=!0)})}function CM(){I6(),N6()}class _y{constructor(e,n,i,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(La.add(this),E2||(E2=!0,dt.read(I6),dt.resolveKeyframes(N6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=a==null?void 0:a.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const f=i.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),a&&c===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),La.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,La.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const P6=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),SM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AM(t){const e=SM.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function D6(t,e,n=1){const[i,a]=AM(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return P6(c)?parseFloat(c):c}return oy(a)?D6(a,e,n+1):a}const k6=t=>e=>e.test(t),RM={test:t=>t==="auto",parse:t=>t},O6=[Rl,Se,es,Ar,Cj,Ej,RM],ix=t=>O6.find(k6(t));class j6 extends _y{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let g=e[f];if(typeof g=="string"&&(g=g.trim(),oy(g))){const v=D6(g,n.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!d6.has(i)||e.length!==2)return;const[a,l]=e,c=ix(a),d=ix(l);if(c!==d)if(nx(c)&&nx(d))for(let f=0;f<e.length;f++){const g=e[f];typeof g=="string"&&(e[f]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)eM(e[a])&&i.push(a);i.length&&yM(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=pl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,g])=>{e.getValue(f).set(g)}),this.resolveNoneKeyframes()}}const sx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qr.test(t)||t==="0")&&!t.startsWith("url("));function NM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IM(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=sx(a,e),d=sx(l,e);return!c||!d?!1:NM(t)||(n==="spring"||Zg(n))&&i}const PM=t=>t!==null;function i0(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(PM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const DM=40;class M6{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ji.now(),this.options={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>DM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&CM(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ji.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:l,delay:c,onComplete:d,onUpdate:f,isGenerator:g}=this.options;if(!g&&!IM(e,i,a,l))if(c)this.options.duration=0;else{f&&f(i0(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,n);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...v},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const yt=(t,e,n)=>t+(e-t)*n;function Ip(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kM({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=Ip(f,d,t+1/3),l=Ip(f,d,t),c=Ip(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function xf(t,e){return n=>n>0?e:t}const Pp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},OM=[b2,Oa,Jo],jM=t=>OM.find(e=>e.test(t));function rx(t){const e=jM(t);if(!e)return!1;let n=e.parse(t);return e===Jo&&(n=kM(n)),n}const ax=(t,e)=>{const n=rx(t),i=rx(e);if(!n||!i)return xf(t,e);const a={...n};return l=>(a.red=Pp(n.red,i.red,l),a.green=Pp(n.green,i.green,l),a.blue=Pp(n.blue,i.blue,l),a.alpha=yt(n.alpha,i.alpha,l),Oa.transform(a))},MM=(t,e)=>n=>e(t(n)),Qu=(...t)=>t.reduce(MM),S2=new Set(["none","hidden"]);function VM(t,e){return S2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function LM(t,e){return n=>yt(t,e,n)}function xy(t){return typeof t=="number"?LM:typeof t=="string"?oy(t)?xf:mn.test(t)?ax:FM:Array.isArray(t)?V6:typeof t=="object"?mn.test(t)?ax:UM:xf}function V6(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>xy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function UM(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=xy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function BM(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const FM=(t,e)=>{const n=qr.createTransformer(e),i=Pu(t),a=Pu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?S2.has(t)&&!a.values.length||S2.has(e)&&!i.values.length?VM(t,e):Qu(V6(BM(i,a),a.values),n):xf(t,e)};function L6(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):xy(t)(t,e)}const zM=5;function U6(t,e,n){const i=Math.max(e-zM,0);return B5(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ox=.001;function HM({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,c=1-e;c=zs(Tt.minDamping,Tt.maxDamping,c),t=zs(Tt.minDuration,Tt.maxDuration,Zi(t)),c<1?(a=g=>{const v=g*c,_=v*t,T=v-n,E=A2(g,c),R=Math.exp(-_);return ox-T/E*R},l=g=>{const _=g*c*t,T=_*n+n,E=Math.pow(c,2)*Math.pow(g,2)*t,R=Math.exp(-_),V=A2(Math.pow(g,2),c);return(-a(g)+ox>0?-1:1)*((T-E)*R)/V}):(a=g=>{const v=Math.exp(-g*t),_=(g-n)*t+1;return-.001+v*_},l=g=>{const v=Math.exp(-g*t),_=(n-g)*(t*t);return v*_});const d=5/t,f=$M(a,l,d);if(t=Xi(t),isNaN(f))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const qM=12;function $M(t,e,n){let i=n;for(let a=1;a<qM;a++)i=i-t(i)/e(i);return i}function A2(t,e){return t*Math.sqrt(1-e*e)}const GM=["duration","bounce"],KM=["stiffness","damping","mass"];function lx(t,e){return e.some(n=>t[n]!==void 0)}function WM(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!lx(t,KM)&&lx(t,GM))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*zs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=HM(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function wf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:g,mass:v,duration:_,velocity:T,isResolvedFromDuration:E}=WM({...n,velocity:-Zi(n.velocity||0)}),R=T||0,V=g/(2*Math.sqrt(f*v)),N=c-l,D=Zi(Math.sqrt(f/v)),j=Math.abs(N)<5;i||(i=j?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=j?Tt.restDelta.granular:Tt.restDelta.default);let L;if(V<1){const K=A2(D,V);L=$=>{const O=Math.exp(-V*D*$);return c-O*((R+V*D*N)/K*Math.sin(K*$)+N*Math.cos(K*$))}}else if(V===1)L=K=>c-Math.exp(-D*K)*(N+(R+D*N)*K);else{const K=D*Math.sqrt(V*V-1);L=$=>{const O=Math.exp(-V*D*$),S=Math.min(K*$,300);return c-O*((R+V*D*N)*Math.sinh(S)+K*N*Math.cosh(S))/K}}const Y={calculatedDuration:E&&_||null,next:K=>{const $=L(K);if(E)d.done=K>=_;else{let O=0;V<1&&(O=K===0?Xi(R):U6(L,K,$));const S=Math.abs(O)<=i,C=Math.abs(c-$)<=a;d.done=S&&C}return d.value=d.done?c:$,d},toString:()=>{const K=Math.min(ey(Y),bf),$=F5(O=>Y.next(K*O).value,K,30);return K+"ms "+$},toTransition:()=>{}};return Y}wf.applyToOptions=t=>{const e=GO(t,100,wf);return t.ease=Cu()?e.ease:"easeOut",t.duration=Xi(e.duration),t.type="keyframes",t};function cx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:g=.5,restSpeed:v}){const _=t[0],T={done:!1,value:_},E=S=>d!==void 0&&S<d||f!==void 0&&S>f,R=S=>d===void 0?f:f===void 0||Math.abs(d-S)<Math.abs(f-S)?d:f;let V=n*e;const N=_+V,D=c===void 0?N:c(N);D!==N&&(V=D-_);const j=S=>-V*Math.exp(-S/i),L=S=>D+j(S),Y=S=>{const C=j(S),k=L(S);T.done=Math.abs(C)<=g,T.value=T.done?D:k};let K,$;const O=S=>{E(T.value)&&(K=S,$=wf({keyframes:[T.value,R(T.value)],velocity:U6(L,S,T.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return O(0),{calculatedDuration:null,next:S=>{let C=!1;return!$&&K===void 0&&(C=!0,Y(S),O(S)),K!==void 0&&S>=K?$.next(S-K):(!C&&Y(S),T)}}}const YM=Yu(.42,0,1,1),QM=Yu(0,0,.58,1),B6=Yu(.42,0,.58,1),XM=t=>Array.isArray(t)&&typeof t[0]!="number",ZM={linear:hi,easeIn:YM,easeInOut:B6,easeOut:QM,circIn:yy,circInOut:_6,circOut:b6,backIn:gy,backInOut:y6,backOut:g6,anticipate:v6},ux=t=>{if(Xg(t)){U5(t.length===4);const[e,n,i,a]=t;return Yu(e,n,i,a)}else if(typeof t=="string")return ZM[t];return t};function JM(t,e,n){const i=[],a=n||L6,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||hi:e;d=Qu(f,d)}i.push(d)}return i}function eV(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(U5(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=JM(e,i,a),f=d.length,g=v=>{if(c&&v<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const T=Eu(t[_],t[_+1],v);return d[_](T)};return n?v=>g(zs(t[0],t[l-1],v)):g}function tV(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Eu(0,e,i);t.push(yt(n,1,a))}}function nV(t){const e=[0];return tV(e,t.length-1),e}function iV(t,e){return t.map(n=>n*e)}function sV(t,e){return t.map(()=>e||B6).splice(0,t.length-1)}function Tf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=XM(i)?i.map(ux):ux(i),l={done:!1,value:e[0]},c=iV(n&&n.length===e.length?n:nV(e),t),d=eV(c,e,{ease:Array.isArray(a)?a:sV(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const rV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>dt.update(e,!0),stop:()=>Hr(e),now:()=>an.isProcessing?an.timestamp:Ji.now()}},aV={decay:cx,inertia:cx,tween:Tf,keyframes:Tf,spring:wf},oV=t=>t/100;class wy extends M6{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||_y,d=(f,g)=>this.onKeyframesResolved(f,g);this.resolver=new c(l,d,n,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,d=Zg(n)?n:aV[n]||Tf;let f,g;d!==Tf&&typeof e[0]!="number"&&(f=Qu(oV,L6(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});l==="mirror"&&(g=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=ey(v));const{calculatedDuration:_}=v,T=_+a,E=T*(i+1)-a;return{generator:v,mirroredGenerator:g,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:T,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:g,totalDuration:v,resolvedDuration:_}=i;if(this.startTime===null)return l.next(0);const{delay:T,repeat:E,repeatType:R,repeatDelay:V,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-T*(this.speed>=0?1:-1),j=this.speed>=0?D<0:D>v;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let L=this.currentTime,Y=l;if(E){const S=Math.min(this.currentTime,v)/_;let C=Math.floor(S),k=S%1;!k&&S>=1&&(k=1),k===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(R==="reverse"?(k=1-k,V&&(k-=V/_)):R==="mirror"&&(Y=c)),L=zs(0,1,k)*_}const K=j?{done:!1,value:f[0]}:Y.next(L);d&&(K.value=d(K.value));let{done:$}=K;!j&&g!==null&&($=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return O&&a!==void 0&&(K.value=i0(f,this.options,a)),N&&N(K.value),O&&this.finish(),K}get duration(){const{resolved:e}=this;return e?Zi(e.calculatedDuration):0}get time(){return Zi(this.currentTime)}set time(e){e=Xi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=rV,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const lV=new Set(["opacity","clipPath","filter","transform"]),cV=Yg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ef=10,uV=2e4;function dV(t){return Zg(t.type)||t.type==="spring"||!H5(t.ease)}function hV(t,e){const n=new wy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let l=0;for(;!i.done&&l<uV;)i=n.sample(l),a.push(i.value),l+=Ef;return{times:void 0,keyframes:a,duration:l-Ef,ease:"linear"}}const F6={anticipate:v6,backInOut:y6,circInOut:_6};function fV(t){return t in F6}class dx extends M6{constructor(e){super(e);const{name:n,motionValue:i,element:a,keyframes:l}=this.options;this.resolver=new j6(l,(c,d)=>this.onKeyframesResolved(c,d),n,i,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:a,ease:l,type:c,motionValue:d,name:f,startTime:g}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Cu()&&fV(l)&&(l=F6[l]),dV(this.options)){const{onComplete:_,onUpdate:T,motionValue:E,element:R,...V}=this.options,N=hV(e,V);e=N.keyframes,e.length===1&&(e[1]=e[0]),i=N.duration,a=N.times,l=N.ease,c="keyframes"}const v=$O(d.owner.current,f,e,{...this.options,duration:i,times:a,ease:l});return v.startTime=g??this.calcStartTime(),this.pendingTimeline?(U_(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:_}=this.options;d.set(i0(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Zi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Zi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Xi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return hi;const{animation:i}=n;U_(i,e)}return hi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:a,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:v,onComplete:_,element:T,...E}=this.options,R=new wy({...E,keyframes:i,duration:a,type:l,ease:c,times:d,isGenerator:!0}),V=Xi(this.time);g.setWithVelocity(R.sample(V-Ef).value,R.sample(V).value,Ef)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:a,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=n.owner.getProps();return cV()&&i&&lV.has(i)&&(i!=="transform"||!g)&&!f&&!a&&l!=="mirror"&&c!==0&&d!=="inertia"}}const mV={type:"spring",stiffness:500,damping:25,restSpeed:10},pV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gV={type:"keyframes",duration:.8},yV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vV=(t,{keyframes:e})=>e.length>2?gV:to.has(t)?t.startsWith("scale")?pV(e[1]):mV:yV;function bV({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:g,...v}){return!!Object.keys(v).length}const Ty=(t,e,n,i={},a,l)=>c=>{const d=Jg(i,t)||{},f=d.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Xi(f);let v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};bV(d)||(v={...v,...vV(t,v)}),v.duration&&(v.duration=Xi(v.duration)),v.repeatDelay&&(v.repeatDelay=Xi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(_=!0)),v.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const T=i0(v.keyframes,d);if(T!==void 0)return dt.update(()=>{v.onUpdate(T),v.onComplete()}),new zO([])}return!l&&dx.supports(v)?new dx(v):new wy(v)};function _V({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function z6(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const f=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const _=t.getValue(v,t.latestValues[v]??null),T=d[v];if(T===void 0||g&&_V(g,v))continue;const E={delay:n,...Jg(l||{},v)};let R=!1;if(window.MotionHandoffAnimation){const N=h6(t);if(N){const D=window.MotionHandoffAnimation(N,v,dt);D!==null&&(E.startTime=D,R=!0)}}v2(t,v),_.start(Ty(v,_,T,t.shouldReduceMotion&&d6.has(v)?{type:!1}:E,t,R));const V=_.animation;V&&f.push(V)}return c&&Promise.all(f).then(()=>{dt.update(()=>{c&&Yj(t,c)})}),f}function R2(t,e,n={}){var f;const i=Iu(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(z6(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:T}=a;return xV(t,e,v+g,_,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,v]=d==="beforeChildren"?[l,c]:[c,l];return g().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function xV(t,e,n=0,i=0,a=1,l){const c=[],d=(t.variantChildren.size-1)*i,f=a===1?(g=0)=>g*i:(g=0)=>d-g*i;return Array.from(t.variantChildren).sort(wV).forEach((g,v)=>{g.notify("AnimationStart",e),c.push(R2(g,e,{...l,delay:n+f(v)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(c)}function wV(t,e){return t.sortNodePosition(e)}function TV(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>R2(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=R2(t,e,n);else{const a=typeof e=="function"?Iu(t,e,n.custom):e;i=Promise.all(z6(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function H6(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const EV=sy.length;function q6(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?q6(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<EV;n++){const i=sy[n],a=t.props[i];(Au(a)||a===!1)&&(e[i]=a)}return e}const CV=[...iy].reverse(),SV=iy.length;function AV(t){return e=>Promise.all(e.map(({animation:n,options:i})=>TV(t,n,i)))}function RV(t){let e=AV(t),n=hx(),i=!0;const a=f=>(g,v)=>{var T;const _=Iu(t,v,f==="exit"?(T=t.presenceContext)==null?void 0:T.custom:void 0);if(_){const{transition:E,transitionEnd:R,...V}=_;g={...g,...V,...R}}return g};function l(f){e=f(t)}function c(f){const{props:g}=t,v=q6(t.parent)||{},_=[],T=new Set;let E={},R=1/0;for(let N=0;N<SV;N++){const D=CV[N],j=n[D],L=g[D]!==void 0?g[D]:v[D],Y=Au(L),K=D===f?j.isActive:null;K===!1&&(R=N);let $=L===v[D]&&L!==g[D]&&Y;if($&&i&&t.manuallyAnimateOnMount&&($=!1),j.protectedKeys={...E},!j.isActive&&K===null||!L&&!j.prevProp||t0(L)||typeof L=="boolean")continue;const O=NV(j.prevProp,L);let S=O||D===f&&j.isActive&&!$&&Y||N>R&&Y,C=!1;const k=Array.isArray(L)?L:[L];let B=k.reduce(a(D),{});K===!1&&(B={});const{prevResolvedValues:z={}}=j,M={...z,...B},ue=G=>{S=!0,T.has(G)&&(C=!0,T.delete(G)),j.needsAnimating[G]=!0;const se=t.getValue(G);se&&(se.liveStyle=!1)};for(const G in M){const se=B[G],Re=z[G];if(E.hasOwnProperty(G))continue;let F=!1;y2(se)&&y2(Re)?F=!H6(se,Re):F=se!==Re,F?se!=null?ue(G):T.add(G):se!==void 0&&T.has(G)?ue(G):j.protectedKeys[G]=!0}j.prevProp=L,j.prevResolvedValues=B,j.isActive&&(E={...E,...B}),i&&t.blockInitialAnimation&&(S=!1),S&&(!($&&O)||C)&&_.push(...k.map(G=>({animation:G,options:{type:D}})))}if(T.size){const N={};if(typeof g.initial!="boolean"){const D=Iu(t,Array.isArray(g.initial)?g.initial[0]:g.initial);D&&D.transition&&(N.transition=D.transition)}T.forEach(D=>{const j=t.getBaseTarget(D),L=t.getValue(D);L&&(L.liveStyle=!0),N[D]=j??null}),_.push({animation:N})}let V=!!_.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(V=!1),i=!1,V?e(_):Promise.resolve()}function d(f,g){var _;if(n[f].isActive===g)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(T=>{var E;return(E=T.animationState)==null?void 0:E.setActive(f,g)}),n[f].isActive=g;const v=c(f);for(const T in n)n[T].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=hx(),i=!0}}}function NV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!H6(e,t):!1}function Ra(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hx(){return{animate:Ra(!0),whileInView:Ra(),whileHover:Ra(),whileTap:Ra(),whileDrag:Ra(),whileFocus:Ra(),exit:Ra()}}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class IV extends Gr{constructor(e){super(e),e.animationState||(e.animationState=RV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();t0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PV=0;class DV extends Gr{constructor(){super(...arguments),this.id=PV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kV={animation:{Feature:IV},exit:{Feature:DV}};function Du(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Xu(t){return{point:{x:t.pageX,y:t.pageY}}}const OV=t=>e=>ny(e)&&t(e,Xu(e));function du(t,e,n,i){return Du(t,e,OV(n),i)}function $6({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function jV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const G6=1e-4,VV=1-G6,LV=1+G6,K6=.01,UV=0-K6,BV=0+K6;function Sn(t){return t.max-t.min}function FV(t,e,n){return Math.abs(t-e)<=n}function fx(t,e,n,i=.5){t.origin=i,t.originPoint=yt(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VV&&t.scale<=LV||isNaN(t.scale))&&(t.scale=1),(t.translate>=UV&&t.translate<=BV||isNaN(t.translate))&&(t.translate=0)}function hu(t,e,n,i){fx(t.x,e.x,n.x,i?i.originX:void 0),fx(t.y,e.y,n.y,i?i.originY:void 0)}function mx(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function zV(t,e,n){mx(t.x,e.x,n.x),mx(t.y,e.y,n.y)}function px(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function fu(t,e,n){px(t.x,e.x,n.x),px(t.y,e.y,n.y)}const gx=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:gx(),y:gx()}),yx=()=>({min:0,max:0}),Rt=()=>({x:yx(),y:yx()});function ci(t){return[t("x"),t("y")]}function Dp(t){return t===void 0||t===1}function N2({scale:t,scaleX:e,scaleY:n}){return!Dp(t)||!Dp(e)||!Dp(n)}function Ia(t){return N2(t)||W6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function W6(t){return vx(t.x)||vx(t.y)}function vx(t){return t&&t!=="0%"}function Cf(t,e,n){const i=t-n,a=e*i;return n+a}function bx(t,e,n,i,a){return a!==void 0&&(t=Cf(t,a,i)),Cf(t,n,i)+e}function I2(t,e=0,n=1,i,a){t.min=bx(t.min,e,n,i,a),t.max=bx(t.max,e,n,i,a)}function Y6(t,{x:e,y:n}){I2(t.x,e.translate,e.scale,e.originPoint),I2(t.y,n.translate,n.scale,n.originPoint)}const _x=.999999999999,xx=1.0000000000001;function HV(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&nl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Y6(t,c)),i&&Ia(l.latestValues)&&nl(t,l.latestValues))}e.x<xx&&e.x>_x&&(e.x=1),e.y<xx&&e.y>_x&&(e.y=1)}function tl(t,e){t.min=t.min+e,t.max=t.max+e}function wx(t,e,n,i,a=.5){const l=yt(t.min,t.max,a);I2(t,e,n,l,i)}function nl(t,e){wx(t.x,e.x,e.scaleX,e.scale,e.originX),wx(t.y,e.y,e.scaleY,e.scale,e.originY)}function Q6(t,e){return $6(MV(t.getBoundingClientRect(),e))}function qV(t,e,n){const i=Q6(t,n),{scroll:a}=e;return a&&(tl(i.x,a.offset.x),tl(i.y,a.offset.y)),i}const X6=({current:t})=>t?t.ownerDocument.defaultView:null,Tx=(t,e)=>Math.abs(t-e);function $V(t,e){const n=Tx(t.x,e.x),i=Tx(t.y,e.y);return Math.sqrt(n**2+i**2)}class Z6{constructor(e,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Op(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,E=$V(_.offset,{x:0,y:0})>=3;if(!T&&!E)return;const{point:R}=_,{timestamp:V}=an;this.history.push({...R,timestamp:V});const{onStart:N,onMove:D}=this.handlers;T||(N&&N(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=kp(T,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:E,onSessionEnd:R,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Op(_.type==="pointercancel"?this.lastMoveEventInfo:kp(T,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,N),R&&R(_,N)},!ny(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const c=Xu(e),d=kp(c,this.transformPagePoint),{point:f}=d,{timestamp:g}=an;this.history=[{...f,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,Op(d,this.history)),this.removeListeners=Qu(du(this.contextWindow,"pointermove",this.handlePointerMove),du(this.contextWindow,"pointerup",this.handlePointerUp),du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hr(this.updatePoint)}}function kp(t,e){return e?{point:e(t.point)}:t}function Ex(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Op({point:t},e){return{point:t,delta:Ex(t,J6(e)),offset:Ex(t,GV(e)),velocity:KV(e,.1)}}function GV(t){return t[0]}function J6(t){return t[t.length-1]}function KV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=J6(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Xi(e)));)n--;if(!i)return{x:0,y:0};const l=Zi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function WV(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?yt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?yt(n,t,i.max):Math.min(t,n)),t}function Cx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YV(t,{top:e,left:n,bottom:i,right:a}){return{x:Cx(t.x,n,a),y:Cx(t.y,e,i)}}function Sx(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function QV(t,e){return{x:Sx(t.x,e.x),y:Sx(t.y,e.y)}}function XV(t,e){let n=.5;const i=Sn(t),a=Sn(e);return a>i?n=Eu(e.min,e.max-i,t.min):i>a&&(n=Eu(t.min,t.max-a,e.min)),zs(0,1,n)}function ZV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const P2=.35;function JV(t=P2){return t===!1?t=0:t===!0&&(t=P2),{x:Ax(t,"left","right"),y:Ax(t,"top","bottom")}}function Ax(t,e,n){return{min:Rx(t,e),max:Rx(t,n)}}function Rx(t,e){return typeof t=="number"?t:t[e]||0}const eL=new WeakMap;class tL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xu(v).point)},l=(v,_)=>{const{drag:T,dragPropagation:E,onDragStart:R}=this.getProps();if(T&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QO(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(N=>{let D=this.getAxisMotionValue(N).get()||0;if(es.test(D)){const{projection:j}=this.visualElement;if(j&&j.layout){const L=j.layout.layoutBox[N];L&&(D=Sn(L)*(parseFloat(D)/100))}}this.originPoint[N]=D}),R&&dt.postRender(()=>R(v,_)),v2(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},c=(v,_)=>{const{dragPropagation:T,dragDirectionLock:E,onDirectionLock:R,onDrag:V}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:N}=_;if(E&&this.currentDirection===null){this.currentDirection=nL(N),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",_.point,N),this.updateAxis("y",_.point,N),this.visualElement.render(),V&&V(v,_)},d=(v,_)=>this.stop(v,_),f=()=>ci(v=>{var _;return this.getAnimationState(v)==="paused"&&((_=this.getAxisMotionValue(v).animation)==null?void 0:_.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Z6(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:X6(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&dt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Ph(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=WV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=YV(i.layoutBox,e):this.constraints=!1,this.elastic=JV(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ci(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ZV(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=qV(i,a.root,this.visualElement.getTransformPagePoint());let c=QV(a.layout.layoutBox,l);if(n){const d=n(jV(c));this.hasMutatedConstraints=!!d,d&&(c=$6(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},g=ci(v=>{if(!Ph(v,n,this.currentDirection))return;let _=f&&f[v]||{};c&&(_={min:0,max:0});const T=a?200:1e6,E=a?40:1e7,R={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,R)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return v2(this.visualElement,e),i.start(Ty(e,i,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:i}=this.getProps();if(!Ph(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-yt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Zo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ci(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=XV({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ci(c=>{if(!Ph(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:g}=this.constraints[c];d.set(yt(f,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;eL.set(this.visualElement,this);const e=this.visualElement.current,n=du(e,"pointerdown",f=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Zo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(i);const c=Du(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(ci(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=f[v].translate,_.set(_.get()+f[v].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=P2,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Ph(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class iL extends Gr{constructor(e){super(e),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new tL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nx=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class sL extends Gr{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(e){this.session=new Z6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Nx(e),onStart:Nx(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=du(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ix(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=Ix(t,e.target.x),i=Ix(t,e.target.y);return`${n}% ${i}%`}},rL={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=qr.parse(t);if(a.length>5)return i;const l=qr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const g=yt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};class aL extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;Tj(oL),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Gh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ty.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eE(t){const[e,n]=V5(),i=I.useContext(Hg);return p.jsx(aL,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(Z5),isPresent:e,safeToRemove:n})}const oL={borderRadius:{...zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zc,borderTopRightRadius:zc,borderBottomLeftRadius:zc,borderBottomRightRadius:zc,boxShadow:rL};function lL(t,e,n){const i=yn(t)?t:Su(t);return i.start(Ty("",i,e,n)),i.animation}function cL(t){return t instanceof SVGElement&&t.tagName!=="svg"}const uL=(t,e)=>t.depth-e.depth;class dL{constructor(){this.children=[],this.isDirty=!1}add(e){Kg(this.children,e),this.isDirty=!0}remove(e){Wg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uL),this.isDirty=!1,this.children.forEach(e)}}function hL(t,e){const n=Ji.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Hr(i),t(l-e))};return dt.read(i,!0),()=>Hr(i)}const tE=["TopLeft","TopRight","BottomLeft","BottomRight"],fL=tE.length,Px=t=>typeof t=="string"?parseFloat(t):t,Dx=t=>typeof t=="number"||Se.test(t);function mL(t,e,n,i,a,l){a?(t.opacity=yt(0,n.opacity!==void 0?n.opacity:1,pL(i)),t.opacityExit=yt(e.opacity!==void 0?e.opacity:1,0,gL(i))):l&&(t.opacity=yt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let c=0;c<fL;c++){const d=`border${tE[c]}Radius`;let f=kx(e,d),g=kx(n,d);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||Dx(f)===Dx(g)?(t[d]=Math.max(yt(Px(f),Px(g),i),0),(es.test(g)||es.test(f))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,i))}function kx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pL=nE(0,.5,b6),gL=nE(.5,.95,hi);function nE(t,e,n){return i=>i<t?0:i>e?1:n(Eu(t,e,i))}function Ox(t,e){t.min=e.min,t.max=e.max}function li(t,e){Ox(t.x,e.x),Ox(t.y,e.y)}function jx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Mx(t,e,n,i,a){return t-=e,t=Cf(t,1/n,i),a!==void 0&&(t=Cf(t,1/a,i)),t}function yL(t,e=0,n=1,i=.5,a,l=t,c=t){if(es.test(e)&&(e=parseFloat(e),e=yt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=yt(l.min,l.max,i);t===l&&(d-=e),t.min=Mx(t.min,e,n,d,a),t.max=Mx(t.max,e,n,d,a)}function Vx(t,e,[n,i,a],l,c){yL(t,e[n],e[i],e[a],e.scale,l,c)}const vL=["x","scaleX","originX"],bL=["y","scaleY","originY"];function Lx(t,e,n,i){Vx(t.x,e,vL,n?n.x:void 0,i?i.x:void 0),Vx(t.y,e,bL,n?n.y:void 0,i?i.y:void 0)}function Ux(t){return t.translate===0&&t.scale===1}function iE(t){return Ux(t.x)&&Ux(t.y)}function Bx(t,e){return t.min===e.min&&t.max===e.max}function _L(t,e){return Bx(t.x,e.x)&&Bx(t.y,e.y)}function Fx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sE(t,e){return Fx(t.x,e.x)&&Fx(t.y,e.y)}function zx(t){return Sn(t.x)/Sn(t.y)}function Hx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xL{constructor(){this.members=[]}add(e){Kg(this.members,e),e.scheduleRender()}remove(e){if(Wg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wL(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:_,rotateY:T,skewX:E,skewY:R}=n;g&&(i=`perspective(${g}px) ${i}`),v&&(i+=`rotate(${v}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),E&&(i+=`skewX(${E}deg) `),R&&(i+=`skewY(${R}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const jp=["","X","Y","Z"],TL={visibility:"hidden"},qx=1e3;let EL=0;function Mp(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function rE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=h6(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&rE(i)}function aE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=EL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AL),this.nodes.forEach(DL),this.nodes.forEach(kL),this.nodes.forEach(RL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new dL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Qg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cL(c),this.instance=c;const{layoutId:f,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(g||f)&&(this.isLayoutDirty=!0),t){let _;const T=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=hL(T,250),Gh.hasAnimatedSinceResize&&(Gh.hasAnimatedSinceResize=!1,this.nodes.forEach(Gx))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||g)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||v.getDefaultTransition()||LL,{onLayoutAnimationStart:N,onLayoutAnimationComplete:D}=v.getProps(),j=!this.targetLayout||!sE(this.targetLayout,R),L=!T&&E;if(this.options.layoutRoot||this.resumeFrom||L||T&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,L);const Y={...Jg(V,"layout"),onPlay:N,onComplete:D};(v.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else T||Gx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($x);return}this.isUpdating||this.nodes.forEach(IL),this.isUpdating=!1,this.nodes.forEach(PL),this.nodes.forEach(CL),this.nodes.forEach(SL),this.clearAllSnapshots();const d=Ji.now();an.delta=zs(0,1e3/60,d-an.timestamp),an.timestamp=d,an.isProcessing=!0,Ap.update.process(an),Ap.preRender.process(an),Ap.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ty.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NL),this.sharedNodes.forEach(jL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!iE(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&(d||Ia(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),UL(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Rt();const d=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(BL))){const{scroll:v}=this.root;v&&(tl(d.x,v.offset.x),tl(d.y,v.offset.y))}return d}removeElementScroll(c){var f;const d=Rt();if(li(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:_,options:T}=v;v!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&li(d,c),tl(d.x,_.offset.x),tl(d.y,_.offset.y))}return d}applyTransform(c,d=!1){const f=Rt();li(f,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&nl(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ia(v.latestValues)&&nl(f,v.latestValues)}return Ia(this.latestValues)&&nl(f,this.latestValues),f}removeTransform(c){const d=Rt();li(d,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!Ia(g.latestValues))continue;N2(g.latestValues)&&g.updateSnapshot();const v=Rt(),_=g.measurePageBox();li(v,_),Lx(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Ia(this.latestValues)&&Lx(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var T;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=an.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),fu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),Y6(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),fu(this.relativeTargetOrigin,this.target,E.target),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||N2(this.parent.latestValues)||W6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var R;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===an.timestamp&&(f=!1),f)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;li(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;HV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Rt());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jx(this.prevProjectionDelta.x,this.projectionDelta.x),jx(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!Hx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=el(),this.projectionDelta=el(),this.projectionDeltaWithTransform=el()}setAnimationOrigin(c,d=!1){const f=this.snapshot,g=f?f.latestValues:{},v={...this.latestValues},_=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Rt(),E=f?f.source:void 0,R=this.layout?this.layout.source:void 0,V=E!==R,N=this.getStack(),D=!N||N.members.length<=1,j=!!(V&&!D&&this.options.crossfade===!0&&!this.path.some(VL));this.animationProgress=0;let L;this.mixTargetDelta=Y=>{const K=Y/1e3;Kx(_.x,c.x,K),Kx(_.y,c.y,K),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fu(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ML(this.relativeTarget,this.relativeTargetOrigin,T,K),L&&_L(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Rt()),li(L,this.relativeTarget)),V&&(this.animationValues=v,mL(v,g,this.latestValues,K,j,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Gh.hasAnimatedSinceResize=!0,this.currentAnimation=lL(0,qx,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:g,latestValues:v}=c;if(!(!d||!f||!g)){if(this!==c&&this.layout&&g&&oE(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||Rt();const _=Sn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+_;const T=Sn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+T}li(d,f),nl(d,v),hu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new xL),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const g={};f.z&&Mp("z",c,g,this.animationValues);for(let v=0;v<jp.length;v++)Mp(`rotate${jp[v]}`,c,g,this.animationValues),Mp(`skew${jp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return TL;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=$h(c==null?void 0:c.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=$h(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(E.transform=f?f({},""):"none",this.hasProjected=!1),E}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=wL(this.projectionDeltaWithTransform,this.treeScale,v),f&&(d.transform=f(v,d.transform));const{x:_,y:T}=this.projectionDelta;d.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,g.animationValues?d.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in Ru){if(v[E]===void 0)continue;const{correct:R,applyTo:V,isCSSVariable:N}=Ru[E],D=d.transform==="none"?v[E]:R(v[E],g);if(V){const j=V.length;for(let L=0;L<j;L++)d[V[L]]=D}else N?this.options.visualElement.renderState.vars[E]=D:d[E]=D}return this.options.layoutId&&(d.pointerEvents=g===this?$h(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach($x),this.root.sharedNodes.clear()}}}function CL(t){t.updateLayout()}function SL(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?ci(_=>{const T=c?e.measuredBox[_]:e.layoutBox[_],E=Sn(T);T.min=i[_].min,T.max=T.min+E}):oE(l,e.layoutBox,i)&&ci(_=>{const T=c?e.measuredBox[_]:e.layoutBox[_],E=Sn(i[_]);T.max=T.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+E)});const d=el();hu(d,i,e.layoutBox);const f=el();c?hu(f,t.applyTransform(a,!0),e.measuredBox):hu(f,i,e.layoutBox);const g=!iE(d);let v=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:E}=_;if(T&&E){const R=Rt();fu(R,e.layoutBox,T.layoutBox);const V=Rt();fu(V,i,E.layoutBox),sE(R,V)||(v=!0),_.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=R,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function AL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NL(t){t.clearSnapshot()}function $x(t){t.clearMeasurements()}function IL(t){t.isLayoutDirty=!1}function PL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DL(t){t.resolveTargetDelta()}function kL(t){t.calcProjection()}function OL(t){t.resetSkewAndRotation()}function jL(t){t.removeLeadSnapshot()}function Kx(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Wx(t,e,n,i){t.min=yt(e.min,n.min,i),t.max=yt(e.max,n.max,i)}function ML(t,e,n,i){Wx(t.x,e.x,n.x,i),Wx(t.y,e.y,n.y,i)}function VL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LL={duration:.45,ease:[.4,0,.1,1]},Yx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qx=Yx("applewebkit/")&&!Yx("chrome/")?Math.round:hi;function Xx(t){t.min=Qx(t.min),t.max=Qx(t.max)}function UL(t){Xx(t.x),Xx(t.y)}function oE(t,e,n){return t==="position"||t==="preserve-aspect"&&!FV(zx(e),zx(n),.2)}function BL(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const FL=aE({attachResizeListener:(t,e)=>Du(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vp={current:void 0},lE=aE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vp.current){const t=new FL({});t.mount(window),t.setOptions({layoutScroll:!0}),Vp.current=t}return Vp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zL={pan:{Feature:sL},drag:{Feature:iL,ProjectionNode:lE,MeasureLayout:eE}};function Zx(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&dt.postRender(()=>l(e,Xu(e)))}class HL extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=ZO(e,(n,i)=>(Zx(this.node,i,"Start"),a=>Zx(this.node,a,"End"))))}unmount(){}}class qL extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(Du(this.node.current,"focus",()=>this.onFocus()),Du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jx(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&dt.postRender(()=>l(e,Xu(e)))}class $L extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=nj(e,(n,i)=>(Jx(this.node,i,"Start"),(a,{success:l})=>Jx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const D2=new WeakMap,Lp=new WeakMap,GL=t=>{const e=D2.get(t.target);e&&e(t)},KL=t=>{t.forEach(GL)};function WL({root:t,...e}){const n=t||document;Lp.has(n)||Lp.set(n,{});const i=Lp.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(KL,{root:t,...e})),i[a]}function YL(t,e,n){const i=WL(e);return D2.set(t,n),i.observe(t),()=>{D2.delete(t),i.unobserve(t)}}const QL={some:0,all:1};class XL extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:QL[a]},d=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),T=g?v:_;T&&T(f)};return YL(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZL(e,n))&&this.startObserver()}unmount(){}}function ZL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JL={inView:{Feature:XL},tap:{Feature:$L},focus:{Feature:qL},hover:{Feature:HL}},eU={layout:{ProjectionNode:lE,MeasureLayout:eE}},k2={current:null},cE={current:!1};function tU(){if(cE.current=!0,!!$g)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>k2.current=t.matches;t.addListener(e),e()}else k2.current=!1}const nU=[...O6,mn,qr],iU=t=>nU.find(k6(t)),sU=new WeakMap;function rU(t,e,n){for(const i in e){const a=e[i],l=n[i];if(yn(a))t.addValue(i,a);else if(yn(l))t.addValue(i,Su(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Su(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aU{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_y,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Ji.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,dt.render(this.render,!1,!0))};const{latestValues:f,renderState:g,onUpdate:v}=c;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=n0(n),this.isVariantNode=Q5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in T){const R=T[E];f[E]!==void 0&&yn(R)&&R.set(f[E],!1)}}mount(e){this.current=e,sU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),cE.current||tU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:k2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=to.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&dt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ml){const n=ml[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ew.length;i++){const a=ew[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=rU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Su(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(P6(i)||x6(i))?i=parseFloat(i):!iU(i)&&qr.test(n)&&(i=R6(e,n)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=my(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uE extends aU{constructor(){super(...arguments),this.KeyframeResolver=j6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oU(t){return window.getComputedStyle(t)}class lU extends uE{constructor(){super(...arguments),this.type="html",this.renderInstance=o6}readValueFromInstance(e,n){if(to.has(n))return _M(e,n);{const i=oU(e),a=(ay(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Q6(e,n)}build(e,n,i){cy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return py(e,n,i)}}class cU extends uE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&a6(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(to.has(n)){const i=A6(n);return i&&i.default||0}return n=l6.has(n)?n:ry(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return u6(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&dt.postRender(this.updateDimensions)}build(e,n,i){hy(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,a){c6(e,n,i,a)}mount(e){this.isSVGTag=fy(e.tagName),super.mount(e)}}const uU=(t,e)=>dy(t)?new cU(e):new lU(e,{allowProjection:t!==I.Fragment}),dU=Kj({...kV,...JL,...zL,...eU},uU),qe=cj(dU),hU=({language:t="en"})=>{const{products:e,favorites:n=[]}=I.useContext(Hs),[i,a]=I.useState([]),[l,c]=I.useState("In Stock"),[d,f]=I.useState(!0),g={en:{account:"Account",favorites:"Favorites",inStock:"In Stock",outOfStock:"Out of Stock",noFavorites:"No favorite products found.",addedToCart:"Added to cart successfully!",addedToFavorites:"Added to favorites!",removedFromFavorites:"Removed from favorites!"},ar:{account:"",favorites:"",inStock:"",outOfStock:" ",noFavorites:"     .",addedToCart:"    !",addedToFavorites:"   !",removedFromFavorites:"   !"}},v=[{en:"In Stock",ar:g.ar.inStock},{en:"Out of Stock",ar:g.ar.outOfStock}];I.useEffect(()=>{let E=[...e];E=E.filter(R=>n.includes(R._id)),l===g.en.inStock||l===g.ar.inStock?E=E.filter(R=>R.inStock):(l===g.en.outOfStock||l===g.ar.outOfStock)&&(E=E.filter(R=>!R.inStock)),a(E),f(!1)},[l,e,n,t]);const _=E=>{c(E)},T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return d?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"})}):p.jsxs(qe.div,{className:`w-full max-w-full px-4 py-6 sm:px-6 md:px-8 ${t==="ar"?"rtl":"ltr"}`,initial:"hidden",animate:"visible",variants:T,children:[p.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[p.jsx(bl,{to:"/account",className:"hover:underline",children:g[t].account})," /"," ",g[t].favorites]}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[p.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4 sm:mb-0",children:g[t].favorites}),p.jsx("div",{className:"flex gap-2",children:v.map(E=>p.jsx(qe.button,{onClick:()=>_(E[t]),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer ${l===E[t]?"bg-[#78B833] text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:E[t]},E.en))})]}),p.jsx("div",{className:"w-full max-w-full",children:p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:i.length>0?i.map((E,R)=>p.jsx(qe.div,{variants:T,children:p.jsx(Ku,{id:E._id,name_en:E.name.en,name_ar:E.name.ar,image:E.image,price:E.price,stars:E.stars||0,inStock:E.inStock,language:t})},R)):p.jsx("div",{className:"col-span-full text-center text-gray-500 py-10",children:g[t].noFavorites})})})]})},fU="/united-feeds/assets/image1-LZABXsrh.png",mU="/united-feeds/assets/image2-n_9L0axT.jpg",pU="/united-feeds/assets/image3-C57zWtrE.jpg",gU="/united-feeds/assets/image4-YIxwsAlf.jpg",yU="/united-feeds/assets/img1-CR8xl4O9.jpg",vU="/united-feeds/assets/img2-BBSiJg9V.jpg",bU="/united-feeds/assets/img3-L38nGp4M.jpg",_U="/united-feeds/assets/img4-CrqpWuJX.jpg",xU="/united-feeds/assets/imgar-DDw9uAqK.jpg",wU="/united-feeds/assets/imgar1-r3b-SrJ6.jpg",TU="/united-feeds/assets/imgar2-DyXQ2KGz.jpg",EU="/united-feeds/assets/imgar3-BsljxmHt.jpg",CU="/united-feeds/assets/imgar4-wQSztaI7.jpg";function SU(t){return Vn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function AU(t){return Vn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function RU(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function NU(t){return Vn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function IU(t){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}const PU=({language:t="en"})=>{console.log("Banner language prop:",t);const e=t==="ar"?[xU]:[fU,mU,pU,gU],n=t==="ar"?[wU,TU,EU,CU]:[yU,vU,bU,_U];console.log("Slides:",e),console.log("Image Row:",n);const[i,a]=I.useState(0),l=2e3;I.useEffect(()=>{const f=setInterval(()=>{a(g=>g===e.length-1?0:g+1)},2e4);return()=>clearInterval(f)},[e.length]);const c=()=>{a(f=>f===0?e.length-1:f-1)},d=()=>{a(f=>f===e.length-1?0:f+1)};return p.jsxs("div",{className:"bg-gray-50",children:[p.jsxs("div",{className:"relative w-full h-[700px] md:h-[500px] sm:h-[400px] xs:h-[300px] overflow-hidden",children:[p.jsx("div",{className:"flex transition-transform ease-in-out",style:{transform:`translateX(-${i*100}%)`,transitionDuration:`${l}ms`},children:e.map((f,g)=>p.jsx("div",{className:"relative w-full h-[700px] md:h-[500px] sm:h-[400px] xs:h-[300px] flex-shrink-0 bg-cover bg-center",style:{backgroundImage:`url(${f})`}},g))}),p.jsx("button",{onClick:c,className:"absolute left-2 xs:left-4 top-1/2 transform -translate-y-1/2 border border-amber-50 rounded-lg p-2 xs:p-3 w-10 xs:w-12 h-16 xs:h-20 flex items-center justify-center bg-transparent cursor-pointer",children:p.jsx(SU,{size:20,className:"text-white"})}),p.jsx("button",{onClick:d,className:"absolute right-2 xs:right-4 top-1/2 transform -translate-y-1/2 border border-amber-50 rounded-lg p-2 xs:p-3 w-10 xs:w-12 h-16 xs:h-20 flex items-center justify-center bg-transparent cursor-pointer",children:p.jsx(AU,{size:20,className:"text-white"})})]}),p.jsx("div",{className:"flex flex-nowrap overflow-x-auto overflow-y-hidden py-4 px-2 xs:px-4 sm:px-6 w-full scrollbar-hide",children:n.map((f,g)=>p.jsx("img",{src:f,alt:`Image ${g+1}`,className:"w-[480px] h-auto object-cover rounded-lg shadow-md mr-5",draggable:"false"},g))})]})},DU="/united-feeds/assets/product1-a7dMQiyI.svg",kU="/united-feeds/assets/product2-oBfsbC9W.png",OU="/united-feeds/assets/product3-BekNKZD3.svg",jU="/united-feeds/assets/product4-j9p3elWL.svg",MU=({language:t="en"})=>{const e=bn(),n={en:{title:"Categories",readMore:"Read More"},ar:{title:"",readMore:" "}},i=[DU,kU,OU,jU];return p.jsxs("div",{className:"py-8 flex flex-col justify-center items-center bg-gray-50",children:[p.jsx("h1",{className:`text-3xl text-gray-600 font-medium text-center mb-6 sm:mb-8 ${t==="ar"?"rtl":"ltr"}`,children:n[t].title}),p.jsxs("div",{className:"flex flex-wrap justify-center gap-6 w-full max-w-screen-lg mx-auto px-2 sm:px-4 overflow-hidden",children:[p.jsx("img",{onClick:()=>{e("/product/2"),window.scrollTo(0,0)},src:i[0],alt:"Product 2",className:"w-60 h-auto object-cover rounded-lg shadow-md transition-transform duration-500 hover:scale-110 cursor-pointer",draggable:"false"}),p.jsx("img",{onClick:()=>{e("/product/1"),window.scrollTo(0,0)},src:i[1],alt:"Product 1",className:"w-60 h-auto object-cover rounded-lg shadow-md transition-transform duration-500 hover:scale-110 cursor-pointer",draggable:"false"}),p.jsx("img",{onClick:()=>{e("/product/3"),window.scrollTo(0,0)},src:i[2],alt:"Product 3",className:"w-60 h-auto object-cover rounded-lg shadow-md transition-transform duration-500 hover:scale-110 cursor-pointer",draggable:"false"}),p.jsx("img",{onClick:()=>{e("/product/4"),window.scrollTo(0,0)},src:i[3],alt:"Product 4",className:"w-60 h-auto object-cover rounded-lg shadow-md transition-transform duration-500 hover:scale-110 cursor-pointer",draggable:"false"})]}),p.jsx("button",{onClick:()=>{e("/products"),window.scrollTo(0,0)},className:"primary w-1/3 sm:w-1/5 px-6 sm:px-8 py-3 sm:py-4 mt-10 text-white font-bold rounded-2xl hover:scale-105 duration-300 cursor-pointer flex items-center justify-center",children:n[t].readMore})]})},VU=({language:t="en"})=>{const e=I.useContext(Hs),n=bn();if(!e)return console.error("BestSeller must be used within a ShopContextProvider"),p.jsx("div",{children:"Error: ShopContext not found"});const{products:i}=e,[a,l]=I.useState([]),c={en:{title:"Best Sellers",seeMore:"See More"},ar:{title:" ",seeMore:" "}};return I.useEffect(()=>{const d=i.filter(f=>f.bestseller);l(d.slice(0,5))},[i]),p.jsxs("div",{className:"my-8",children:[p.jsx("div",{className:"text-center",children:p.jsx("h1",{className:`text-2xl font-semibold text-gray-600 ${t==="ar"?"rtl":"ltr"}`,children:c[t].title})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 px-4 py-6",children:a.map((d,f)=>p.jsx(Ku,{id:d._id,name_en:d.name.en,name_ar:d.name.ar,image:d.image,price:d.price,stars:d.stars||0,inStock:d.inStock,language:t},f))}),p.jsx("div",{className:"flex justify-center mt-10",children:p.jsx("button",{onClick:()=>{n("/products"),window.scrollTo(0,0)},className:"primary w-1/3 sm:w-1/5 px-6 sm:px-8 py-3 sm:py-4 text-white font-bold rounded-2xl hover:scale-105 duration-300 cursor-pointer flex items-center justify-center",children:c[t].seeMore})})]})},LU=({language:t="en"})=>{const e={en:{loading:"Loading..."},ar:{loading:" ..."}};return p.jsxs(qe.div,{className:"flex flex-col items-center justify-center min-h-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[p.jsx(qe.div,{className:"w-12 h-12 border-4 border-t-4 border-[#78B833] border-solid rounded-full",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}}),p.jsx("p",{className:"mt-4 text-gray-500 text-lg",children:e[t].loading})]})},UU=({language:t="en"})=>{const[e,n]=I.useState(!0);I.useEffect(()=>{setTimeout(()=>{n(!1)},1e3)},[]);const i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return p.jsx(qe.div,{initial:"hidden",animate:"visible",variants:i,children:e?p.jsx(LU,{language:t}):p.jsxs(p.Fragment,{children:[p.jsx(qe.div,{variants:i,children:p.jsx(PU,{language:t})}),p.jsx(qe.div,{variants:i,children:p.jsx(MU,{language:t})}),p.jsx(qe.div,{variants:i,children:p.jsx(VU,{language:t})})]})})},dE="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.3658%206.59601L8.8523%206.5957C8.56468%206.5957%208.33154%206.82881%208.33154%207.11643V9.1972C8.33154%209.48476%208.56468%209.71793%208.85227%209.71793H12.5203C12.1186%2010.7603%2011.369%2011.6332%2010.4125%2012.1879L11.9766%2014.8954C14.4855%2013.4444%2015.9687%2010.8985%2015.9687%208.04848C15.9687%207.64268%2015.9388%207.3526%2015.879%207.02595C15.8335%206.77778%2015.6181%206.59601%2015.3658%206.59601Z'%20fill='%23167EE6'/%3e%3cpath%20d='M7.98436%2012.8442C6.18931%2012.8442%204.62226%2011.8634%203.78063%2010.4121L1.07324%2011.9726C2.45101%2014.3605%205.03202%2015.9685%207.98436%2015.9685C9.43268%2015.9685%2010.7993%2015.5786%2011.9765%2014.899V14.8953L10.4125%2012.1878C9.6971%2012.6027%208.86922%2012.8442%207.98436%2012.8442Z'%20fill='%2312B347'/%3e%3cpath%20d='M11.9766%2014.8992V14.8955L10.4125%2012.188C9.69711%2012.6029%208.8693%2012.8444%207.98438%2012.8444V15.9687C9.43269%2015.9687%2010.7994%2015.5788%2011.9766%2014.8992Z'%20fill='%230F993E'/%3e%3cpath%20d='M3.12432%207.98456C3.12432%207.09976%203.36578%206.27198%203.78062%205.5566L1.07324%203.99609C0.389924%205.16964%200%206.53253%200%207.98456C0%209.43659%200.389924%2010.7995%201.07324%2011.973L3.78062%2010.4125C3.36578%209.69714%203.12432%208.86936%203.12432%207.98456Z'%20fill='%23FFD500'/%3e%3cpath%20d='M7.98436%203.12432C9.15491%203.12432%2010.2301%203.54025%2011.0699%204.23212C11.2771%204.40278%2011.5783%204.39046%2011.768%204.20068L13.2423%202.72638C13.4577%202.51105%2013.4423%202.15858%2013.2123%201.95904C11.8052%200.738335%209.97443%200%207.98436%200C5.03202%200%202.45101%201.60801%201.07324%203.99589L3.78063%205.5564C4.62226%204.10508%206.18931%203.12432%207.98436%203.12432Z'%20fill='%23FF4B26'/%3e%3cpath%20d='M11.07%204.23212C11.2771%204.40278%2011.5783%204.39046%2011.7681%204.20068L13.2424%202.72638C13.4577%202.51105%2013.4423%202.15858%2013.2123%201.95904C11.8052%200.738304%209.97445%200%207.98438%200V3.12432C9.15489%203.12432%2010.2301%203.54025%2011.07%204.23212Z'%20fill='%23D93F21'/%3e%3c/svg%3e",hE="/united-feeds/assets/x-DXw7DiHf.svg",fE="data:image/svg+xml,%3csvg%20width='14'%20height='16'%20viewBox='0%200%2014%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.7051%208.45511C11.6977%207.14416%2012.3151%206.15469%2013.5648%205.42599C12.8656%204.4651%2011.8092%203.93643%2010.4145%203.83284C9.09405%203.73282%207.6509%204.57226%207.12274%204.57226C6.56483%204.57226%205.28534%203.86856%204.28108%203.86856C2.20563%203.90071%200%205.45814%200%208.62657C0%209.56245%200.178533%2010.5305%200.5356%2011.5271C1.01169%2012.838%202.73007%2016.0529%204.52285%2015.9993C5.46015%2015.9779%206.12221%2015.3599%207.34219%2015.3599C8.52497%2015.3599%209.13868%2015.9993%2010.1838%2015.9993C11.9915%2015.9743%2013.5462%2013.0524%2014%2011.7379C11.5749%2010.6412%2011.7051%208.52298%2011.7051%208.45511ZM9.59989%202.58976C10.6153%201.4324%2010.5223%200.37864%2010.4926%200C9.59618%200.0500091%208.55845%200.585821%207.96706%201.24666C7.31615%201.95393%206.93305%202.82909%207.01488%203.81498C7.98565%203.88642%208.87088%203.40776%209.59989%202.58976Z'%20fill='black'/%3e%3c/svg%3e";function BU(t){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M451 374c-15.88-16-54.34-39.35-73-48.76-24.3-12.24-26.3-13.24-45.4.95-12.74 9.47-21.21 17.93-36.12 14.75s-47.31-21.11-75.68-49.39-47.34-61.62-50.53-76.48 5.41-23.23 14.79-36c13.22-18 12.22-21 .92-45.3-8.81-18.9-32.84-57-48.9-72.8C119.9 44 119.9 47 108.83 51.6A160.15 160.15 0 0 0 83 65.37C67 76 58.12 84.83 51.91 98.1s-9 44.38 23.07 102.64 54.57 88.05 101.14 134.49S258.5 406.64 310.85 436c64.76 36.27 89.6 29.2 102.91 23s22.18-15 32.83-31a159.09 159.09 0 0 0 13.8-25.8C465 391.17 468 391.17 451 374z"},child:[]}]})(t)}const tw=new Set(["+15555550100","+15555550200"]),FU=({language:t="en"})=>{const[e,n]=I.useState("Phone"),[i,a]=I.useState("+966"),[l,c]=I.useState(""),[d,f]=I.useState(""),[g,v]=I.useState(!1),[_,T]=I.useState(""),[E,R]=I.useState(!1),[V,N]=I.useState(null),[D,j]=I.useState(""),[L,Y]=I.useState(!1),K=bn(),$={en:{signIn:"Sign In",phone:"Phone",email:"Email",enterPhoneNumber:"Enter phone number (e.g., +15555550100 for test)",enterOtp:"Enter OTP (e.g., 123456 for test)",sendingOtp:"Sending OTP...",signInButton:"Sign In",verifying:"Verifying...",verifyOtp:"Verify OTP",enterEmail:"Enter email",enterPassword:"Enter password",signingIn:"Signing in...",keepSignedIn:"Keep me signed in",orSignInWith:"Or sign in with",signInWithGoogle:"Sign in with Google",signInWithApple:"Sign in with Apple",signInWithX:"Sign in with X",createNewAccount:"Create New Account",forgotPassword:"Forgot Password",testPhoneError:"Using test phone number. Enter the test code (e.g., 123456).",invalidOtp:"Invalid OTP. Please try again.",invalidEmailOrPassword:"Invalid email or password. Please try again.",billingNotEnabled:"Phone authentication requires a billing account. Use a test phone number (e.g., +15555550100) for development."},ar:{signIn:" ",phone:"",email:" ",enterPhoneNumber:"   (: +15555550100 )",enterOtp:"   (: 123456 )",sendingOtp:"   ...",signInButton:" ",verifying:" ...",verifyOtp:"   ",enterEmail:"  ",enterPassword:"  ",signingIn:"  ...",keepSignedIn:" ",orSignInWith:"   ",signInWithGoogle:"   ",signInWithApple:"   ",signInWithX:"   ",createNewAccount:"  ",forgotPassword:"  ",testPhoneError:"   .    (: 123456).",invalidOtp:"   .   .",invalidEmailOrPassword:"      .   .",billingNotEnabled:"      .     (: +15555550100) ."}},O=async M=>{M.preventDefault(),j(""),Y(!0);try{if(tw.has(i))R(!0),j($[t].testPhoneError);else{nO();const ue=window.recaptchaVerifier,Xe=await iO(i,ue);N(Xe),R(!0)}}catch(ue){j(ue.message==="Firebase: Error (auth/billing-not-enabled)"?$[t].billingNotEnabled:ue.message)}finally{Y(!1)}},S=async M=>{M.preventDefault(),j(""),Y(!0);try{tw.has(i)&&_==="123456"?(g?lt.setPersistence("local"):lt.setPersistence("session"),K("/")):(await sO(V,_),g?lt.setPersistence("local"):lt.setPersistence("session"),K("/"))}catch{j($[t].invalidOtp)}finally{Y(!1)}},C=async M=>{M.preventDefault(),j(""),Y(!0);try{await rO(l,d),g?lt.setPersistence("local"):lt.setPersistence("session"),K("/")}catch{j($[t].invalidEmailOrPassword)}finally{Y(!1)}},k=async M=>{j(""),Y(!0);try{await I5(M),g?lt.setPersistence("local"):lt.setPersistence("session"),K("/")}catch(ue){j(ue.message)}finally{Y(!1)}},B=()=>{K("/signup")},z=()=>{K("/forgot-password")};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-overlay"})," ",p.jsxs("div",{className:`p-6 rounded-lg w-full max-w-md z-10 fade-in ${t==="ar"?"rtl":"ltr"}`,children:[p.jsx("h2",{className:"text-3xl font-medium text-center mb-6 text-white",children:$[t].signIn}),p.jsxs("div",{className:"flex mb-4",children:[p.jsx("button",{className:`flex-1 py-2 rounded-tl-lg cursor-pointer font-medium transition-all duration-200 ${e==="Phone"?"primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{n("Phone"),R(!1)},children:$[t].phone}),p.jsx("button",{className:`flex-1 py-2 rounded-tr-lg cursor-pointer font-medium transition-all duration-200 ${e==="Email"?"primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{n("Email"),R(!1)},children:$[t].email})]}),D&&p.jsx("div",{className:"bg-red-100 text-red-700 p-2 rounded mb-4 text-center",children:D}),e==="Phone"&&!E&&p.jsxs("form",{onSubmit:O,children:[p.jsx("div",{className:"mb-4",children:p.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg p-2 bg-gray-100 h-12",children:[p.jsx("span",{className:"p-1 text-gray-500",children:p.jsx(BU,{size:20})}),p.jsx("input",{type:"text",value:i,onChange:M=>a(M.target.value),className:"w-full p-2 bg-gray-100 border-none focus:outline-none ] h-12 text-gray-800",placeholder:$[t].enterPhoneNumber,required:!0})]})}),p.jsx("div",{id:"recaptcha-container",className:"mb-4"}),p.jsx("button",{type:"submit",className:"w-full primary text-white py-3 rounded-lg mb-2 font-medium transition-all duration-200 hover:bg-[#78B833]/90",disabled:L,children:L?$[t].sendingOtp:$[t].signInButton})]}),e==="Phone"&&E&&p.jsxs("form",{onSubmit:S,children:[p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"text",value:_,onChange:M=>T(M.target.value),className:"w-full p-2 rounded-lg text-gray-800 text-sm placeholder:text-gray-400 focus:outline-none ",placeholder:$[t].enterOtp,required:!0})}),p.jsx("button",{type:"submit",className:"w-full primary text-white py-3 rounded-lg mb-2 font-medium transition-all duration-200 hover:bg-[#78B833]/90",disabled:L,children:L?$[t].verifying:$[t].verifyOtp})]}),e==="Email"&&p.jsxs("form",{onSubmit:C,children:[p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"email",value:l,onChange:M=>c(M.target.value),className:"w-full p-2 rounded-lg focus:outline-none bg-gray-100 text-gray-800",placeholder:$[t].enterEmail,required:!0})}),p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"password",value:d,onChange:M=>f(M.target.value),className:"w-full p-2 rounded-lg focus:outline-none bg-gray-100 text-gray-800",placeholder:$[t].enterPassword,required:!0})}),p.jsx("button",{type:"submit",className:"w-full primary text-white py-3 rounded-lg mb-2 font-medium transition-all duration-200 hover:bg-[#78B833]/90",disabled:L,children:L?$[t].signingIn:$[t].signInButton})]}),p.jsxs("div",{className:"flex items-center justify-end mb-4",children:[p.jsx("input",{type:"checkbox",checked:g,onChange:M=>v(M.target.checked),className:"mr-1 w-4 h-4 rounded-sm cursor-pointer accent-[#78B833]"}),p.jsxs("label",{className:"text-gray-400 text-sm",children:[" ",$[t].keepSignedIn]})]}),p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("hr",{className:"flex-1 border-gray-300"}),p.jsx("span",{className:"px-7 text-gray-400 text-sm",children:$[t].orSignInWith}),p.jsx("hr",{className:"flex-1 border-gray-300"})]}),p.jsxs("button",{onClick:()=>k("Google"),className:"w-full bg-white text-gray-800 py-3 rounded-lg flex items-center justify-center cursor-pointer font-medium transition-all duration-200 hover:bg-gray-100",children:[p.jsx("img",{className:"mr-3 w-5 h-5",src:dE,alt:"Google"}),$[t].signInWithGoogle]}),p.jsxs("button",{onClick:()=>k("Apple"),className:"w-full bg-white text-gray-800 py-3 rounded-lg flex items-center justify-center cursor-pointer font-medium transition-all duration-200 hover:bg-gray-100",disabled:!0,children:[p.jsx("img",{className:"mr-3 w-5 h-5",src:fE,alt:"Apple"}),$[t].signInWithApple]}),p.jsxs("button",{onClick:()=>k("Twitter"),className:"w-full bg-white text-gray-800 py-3 rounded-lg flex items-center justify-center cursor-pointer font-medium transition-all duration-200 hover:bg-gray-100",children:[p.jsx("img",{className:"mr-3 w-5 h-5",src:hE,alt:"X"}),$[t].signInWithX]})]}),p.jsxs("div",{className:"mt-6 text-center place-items-center",children:[p.jsx("button",{onClick:B,className:"hover:underline mb-2 block text-gray-400 text-sm bg-transparent border-none cursor-pointer",children:$[t].createNewAccount}),p.jsx("button",{onClick:z,className:"text-gray-400 hover:underline text-sm bg-transparent border-none cursor-pointer",children:$[t].forgotPassword})]})]})]})},zU=()=>p.jsx("div",{}),HU=({language:t="en"})=>{const[e,n]=I.useState(!0),i={en:{privacyPolicy:"Privacy Policy",lastUpdated:"Last Updated: March 10, 2025",privacyStatement:"Privacy and Information Confidentiality Statement",privacyStatementText:"We appreciate your concerns and interests regarding the privacy of your data on the Internet. This policy has been prepared to help you understand the nature of the data we collect from you when you visit our website or use our internet application and how we handle this personal data.",browsing:"Browsing",browsingText:"We have not designed this website or application to collect your personal data from your computer while browsing this website or application. Only data provided by you with your knowledge and free will shall be used.",ipAddress:"Internet Protocol (IP) Address",ipAddressText:"At any time you visit any website, including this website or application, the host server will record your Internet Protocol (IP) address, date and time of your visit, and the type of web browser you are using, along with the URL address of any website that referred you to this website.",onlineSurveys:"Online Surveys",onlineSurveysText:"The online surveys we conduct directly on the web enable us to collect specific data regarding your opinions and feelings about our website or application. Your responses are of utmost importance and highly appreciated as they allow us to improve the website and the application. You have complete freedom and choice in providing data related to your name and other information.",linksToOtherWebsites:"Links to Other Websites on the Internet",linksToOtherWebsitesText:"Our website may include links to other websites or advertisements from other websites, such as Google AdSense. We are not responsible for data collection methods by those websites. You can review the privacy policies and content of those websites accessed through any link within this website.",informationDisclosure:"Information Disclosure",informationDisclosureText:"We will always maintain the privacy and confidentiality of all personal data we obtain. This information will not be disclosed unless required by any law or when we believe in good faith that such action is necessary or desirable to comply with the law or defend or protect the rights of the property of this website or the parties benefiting from it.",dataForTransactions:"Data Needed for Your Required Transactions",dataForTransactionsText:["When we need any data that is specific to you, we will ask you to provide it of your own free will.","This information will help us to contact you and execute your requests wherever possible.","Your provided data will never be sold to any third party for marketing purposes without your prior and written consent, unless it is included in aggregated data used for statistical and research purposes without any information that can identify you."],whenContactingUs:"When Contacting Us",whenContactingUsText:"All data provided by you will be treated as confidential. The forms presented directly on the web require providing data that will help us improve our website. The data you provide will be used to respond to all your inquiries, feedback, or requests by this website or any of its affiliated sites.",disclosureToThirdParties:"Information Disclosure to Third Parties",disclosureToThirdPartiesText:"We will not sell, trade, rent, or disclose any information for the benefit of any third party outside of this website, application, or its affiliated sites. Information will only be disclosed in the event of an order from any judicial or regulatory authority.",amendments:"Amendments to the Privacy and Data Confidentiality Policy",amendmentsText:"We reserve the right to amend the terms and conditions of the Privacy and Data Confidentiality Policy if necessary and when it is appropriate. Amendments will be implemented here, and you will be continuously notified of the data we obtain, how we will use it, and the parties to whom we will provide this data.",contactingUs:"Contacting Us",contactingUsText:"You can contact us when needed by clicking on the 'Contact Us' link available on our website or application, or by contacting us at the toll-free number 920006839.",inConclusion:"In Conclusion",inConclusionText:"Your concerns and interests regarding data confidentiality and privacy are of the utmost importance to us. We hope to achieve this through this policy."},ar:{privacyPolicy:" ",lastUpdated:" : 10  2025",privacyStatement:"   ",privacyStatementText:"       .                           .",browsing:"",browsingText:"                    .          .",ipAddress:"   (IP)",ipAddressText:"                      (IP)              URL       .",onlineSurveys:"  ",onlineSurveysText:"                    .             .           .",linksToOtherWebsites:"    ",linksToOtherWebsitesText:"             Google AdSense.           .                  .",informationDisclosure:"  ",informationDisclosureText:"          .                                          .",dataForTransactions:"     ",dataForTransactionsText:["           .","          .","                                ."],whenContactingUs:"  ",whenContactingUsText:"         .             .                      .",disclosureToThirdParties:"    ",disclosureToThirdPartiesText:"                    .               .",amendments:"     ",amendmentsText:"                .                   .",contactingUs:" ",contactingUsText:'        " "             920006839.',inConclusion:" ",inConclusionText:"           .        ."}};return I.useEffect(()=>{setTimeout(()=>{n(!1)},1e3)},[]),e?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"})}):p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("div",{style:{backgroundImage:`url(${Zf})`},className:"bg-cover bg-center relative overflow-hidden min-h-screen",children:[p.jsx("div",{className:"absolute inset-0 bg-overlay"})," ",p.jsxs("div",{className:`container px-6 sm:px-8 lg:px-12 py-20 max-w-6xl ${t==="ar"?"rtl":"ltr"}`,children:[p.jsxs("div",{className:"fade-in",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mt-4 tracking-tight",children:i[t].privacyPolicy}),p.jsx("p",{className:"mt-2 text-white text-sm opacity-80",children:i[t].lastUpdated})]}),p.jsxs("section",{className:"mt-16 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].privacyStatement}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].privacyStatementText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].browsing}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].browsingText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].ipAddress}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].ipAddressText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].onlineSurveys}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].onlineSurveysText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].linksToOtherWebsites}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].linksToOtherWebsitesText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].informationDisclosure}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].informationDisclosureText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].dataForTransactions}),i[t].dataForTransactionsText.map((a,l)=>p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium mt-3",children:a},l))]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].whenContactingUs}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].whenContactingUsText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].disclosureToThirdParties}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].disclosureToThirdPartiesText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].amendments}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].amendmentsText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].contactingUs}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].contactingUsText})]}),p.jsxs("section",{className:"mt-12 mb-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:i[t].inConclusion}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:i[t].inConclusionText})]})]})]})})};function qU(t){return Vn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M1 1.75A.75.75 0 0 1 1.75 1h1.628a1.75 1.75 0 0 1 1.734 1.51L5.18 3a65.25 65.25 0 0 1 13.36 1.412.75.75 0 0 1 .58.875 48.645 48.645 0 0 1-1.618 6.2.75.75 0 0 1-.712.513H6a2.503 2.503 0 0 0-2.292 1.5H17.25a.75.75 0 0 1 0 1.5H2.76a.75.75 0 0 1-.748-.807 4.002 4.002 0 0 1 2.716-3.486L3.626 2.716a.25.25 0 0 0-.248-.216H1.75A.75.75 0 0 1 1 1.75ZM6 17.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM15.5 19a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"},child:[]}]})(t)}const $U="/united-feeds/assets/productdetails1-BEDYOb5H.svg",GU="/united-feeds/assets/productdetails2-B0VFjY8V.svg",KU=({language:t="en"})=>{const{productId:e}=uw(),n=bn(),i=I.useContext(Hs),[a,l]=I.useState(1),[c,d]=I.useState(!1),[f,g]=I.useState(""),[v,_]=I.useState(0),[T,E]=I.useState([]),[R,V]=I.useState(0),[N,D]=I.useState("Product Details"),[j,L]=I.useState(null),[Y,K]=I.useState(!1),$={en:{categories:"Categories",productNotFound:"Product not found",addToFavorites:"Add to Favorites",removeFromFavorites:"Remove from Favorites",notReturnable:"This product is not returned or replaced",inclusiveOfVAT:"Inclusive of VAT",qty:"Qty",addToCart:"ADD TO CART",stock:"Stock",outOfStock:"Out of Stock",productSold:"Product Sold",productDetails:"Product Details",productDescription:"Product Description",reviews:"Reviews",genuine:"100% Genuine",cashOnDelivery:"Cash on Delivery",rateThisProduct:"Rate this product:",writeReview:"Write your review...",submitReview:"Submit Review",noReviews:"No reviews yet. Be the first to review this product!",addReview:"Add Review",suggestedProducts:"Suggested Products",by:"By",on:"on",Barley:"Barley",Corn:"Corn",Soya:"Soya",Wheat:"Wheat",currency:"SAR",addedToCart:"Added to cart successfully!",addedToFavorites:"Added to favorites!",removedFromFavorites:"Removed from favorites!",reviewSubmitted:"Review submitted successfully!"},ar:{categories:"",productNotFound:"  ",addToFavorites:"  ",removeFromFavorites:"  ",notReturnable:"      ",inclusiveOfVAT:"   ",qty:"",addToCart:"  ",stock:"",outOfStock:" ",productSold:" ",productDetails:" ",productDescription:" ",reviews:"",genuine:" 100%",cashOnDelivery:"  ",rateThisProduct:"  :",writeReview:" ...",submitReview:" ",noReviews:"   .      !",addReview:" ",suggestedProducts:" ",by:"",on:"",Barley:"",Corn:"",Soya:"",Wheat:"",currency:"",addedToCart:"    !",addedToFavorites:"   !",removedFromFavorites:"   !",reviewSubmitted:"   !"}};if(!i)return console.error("ProductDetails must be used within a ShopContextProvider"),p.jsx("div",{children:t==="ar"?":     ShopContext":"Error: ShopContext not found"});const{products:O,favorites:S,addToFavorites:C,removeFromFavorites:k,addToCart:B}=i,[z,M]=I.useState(null),[ue,Xe]=I.useState([]);if(I.useEffect(()=>{const pe=lt.onAuthStateChanged(fe=>{L(fe)});return()=>pe()},[]),I.useEffect(()=>{const pe=O.find(fe=>fe._id===e);if(M(pe||null),pe){const fe=O.filter(Ve=>Ve.category.en===pe.category.en&&Ve._id!==pe._id).slice(0,5);Xe(fe)}},[e,O]),I.useEffect(()=>{e&&(async()=>{try{const fe=C_(js,"products",e,"reviews"),Ve=Wk(fe),Et=(await Zk(Ve)).docs.map(It=>({id:It.id,...It.data()}));E(Et)}catch(fe){console.error("Error fetching reviews:",fe.message)}})()},[e]),I.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),!z)return p.jsx("div",{className:"p-4",children:$[t].productNotFound});const de=S.includes(e),G=pe=>{l(fe=>Math.max(1,fe+pe))},se=pe=>{const fe=parseInt(pe.target.value);!isNaN(fe)&&fe>=1?l(fe):pe.target.value===""&&l(1)},Re=()=>{if(!j){n("/login");return}de?(k(e),Ie.info($[t].removedFromFavorites,{style:{direction:t==="ar"?"rtl":"ltr"}})):(C(e),Ie.success($[t].addedToFavorites,{style:{direction:t==="ar"?"rtl":"ltr"}}))},F=()=>{if(!z.inStock){Ie.error($[t].outOfStock,{position:"top-right",autoClose:3e3,style:{direction:t==="ar"?"rtl":"ltr"}});return}if(!j){n("/login");return}for(let pe=0;pe<a;pe++)B(e);Ie.success($[t].addedToCart,{style:{direction:t==="ar"?"rtl":"ltr"}})},le=async pe=>{if(pe.preventDefault(),!j){n("/login");return}if(f.trim()&&v>0)try{const fe={text:f,rating:v,userName:j&&(j.displayName||j.email)||"Anonymous",timestamp:Date.now()},Ve=C_(js,"products",e,"reviews"),nt=await Jk(Ve,fe);E(Et=>[...Et,{id:nt.id,...fe}]),g(""),_(0),d(!1),Ie.success($[t].reviewSubmitted,{style:{direction:t==="ar"?"rtl":"ltr"}})}catch(fe){console.error("Error submitting review:",fe.message)}},me=pe=>{V(pe)},J=pe=>{D(pe),d(!1)},ie=pe=>{_(pe)},_e=pe=>{K(!0),setTimeout(()=>{n(`/product-details/${pe}`)},1e3)},Ee=t==="ar"?z.name.ar:z.name.en,ze=t==="ar"?z.description.ar:z.description.en,Pe=t==="ar"?z.category.ar:z.category.en,Ue={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},Ze={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}}};return p.jsx(p.Fragment,{children:Y?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"})}):p.jsxs(qe.div,{className:`p-4 max-w-6xl mx-auto ${t==="ar"?"rtl":"ltr"}`,initial:"hidden",animate:"visible",variants:Ue,children:[p.jsxs(qe.div,{className:"text-gray-500 text-sm mb-4",variants:Ue,children:[p.jsx("span",{children:$[t].categories})," ",">"," ",p.jsx("span",{children:Pe})," ",">"," ",p.jsx("span",{children:Ee})]}),p.jsxs(qe.div,{className:"flex flex-col md:flex-row gap-8",variants:Ue,children:[p.jsxs("div",{className:"flex flex-col gap-4 md:w-1/3",children:[p.jsx(qe.img,{src:z.image[R],alt:Ee,className:"w-full h-96 object-contain rounded-lg",initial:"hidden",animate:"visible",variants:Ze},R),p.jsx("div",{className:"flex gap-2",children:z.image.map((pe,fe)=>p.jsx(qe.img,{src:pe,alt:`${Ee} Thumbnail ${fe+1}`,className:`w-16 h-16 object-contain rounded-md border border-gray-200 ${fe===R?"border-2 border-[#78B833]":""} cursor-pointer`,onClick:()=>me(fe),whileHover:{scale:1.1},whileTap:{scale:.9}},fe))})]}),p.jsxs(qe.div,{className:"flex-1",variants:Ue,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h1",{className:"text-2xl font-bold",children:Ee}),p.jsxs("span",{className:"text-yellow-400 text-xl",children:[" ",z.stars]}),p.jsx(qe.button,{onClick:Re,className:`text-2xl ${t==="ar"?"mr-4":"ml-4"}`,"aria-label":de?$[t].removeFromFavorites:$[t].addToFavorites,disabled:!j,whileHover:{scale:1.2},whileTap:{scale:.8},children:de?p.jsx(k5,{className:`cursor-pointer ${j?"text-[#78B833]":"text-gray-300"}`}):p.jsx(O5,{className:`cursor-pointer ${j?"text-gray-400 hover:text-[#78B833]":"text-gray-300"}`})})]}),p.jsx("p",{className:"text-gray-600 mt-2 text-left",children:ze}),p.jsx("div",{className:"bg-yellow-50 text-yellow-600 p-2 rounded-md mt-4 text-sm",children:$[t].notReturnable}),p.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-4",children:[z.price," ",$[t].currency,p.jsxs("span",{className:"text-sm font-normal text-gray-500",children:[" ","(",$[t].inclusiveOfVAT,")"]})]}),p.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[p.jsx("span",{className:"text-gray-700",children:$[t].qty}),p.jsxs("div",{className:"flex items-center bg-orange-200 rounded-full",children:[p.jsx(qe.button,{onClick:()=>G(-1),className:`w-6 h-6 bg-white text-orange-600 text-md rounded-full items-center justify-center ${t==="ar"?"mr-2":"ml-2"} my-1 cursor-pointer`,whileHover:{scale:1.1},whileTap:{scale:.9},children:"-"}),p.jsx("input",{type:"number",value:a,onChange:se,className:"w-12 text-center border-none focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",min:"1"}),p.jsx(qe.button,{onClick:()=>G(1),className:`w-6 h-6 bg-white text-orange-600 text-md rounded-full items-center justify-center ${t==="ar"?"ml-2":"mr-2"} my-1 cursor-pointer`,whileHover:{scale:1.1},whileTap:{scale:.9},children:"+"})]})]}),p.jsxs(qe.button,{onClick:F,className:`mt-4 w-full primary text-white py-3 rounded-lg flex items-center justify-center gap-2 cursor-pointer ${z.inStock?"":"bg-gray-300 cursor-not-allowed"}`,disabled:!z.inStock,whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx(j5,{className:`w-5 h-5 ${t==="ar"?"ml-2":"mr-2"}`}),$[t].addToCart]}),p.jsxs("div",{className:"flex items-center gap-4 mt-4 text-gray-600 text-sm",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(qU,{}),p.jsx("span",{children:$[t].stock}),p.jsx("span",{className:"font-semibold",children:z.inStock?z.size*400:$[t].outOfStock})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("svg",{className:"w-5 h-5 text-[#78B833]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),p.jsx("span",{children:$[t].productSold}),p.jsx("span",{className:"font-semibold",children:z._id==="1"?745154:0})]})]})]})]}),p.jsxs(qe.div,{className:"mt-8",variants:Ue,children:[p.jsxs("div",{className:"flex gap-6 border-b border-gray-200",children:[p.jsx(qe.button,{className:`pb-2 text-gray-700 cursor-pointer ${N==="Product Details"?"border-b-2 border-[#78B833]":""}`,onClick:()=>J("Product Details"),whileHover:{scale:1.05},children:$[t].productDetails}),p.jsx(qe.button,{className:`pb-2 text-gray-700 cursor-pointer ${N==="Product Description"?"border-b-2 border-[#78B833]":""}`,onClick:()=>J("Product Description"),whileHover:{scale:1.05},children:$[t].productDescription}),p.jsxs(qe.button,{className:`pb-2 text-gray-700 cursor-pointer ${N==="Reviews"?"border-b-2 border-[#78B833]":""}`,onClick:()=>J("Reviews"),whileHover:{scale:1.05},children:[$[t].reviews," (",T.length,")"]})]}),p.jsxs("div",{className:"mt-4",children:[N==="Product Details"&&p.jsxs(qe.div,{className:"flex flex-col md:flex-row md:gap-30 lg:gap-40 sm:gap-20",variants:Ue,children:[p.jsxs("div",{className:"flex flex-row gap-5 justify-center items-center",children:[p.jsx("img",{className:"w-15 h-15",src:$U,alt:"productdetails1"}),p.jsx("p",{className:"text-black font-semibold",children:$[t].genuine})]}),p.jsxs("div",{className:"flex flex-row gap-5 justify-center items-center",children:[p.jsx("img",{className:"w-15 h-15",src:GU,alt:"productdetails2"}),p.jsx("p",{className:"text-black font-semibold",children:$[t].cashOnDelivery})]})]}),N==="Product Description"&&p.jsx(qe.div,{className:"text-gray-600",variants:Ue,children:p.jsx("p",{children:ze})}),N==="Reviews"&&p.jsx(qe.div,{variants:Ue,children:c?p.jsxs("form",{onSubmit:le,className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-gray-700",children:$[t].rateThisProduct}),p.jsx("div",{className:"flex cursor-pointer",children:[1,2,3,4,5].map(pe=>p.jsx(qe.button,{type:"button",onClick:()=>ie(pe),className:`text-2xl cursor-pointer ${pe<=v?"text-yellow-400":"text-gray-300"}`,disabled:!j,whileHover:{scale:1.2},whileTap:{scale:.8},children:""},pe))})]}),p.jsx("textarea",{value:f,onChange:pe=>g(pe.target.value),className:"w-full p-2 border rounded-md",placeholder:$[t].writeReview,rows:"4",disabled:!j}),p.jsx(qe.button,{type:"submit",className:`py-2 px-4 rounded-md cursor-pointer ${j?"bg-[#78B833] text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:v===0||!j,whileHover:{scale:1.05},whileTap:{scale:.95},children:$[t].submitReview})]}):p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:$[t].reviews}),T.length===0?p.jsx("p",{className:"text-gray-600",children:$[t].noReviews}):T.map(pe=>p.jsxs(qe.div,{className:"mb-4 p-2 border rounded-md",variants:Ue,children:[p.jsx("p",{className:"text-gray-700",children:pe.text}),p.jsx("div",{className:"text-yellow-400",children:"".repeat(pe.rating)+"".repeat(5-pe.rating)}),p.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[$[t].by," ",pe.userName," ",$[t].on," ",new Date(pe.timestamp).toLocaleDateString()]})]},pe.id)),p.jsx(qe.button,{onClick:()=>{if(!j){n("/login");return}d(!0)},className:`mt-2 py-2 px-4 rounded-md cursor-pointer ${j?"primary text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!j,whileHover:{scale:1.05},whileTap:{scale:.95},children:$[t].addReview})]})})]})]}),ue.length>0&&p.jsxs(qe.div,{className:"mt-12",variants:Ue,children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-6",children:$[t].suggestedProducts}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:ue.map(pe=>p.jsx(qe.div,{variants:Ue,children:p.jsx(Ku,{id:pe._id,name_en:pe.name.en,name_ar:pe.name.ar,image:pe.image,price:pe.price,stars:pe.stars,inStock:pe.inStock,language:t,onClick:()=>_e(pe._id)})},pe._id))})]})]})})},Hc=({title:t,filters:e,onChange:n,icon:i,options:a,language:l="en"})=>p.jsxs("div",{children:[p.jsxs("div",{className:`flex items-center text-black mb-2 ${l==="ar"?"flex-row-reverse":""}`,children:[p.jsx("img",{src:i,alt:`${t} Icon`,className:`w-5 h-5 ${l==="ar"?"ml-2":"mr-2"}`}),t]}),p.jsx("div",{className:`ml-7 ${l==="ar"?"mr-7 ml-0":""}`,children:a.map(c=>{const d=c.key,f=c[l];return p.jsxs("label",{className:`flex items-center space-x-2 mt-2 ${l==="ar"?"space-x-reverse flex-row-reverse":""}`,children:[p.jsx("input",{type:"checkbox",checked:e[d]||!1,onChange:()=>n(d),className:"form-checkbox text-[#78B833]"}),p.jsx("span",{children:f})]},d)})})]}),mE=({productTypeFilters:t,handleProductTypeChange:e,sizeFilters:n,handleSizeChange:i,priceFilters:a,handlePriceChange:l,arrivalFilters:c,handleArrivalChange:d,specialOfferFilters:f,handleSpecialOfferChange:g,productType:v,size:_,price:T,newArrivals:E,specialOffers:R,language:V="en"})=>{const N=bn(),D={en:{categoriesAll:"Categories / All",ourProducts:"Our Products",productType:"Product Type",size:"Size",price:"Price",newArrivals:"New Arrivals",specialOffers:"Special Offers",whole:"Whole",loose:"Loose",thisWeek:"This week",lastWeek:"Last week",thisMonth:"This month",discountedOnly:"Discounted Only",kg:"Kg"},ar:{categoriesAll:" / ",ourProducts:"",productType:" ",size:"",price:"",newArrivals:" ",specialOffers:" ",whole:"",loose:"",thisWeek:" ",lastWeek:" ",thisMonth:" ",discountedOnly:" ",kg:""}},j=[{en:"Whole",ar:D.ar.whole,key:"Whole"},{en:"Loose",ar:D.ar.loose,key:"Loose"}],L=[{en:`40 ${D.en.kg}`,ar:`40 ${D.ar.kg}`,key:"40 Kg"},{en:`50 ${D.en.kg}`,ar:`50 ${D.ar.kg}`,key:"50 Kg"},{en:`60 ${D.en.kg}`,ar:`60 ${D.ar.kg}`,key:"60 Kg"},{en:`100 ${D.en.kg}`,ar:`100 ${D.ar.kg}`,key:"100 Kg"}],Y=[{en:"Under 100 SAR",ar:"  100 ",key:"Under 100 SAR"},{en:"100 SAR to 150 SAR",ar:" 100  150 ",key:"100 SAR to 150 SAR"},{en:"150 SAR to 200 SAR",ar:" 150  200 ",key:"150 SAR to 200 SAR"},{en:"200 SAR to 300 SAR",ar:" 200  300 ",key:"200 SAR to 300 SAR"},{en:"300 SAR to 500 SAR",ar:" 300  500 ",key:"300 SAR to 500 SAR"},{en:"500 SAR to 1000 SAR",ar:" 500  1000 ",key:"500 SAR to 1000 SAR"}],K=[{en:"This week",ar:D.ar.thisWeek,key:"This week"},{en:"Last week",ar:D.ar.lastWeek,key:"Last week"},{en:"This month",ar:D.ar.thisMonth,key:"This month"}],$=[{en:"Discounted Only",ar:D.ar.discountedOnly,key:"Discounted Only"}];return p.jsxs("div",{className:`w-64 bg-white p-6 hidden md:block shadow-md transition-all duration-300 ${V==="ar"?"rtl":"ltr"}`,children:[p.jsx("p",{className:"text-gray-400 text-sm mb-6 font-medium hover:text-[#78B833] transition-colors duration-200 cursor-pointer",onClick:()=>N("/products"),children:D[V].categoriesAll}),p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-6",children:D[V].ourProducts}),p.jsxs("div",{className:"space-y-8",children:[p.jsx(Hc,{title:D[V].productType,filters:t,onChange:e,icon:v,options:j,language:V}),p.jsx(Hc,{title:D[V].size,filters:n,onChange:i,icon:_,options:L,language:V}),p.jsx(Hc,{title:D[V].price,filters:a,onChange:l,icon:T,options:Y,language:V}),p.jsx(Hc,{title:D[V].newArrivals,filters:c,onChange:d,icon:E,options:K,language:V}),p.jsx(Hc,{title:D[V].specialOffers,filters:f,onChange:g,icon:R,options:$,language:V})]})]})},Ey="data:image/svg+xml,%3csvg%20width='12'%20height='17'%20viewBox='0%200%2012%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.1053%206.64166L10.0215%206.55243L10.0059%206.53855C8.78968%205.45167%208.19824%203.82108%208.3833%202.06482L8.60089%200L6.73464%201.08403C4.75129%202.23602%203.44552%204.37023%203.22576%206.75658L1.13169%206.09835L0.968195%206.50029C0.309407%208.1192%20-0.0161322%209.67326%200.000614655%2011.1194C0.0189277%2012.6968%200.606271%2014.1759%201.65445%2015.2843C2.70059%2016.3907%204.08467%2017%205.55152%2017H6.44898C9.49281%2017%2011.9829%2014.3597%2011.9999%2011.1141C12.0094%209.2852%2011.3895%207.82206%2010.1053%206.64166ZM5.77574%2016.0016C4.64298%2016.0016%203.70985%2015.0143%203.69576%2013.8007C3.68998%2013.3034%203.78226%2012.7688%203.97045%2012.2068L5.28659%2012.6204L5.29213%2011.9609C5.3002%2011.0035%205.74911%2010.1193%206.47922%209.59311C6.47706%2010.567%206.85368%2011.4572%207.54259%2012.0814L7.5697%2012.1102L7.5956%2012.1357C8.08945%2012.5872%208.308%2013.1015%208.30439%2013.8032C8.298%2015.0155%207.365%2016.0016%206.22453%2016.0016H5.77574ZM8.90257%2015.2475C9.1104%2014.8149%209.22908%2014.3261%209.23173%2013.8089C9.23691%2012.8194%208.90257%2012.0272%208.20969%2011.3874L8.16656%2011.3415L8.15102%2011.3277C7.5962%2010.8317%207.33729%2010.1155%207.42199%209.31101L7.58078%207.8039L6.25718%208.57276C5.28008%209.14033%204.61069%2010.1541%204.42021%2011.3081L3.43528%2010.9985L3.27179%2011.4003C2.92902%2012.2426%202.75962%2013.0544%202.76854%2013.8133C2.77432%2014.3164%202.88709%2014.8011%203.09456%2015.2371C1.8118%2014.3675%200.948196%2012.8412%200.927955%2011.107C0.91422%209.92229%201.16048%208.645%201.66024%207.30456L4.11503%208.07614L4.12057%207.41662C4.13985%205.13572%205.3102%203.04587%207.175%201.96275L7.47946%201.78584L7.46187%201.95237C7.24175%204.0417%207.94716%205.98668%209.39787%207.29263L9.46558%207.36474L9.49148%207.39029C10.5781%208.38366%2011.0805%209.56522%2011.0726%2011.1085C11.0634%2012.849%2010.1969%2014.3798%208.90257%2015.2475Z'%20fill='%2378B833'/%3e%3c/svg%3e",Sf="/united-feeds/assets/price-uZiI-FKJ.svg",Cy="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1010_4376)'%3e%3cpath%20d='M15.8626%200.137297C15.6796%20-0.0457655%2015.3827%20-0.0457655%2015.1997%200.137297L13.8344%201.50261C13.7504%201.46261%2013.6619%201.43039%2013.5694%201.40729L9.32657%200.359077C8.85013%200.239984%208.33838%200.381702%207.9911%200.728983L0.41121%208.29641C-0.13707%208.84472%20-0.13707%209.7369%200.41121%2010.2852L5.71473%2015.5887C6.26304%2016.137%207.15523%2016.1371%207.70357%2015.5887L15.271%208.00881C15.6183%207.66153%2015.76%207.14978%2015.6409%206.67332L14.5927%202.43051C14.5696%202.33807%2014.5374%202.24948%2014.4974%202.16554L15.8627%200.800233C16.0457%200.617171%2016.0457%200.320359%2015.8626%200.137297ZM14.7313%206.90075C14.771%207.05956%2014.7237%207.23013%2014.608%207.34591L7.04057%2014.9258C6.85779%2015.1086%206.56039%2015.1086%206.37761%2014.9258L1.07412%209.62228C0.891334%209.4395%200.891334%209.14209%201.07412%208.95931L8.65404%201.39192C8.74269%201.30326%208.86351%201.25479%208.98657%201.25479C9.02419%201.25479%209.06204%201.25933%209.09919%201.26861L13.0845%202.25245L11.9556%203.38135C11.4329%203.13242%2010.7873%203.22373%2010.3553%203.65579C9.80694%204.20413%209.80694%205.09629%2010.3553%205.64463C10.6294%205.91879%2010.9896%206.05588%2011.3497%206.05588C11.7098%206.05588%2012.0699%205.91882%2012.3441%205.64463C12.7762%205.21251%2012.8675%204.56694%2012.6185%204.04429L13.7474%202.91539L14.7313%206.90075ZM11.6812%204.98172C11.4984%205.16447%2011.201%205.16451%2011.0182%204.98172C10.8355%204.79897%2010.8355%204.50154%2011.0182%204.31879C11.1096%204.22738%2011.2296%204.18173%2011.3497%204.18173C11.4697%204.18173%2011.5898%204.22741%2011.6811%204.31876L11.6811%204.31879L11.6812%204.31882C11.8639%204.50157%2011.8639%204.79897%2011.6812%204.98172Z'%20fill='%2378B833'/%3e%3cpath%20d='M7.70352%205.64463C7.15521%205.09632%206.26302%205.09632%205.71468%205.64463C5.1664%206.19294%205.1664%207.08513%205.71468%207.63347C6.26299%208.18178%207.15521%208.18178%207.70352%207.63347C8.25186%207.08513%208.25186%206.19297%207.70352%205.64463ZM7.04061%206.9705C6.85783%207.15329%206.56043%207.15329%206.37768%206.9705C6.19493%206.78772%206.19486%206.49032%206.37764%206.30757C6.56043%206.12482%206.8578%206.12479%207.04061%206.30757C7.22336%206.49032%207.22336%206.78772%207.04061%206.9705Z'%20fill='%2378B833'/%3e%3cpath%20d='M8.36637%2010.2853C7.81678%209.73567%206.92725%209.73561%206.37757%2010.2853C5.82922%2010.8336%205.82922%2011.7258%206.37757%2012.2741C6.92719%2012.8237%207.81672%2012.8238%208.36637%2012.2741C8.91472%2011.7258%208.91472%2010.8336%208.36637%2010.2853ZM7.70344%2011.6112C7.52028%2011.7944%207.22369%2011.7944%207.0405%2011.6112C6.85775%2011.4284%206.85775%2011.131%207.0405%2010.9482C7.22369%2010.765%207.52025%2010.765%207.70344%2010.9482C7.88619%2011.131%207.88619%2011.4284%207.70344%2011.6112Z'%20fill='%2378B833'/%3e%3cpath%20d='M10.4898%208.57624C10.4612%208.31893%2010.2294%208.13349%209.97211%208.16209L4.00569%208.82503C3.74838%208.85362%203.56294%209.08537%203.59153%209.34271C3.61819%209.58243%203.82113%209.75977%204.05687%209.75977C4.07416%209.75977%204.09166%209.7588%204.10922%209.75687L10.0757%209.09393C10.333%209.06531%2010.5184%208.83356%2010.4898%208.57624Z'%20fill='%2378B833'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1010_4376'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",WU="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='disruption_9606383%201'%3e%3cg%20id='_x30_5'%3e%3cpath%20id='Vector'%20d='M16.5641%208.49683L12.0641%206.24683C11.9059%206.16772%2011.7191%206.16772%2011.5609%206.24683L7.06091%208.49683C6.8703%208.59213%206.75%208.78687%206.75%209V14.0625C6.75%2014.2756%206.8703%2014.4704%207.06091%2014.5657L11.5609%2016.8157C11.64%2016.8552%2011.7263%2016.875%2011.8125%2016.875C11.8987%2016.875%2011.985%2016.8552%2012.0641%2016.8157L16.5641%2014.5657C16.7547%2014.4704%2016.875%2014.2756%2016.875%2014.0625V9C16.875%208.78687%2016.7547%208.59213%2016.5641%208.49683ZM11.8125%207.37897L15.0546%209L11.8125%2010.621L8.57043%209L11.8125%207.37897ZM7.875%209.91022L11.25%2011.5977V15.4023L7.875%2013.7148V9.91022ZM12.375%2015.4023V11.5977L15.75%209.91022V13.7148L12.375%2015.4023Z'%20fill='%2378B833'/%3e%3cpath%20id='Vector_2'%20d='M6.18751%202.8125H5.06251C4.89387%202.8125%204.73457%202.88803%204.62745%203.01849C4.52088%203.14868%204.47804%203.32007%204.511%203.48541L5.0735%206.29791C5.12623%206.56076%205.35694%206.75%205.62501%206.75C5.89308%206.75%206.12379%206.56076%206.17652%206.29791L6.73902%203.48541C6.77198%203.32007%206.72914%203.14868%206.62257%203.01849C6.51545%202.88803%206.35615%202.8125%206.18751%202.8125Z'%20fill='%2378B833'/%3e%3cpath%20id='Vector_3'%20d='M5.625%208.4375C5.93566%208.4375%206.1875%208.18566%206.1875%207.875C6.1875%207.56434%205.93566%207.3125%205.625%207.3125C5.31434%207.3125%205.0625%207.56434%205.0625%207.875C5.0625%208.18566%205.31434%208.4375%205.625%208.4375Z'%20fill='%2378B833'/%3e%3cpath%20id='Vector_4'%20d='M5.625%209C3.76392%209%202.25%207.48608%202.25%205.625C2.25%203.76392%203.76392%202.25%205.625%202.25C7.48608%202.25%209%203.76392%209%205.625C9%205.78595%208.98846%205.94827%208.96539%206.1073C8.92145%206.41492%209.13513%206.70001%209.44275%206.74396C9.75092%206.7879%2010.0349%206.57477%2010.0794%206.26715C10.1096%206.05539%2010.125%205.83923%2010.125%205.625C10.125%203.14374%208.10626%201.125%205.625%201.125C3.14374%201.125%201.125%203.14374%201.125%205.625C1.125%208.10626%203.14374%2010.125%205.625%2010.125C5.93591%2010.125%206.1875%209.87314%206.1875%209.5625C6.1875%209.25186%205.93591%209%205.625%209Z'%20fill='%2378B833'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function YU(t){return Vn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 15.0006L7.75732 10.758L9.17154 9.34375L12 12.1722L14.8284 9.34375L16.2426 10.758L12 15.0006Z"},child:[]}]})(t)}const QU=({isOpen:t,selectedOption:e,onOptionChange:n,language:i="en"})=>{var d;const a={en:{suggested:"Suggested",newArrivals:"New Arrivals",priceHighToLow:"Price High to Low",priceLowToHigh:"Price Low to High",discount:"Discount"},ar:{suggested:"",newArrivals:" ",priceHighToLow:"    ",priceLowToHigh:"    ",discount:""}},l=[{label:a[i].suggested,icon:WU,key:"Suggested"},{label:a[i].newArrivals,icon:Ey,key:"New Arrivals"},{label:a[i].priceHighToLow,icon:Sf,key:"Price High to Low"},{label:a[i].priceLowToHigh,icon:Sf,key:"Price Low to High"},{label:a[i].discount,icon:Cy,key:"Discount"}],c=((d=l.find(f=>f.key===e))==null?void 0:d.label)||e;return p.jsxs("div",{className:"relative",children:[p.jsxs("button",{className:`flex items-center bg-gray-100 px-4 py-2 rounded-full text-gray-700 font-medium hover:bg-gray-200 transition-all duration-200 shadow-sm ${i==="ar"?"flex-row-reverse":""}`,onClick:()=>n(null,!0),children:[p.jsx("span",{children:c}),p.jsx(YU,{className:`text-gray-500 ${i==="ar"?"mr-2":"ml-2"} transition-transform duration-200 ${t?"rotate-180":""}`,size:24})]}),p.jsx(L5,{children:t&&p.jsx(qe.div,{className:`absolute ${i==="ar"?"right-0":"left-0"} mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-10 overflow-hidden`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:p.jsx("ul",{className:"py-2",children:l.map(({label:f,icon:g,key:v})=>p.jsxs("li",{className:`flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-200 ${i==="ar"?"flex-row-reverse":""} ${c===f?"bg-gray-50 font-semibold":""}`,onClick:()=>n(v),children:[p.jsx("img",{src:g,alt:`${f} Icon`,className:`w-5 h-5 ${i==="ar"?"ml-3":"mr-3"}`}),p.jsx("span",{className:"text-sm",children:f})]},v))})})})]})},pE=({filters:t,activeFilter:e,handleFilterChange:n,isDropdownOpen:i,suggestedOption:a,setIsDropdownOpen:l,handleSuggestedChange:c,language:d="en"})=>p.jsx("div",{className:`w-full max-w-full px-4 py-2 sm:px-6 md:px-8 ${d==="ar"?"rtl":"ltr"}`,children:p.jsxs("div",{className:"flex flex-wrap gap-4 sm:gap-6 justify-center md:justify-between",children:[p.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-4",children:t.map(f=>p.jsx("button",{className:`px-2 sm:px-4 py-1 sm:py-2 rounded-full font-medium text-xs sm:text-sm transition-colors ${e===f.en?"bg-[#78B833] text-white cursor-pointer":"bg-gray-200 text-gray-700 hover:bg-[#78B833] hover:text-white cursor-pointer"}`,onClick:()=>n(f.en),children:f[d]},f.en))}),p.jsx("div",{className:"flex-shrink-0",children:p.jsx(QU,{isOpen:i,selectedOption:a,onOptionChange:(f,g)=>{g?l(!i):c(f)},language:d})})]})}),gE="/united-feeds/assets/productType-RpJZWFS2.svg",yE="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1010_4339)'%3e%3cpath%20d='M0.487578%209.76873C0.756917%209.76873%200.975157%209.98704%200.975157%2010.2563V12.3352L4.11549%209.19553C4.21073%209.10036%204.33548%209.05277%204.46024%209.05277C4.58506%209.05277%204.70988%209.10036%204.80505%209.1956C4.99547%209.38601%204.99547%209.69475%204.80499%209.8851L1.66453%2013.0248H3.74389C4.01316%2013.0248%204.23146%2013.2431%204.23146%2013.5124C4.23146%2013.7817%204.01323%2014%203.74389%2014H0.487578C0.21824%2014%200%2013.7817%200%2013.5124V10.2562C0%209.98704%200.21824%209.76873%200.487578%209.76873Z'%20fill='%2378B833'/%3e%3cpath%20d='M13.5125%204.23166C13.2432%204.23166%2013.0249%204.01335%2013.0249%203.74408V1.66511L9.78794%204.90211C9.59746%205.09253%209.28879%205.09253%209.09838%204.90211C8.90796%204.71169%208.90796%204.40296%209.09838%204.21261L12.3353%200.975675H10.2565C9.98714%200.975675%209.7689%200.75737%209.7689%200.488097C9.7689%200.218823%209.98714%200.000518322%2010.2565%200.000518322H13.5126C13.7819%200.000518322%2014.0002%200.218823%2014.0002%200.488097V3.74408C14.0001%204.01335%2013.7818%204.23166%2013.5125%204.23166Z'%20fill='%2378B833'/%3e%3cpath%20d='M4.21208%204.9021L0.975401%201.66517V3.74407C0.975401%204.01334%200.757161%204.23165%200.487822%204.23165C0.218484%204.23165%200.000244141%204.01334%200.000244141%203.74407V0.487958C0.000244141%200.218685%200.218484%200.000379562%200.487822%200.000379562H3.74381C4.01308%200.000379562%204.23138%200.218685%204.23138%200.487958C4.23138%200.757231%204.01314%200.975536%203.74381%200.975536H1.6649L4.90164%204.2126C5.09206%204.40302%205.09206%204.71175%204.90158%204.90217C4.71129%205.09252%204.40256%205.09252%204.21208%204.9021Z'%20fill='%2378B833'/%3e%3cpath%20d='M13.5123%2014H10.2562C9.98686%2014%209.76862%2013.7817%209.76862%2013.5124C9.76862%2013.2431%209.98686%2013.0248%2010.2562%2013.0248H12.3352L9.19529%209.88477C9.00488%209.69436%209.00488%209.38562%209.19536%209.19521C9.29053%209.10003%209.41535%209.05244%209.54011%209.05244C9.66486%209.05244%209.78968%209.1001%209.88492%209.19527L13.0248%2012.3353V10.2563C13.0248%209.98703%2013.243%209.76873%2013.5124%209.76873C13.7817%209.76873%2014%209.98703%2014%2010.2563V13.5124C13.9999%2013.7818%2013.7816%2014%2013.5123%2014Z'%20fill='%2378B833'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1010_4339'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='matrix(1%200%200%20-1%200%2014)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",XU=({language:t="en"})=>{const e=I.useContext(Hs),n=mi();if(!e)return console.error("Products must be used within a ShopContextProvider"),p.jsx("div",{className:"text-center text-red-600 p-4",children:t==="ar"?":     ShopContext":"Error: ShopContext not found"});const{products:i}=e,[a,l]=I.useState([]),[c,d]=I.useState("ALL"),[f,g]=I.useState({Whole:!1,Loose:!1}),[v,_]=I.useState({"40 Kg":!1,"50 Kg":!1,"60 Kg":!1,"100 Kg":!1}),[T,E]=I.useState({"Under 100 SAR":!1,"100 SAR to 150 SAR":!1,"150 SAR to 200 SAR":!1,"200 SAR to 300 SAR":!1,"300 SAR to 500 SAR":!1,"500 SAR to 1000 SAR":!1}),[R,V]=I.useState({"This week":!1,"Last week":!1,"This month":!1}),[N,D]=I.useState({"Discounted Only":!1}),[j,L]=I.useState(!1),[Y,K]=I.useState("Suggested"),O=new URLSearchParams(n.search).get("search")||"",S={en:{product:"Product",products:"Products",noProductsFound:"No products found matching your criteria.",loading:"Loading products..."},ar:{product:"",products:"",noProductsFound:"      .",loading:"  ..."}},C=[{en:"ALL",ar:""},{en:"Barley",ar:""},{en:"Corn",ar:""},{en:"Soya",ar:""},{en:"Wheat",ar:""}];I.useEffect(()=>{if(!i||i.length===0){l([]);return}let G=[...i];O&&(G=G.filter(J=>J.name.en.toLowerCase().includes(O.toLowerCase())||J.name.ar.toLowerCase().includes(O.toLowerCase()))),c&&c!=="ALL"&&(G=G.filter(J=>J.category&&J.category.en===c));const se=Object.keys(f).filter(J=>f[J]);se.length>0&&(G=G.filter(J=>se.includes(J.productType)));const Re=Object.keys(v).filter(J=>v[J]);Re.length>0&&(G=G.filter(J=>Re.includes(`${J.size} Kg`)));const F=Object.keys(T).filter(J=>T[J]);F.length>0&&(G=G.filter(J=>{const ie=J.price;return F.some(_e=>_e==="Under 100 SAR"?ie<100:_e==="100 SAR to 150 SAR"?ie>=100&&ie<=150:_e==="150 SAR to 200 SAR"?ie>150&&ie<=200:_e==="200 SAR to 300 SAR"?ie>200&&ie<=300:_e==="300 SAR to 500 SAR"?ie>300&&ie<=500:_e==="500 SAR to 1000 SAR"?ie>500&&ie<=1e3:!1)}));const le=Object.keys(R).filter(J=>R[J]);le.length>0&&(G=G.filter(J=>{const ie=new Date(J.arrivalDate),_e=new Date("2025-04-07"),Ee=24*60*60*1e3,ze=(_e-ie)/Ee;return le.some(Pe=>Pe==="This week"?ze<=7:Pe==="Last week"?ze>7&&ze<=14:Pe==="This month"?ze<=30:!1)}));const me=Object.keys(N).filter(J=>N[J]);switch(me.length>0&&(G=G.filter(J=>me.some(ie=>ie==="Discounted Only"?J.isDiscounted:!1))),Y){case"New Arrivals":G=G.sort((J,ie)=>new Date(ie.arrivalDate)-new Date(J.arrivalDate));break;case"Price High to Low":G=G.sort((J,ie)=>ie.price-J.price);break;case"Price Low to High":G=G.sort((J,ie)=>J.price-ie.price);break;case"Discount":G=G.filter(J=>J.isDiscounted);break}l(G)},[c,f,v,T,R,N,Y,i,O]);const k=G=>{d(G)},B=G=>{g(se=>({...se,[G]:!se[G]}))},z=G=>{_(se=>({...se,[G]:!se[G]}))},M=G=>{E(se=>({...se,[G]:!se[G]}))},ue=G=>{V(se=>({...se,[G]:!se[G]}))},Xe=G=>{D(se=>({...se,[G]:!se[G]}))},de=G=>{K(G),L(!1)};return p.jsxs("div",{className:`flex min-h-screen w-full max-w-full overflow-x-hidden ${t==="ar"?"rtl":"ltr"}`,children:[p.jsx("div",{className:"hidden md:block",children:p.jsx(mE,{productTypeFilters:f,handleProductTypeChange:B,sizeFilters:v,handleSizeChange:z,priceFilters:T,handlePriceChange:M,arrivalFilters:R,handleArrivalChange:ue,specialOfferFilters:N,handleSpecialOfferChange:Xe,productType:gE,size:yE,price:Sf,newArrivals:Ey,specialOffers:Cy,language:t})}),p.jsxs("div",{className:"flex-1 w-full max-w-full px-4 py-6 sm:px-6 md:px-8 overflow-x-hidden",children:[p.jsxs("div",{className:"mb-6 w-full max-w-full flex justify-between items-center",children:[p.jsx("div",{className:"flex-1",children:p.jsx(pE,{filters:C,activeFilter:c,handleFilterChange:k,isDropdownOpen:j,suggestedOption:Y,setIsDropdownOpen:L,handleSuggestedChange:de,language:t})}),p.jsxs("div",{className:"text-gray-400 text-xs font-light",children:[a.length," ",a.length===1?S[t].product:S[t].products]})]}),p.jsx("div",{className:"w-full max-w-full",children:a.length>0?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:a.map((G,se)=>p.jsx(Ku,{id:G._id,name_en:G.name.en,name_ar:G.name.ar,image:G.image,price:G.price,stars:G.stars||0,inStock:G.inStock,language:t},se))}):p.jsx("div",{className:"col-span-full text-center text-gray-500 py-10",children:S[t].noProductsFound})})]})]})},ZU=({language:t="en"})=>{const e=bn(),[n,i]=I.useState(null),[a,l]=I.useState(!1),[c,d]=I.useState({firstName:"",lastName:"",email:"",mobileNumber:"",gender:"",dateOfBirth:"",occupation:"",preferredStation:"",currentPassword:"",newPassword:"",confirmNewPassword:""}),[f,g]=I.useState("+966"),[v,_]=I.useState(""),[T,E]=I.useState(""),[R,V]=I.useState(!1),N={en:{breadcrumb:"Account / My Profile",accountDetails:"Account Details",name:"Name",gender:"Gender",phoneNo:"Phone No",dateOfBirth:"Date of Birth",email:"Email",occupation:"Occupation",password:"Password",preferredStation:"Preferred Station",updateProfile:"Update Profile",firstName:"First Name",lastName:"Last Name",mobileNumber:"Mobile Number",selectGender:"-- Select Gender --",male:"Male",female:"Female",enterOccupation:"Enter occupation",currentPassword:"Current Password (required to change password)",newPassword:"New Password",confirmNewPassword:"Confirm New Password",enterCurrentPassword:"Enter current password",enterNewPassword:"Enter new password",confirmNewPasswordPlaceholder:"Confirm new password",update:"Update",saving:"Saving...",deleteConfirm:"Are you sure you want to delete your account?"},ar:{breadcrumb:" /  ",accountDetails:" ",name:"",gender:"",phoneNo:" ",dateOfBirth:" ",email:" ",occupation:"",password:" ",preferredStation:" ",updateProfile:"  ",firstName:" ",lastName:" ",mobileNumber:" ",selectGender:"--   --",male:"",female:"",enterOccupation:" ",currentPassword:"   (   )",newPassword:"  ",confirmNewPassword:"   ",enterCurrentPassword:"   ",enterNewPassword:"   ",confirmNewPasswordPlaceholder:"   ",update:"",saving:" ...",deleteConfirm:"      "}};I.useEffect(()=>{const O=lt.currentUser;if(O){i(O);const S=Ka(js,"users",O.uid);Fg(S).then(C=>{var k,B,z,M;if(C.exists()){const ue=C.data();d({firstName:ue.firstName||((k=O.displayName)==null?void 0:k.split(" ")[0])||"Mido",lastName:ue.lastName||((B=O.displayName)==null?void 0:B.split(" ")[1])||"Allam",email:ue.email||O.email||"midoallam47@gmail.com",mobileNumber:ue.mobileNumber||O.phoneNumber||"",gender:ue.gender||"",dateOfBirth:ue.dateOfBirth||"",occupation:ue.occupation||"",preferredStation:ue.preferredStation||(t==="ar"?" ":"Jumum Station"),currentPassword:"",newPassword:"",confirmNewPassword:""})}else d({firstName:((z=O.displayName)==null?void 0:z.split(" ")[0])||"Mido",lastName:((M=O.displayName)==null?void 0:M.split(" ")[1])||"Allam",email:O.email||"midoallam47@gmail.com",mobileNumber:O.phoneNumber||"",gender:"",dateOfBirth:"",occupation:"",preferredStation:t==="ar"?" ":"Jumum Station",currentPassword:"",newPassword:"",confirmNewPassword:""})}).catch(C=>{console.error("Error fetching user data:",C.message,C.code),_(N[t].error||"Failed to load user data. Please try again.")})}else e("/login")},[e,t]);const D=O=>{const{name:S,value:C}=O.target;d(k=>({...k,[S]:C})),(S==="currentPassword"||S==="newPassword"||S==="confirmNewPassword")&&(_(""),E(""))},j=O=>{d(S=>({...S,mobileNumber:`${f} ${O.target.value}`}))},L=O=>{g(O.target.value),d(S=>({...S,mobileNumber:`${O.target.value} ${S.mobileNumber.split(" ")[1]||""}`}))},Y=()=>{l(!a),_(""),E("")},K=async()=>{if(!n)return;if(V(!0),_(""),E(""),c.newPassword||c.confirmNewPassword){if(c.newPassword!==c.confirmNewPassword){_(N[t].passwordMismatch||"New passwords do not match."),V(!1);return}if(!c.currentPassword){_(N[t].currentPasswordRequired||"Please enter your current password to change your password."),V(!1);return}}const O={firstName:c.firstName,lastName:c.lastName,email:c.email,mobileNumber:c.mobileNumber,gender:c.gender,dateOfBirth:c.dateOfBirth,occupation:c.occupation,preferredStation:c.preferredStation},S=Ka(js,"users",n.uid);try{if(c.newPassword&&c.currentPassword){const k=Qa.credential(n.email,c.currentPassword);await uN(n,k),await gN(n,c.newPassword),console.log("Password updated successfully"),E(N[t].passwordUpdated||"Password updated successfully.")}await gf(S,O,{merge:!0}),console.log("Firestore updated successfully");const C=`${c.firstName} ${c.lastName}`;await pN(n,{displayName:C}),console.log("Display name updated successfully"),d(k=>({...k,currentPassword:"",newPassword:"",confirmNewPassword:""})),l(!1),E(N[t].profileUpdated||"Profile updated successfully.")}catch(C){console.error("Detailed error saving profile:",C.message,C.code),C.code==="auth/wrong-password"?_(N[t].wrongPassword||"Current password is incorrect. Please try again."):C.code==="auth/requires-recent-login"?_(N[t].sessionExpired||"Session expired. Please log out and log in again to update your password."):C.code==="permission-denied"?_(N[t].permissionDenied||"Permission denied. Check Firestore security rules."):C.code==="auth/weak-password"?_(N[t].weakPassword||"New password is too weak. It must be at least 6 characters long."):_(`${N[t].failedToSave||"Failed to save profile"}: ${C.message}`)}finally{V(!1)}},$=()=>{window.confirm(N[t].deleteConfirm)&&(n&&n.delete().catch(O=>console.error("Delete error:",O.message)),lt.signOut().then(()=>e("/login")))};return n?p.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:[p.jsx("div",{className:`mb-6 md:mb-8 lg:mb-10 ml-4 md:ml-6 lg:ml-8 fade-in ${t==="ar"?"rtl":"ltr"}`,children:p.jsx("p",{className:"text-gray-400 text-sm md:text-base cursor-pointer hover:text-[#78B833] transition-colors",children:N[t].breadcrumb})}),p.jsxs("div",{className:`max-w-4xl mx-auto bg-white rounded-lg shadow-md p-6 md:p-8 lg:p-10 transition-all duration-300 fade-in ${a?"blur-sm":""} ${t==="ar"?"rtl":"ltr"}`,children:[T&&p.jsx("p",{className:"text-[#78B833] text-sm mb-4",children:T}),p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-lg md:text-xl lg:text-2xl font-semibold text-[#78B833]",children:N[t].accountDetails}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(RU,{className:"text-gray-500 cursor-pointer hover:text-[#78B833] transition-colors",onClick:Y}),p.jsx(IU,{className:"text-red-500 cursor-pointer hover:text-red-700 transition-colors",onClick:$})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-gray-500 text-sm md:text-base mb-2",children:N[t].name}),p.jsx("p",{className:"text-black text-base md:text-lg",children:`${c.firstName} ${c.lastName}`})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-gray-500 text-sm md:text-base mb-2",children:N[t].gender}),p.jsx("p",{className:"text-black text-base md:text-lg",children:c.gender||N[t].selectGender})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-gray-500 text-sm md:text-base mb-2",children:N[t].phoneNo}),p.jsx("p",{className:"text-black text-base md:text-lg",children:c.mobileNumber})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-gray-500 text-sm md:text-base mb-2",children:N[t].dateOfBirth}),p.jsx("p",{className:"text-black text-base md:text-lg",children:c.dateOfBirth||"dd/mm/yyyy"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-gray-500 text-sm md:text-base mb-2",children:N[t].email}),p.jsx("p",{className:"text-black text-base md:text-lg",children:c.email})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-gray-500 text-sm md:text-base mb-2",children:N[t].occupation}),p.jsx("p",{className:"text-black text-base md:text-lg",children:c.occupation||N[t].enterOccupation})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-gray-500 text-sm md:text-base mb-2",children:N[t].password}),p.jsx("p",{className:"text-black text-base md:text-lg",children:"********"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-gray-500 text-sm md:text-base mb-2",children:N[t].preferredStation}),p.jsx("p",{className:"text-black text-base md:text-lg",children:c.preferredStation})]})]})]}),p.jsx(L5,{children:a&&p.jsx(qe.div,{className:"fixed inset-0 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:p.jsxs(qe.div,{className:`bg-white rounded-xl shadow-2xl p-6 md:p-8 lg:p-10 w-full max-w-md max-h-[80vh] overflow-y-auto relative scrollbar-hide z-50 ${t==="ar"?"rtl":"ltr"}`,initial:{scale:.95},animate:{scale:1},exit:{scale:.95},transition:{duration:.3},children:[p.jsx("button",{onClick:Y,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors cursor-pointer",children:p.jsx(NU,{size:20})}),p.jsx("h2",{className:"text-lg md:text-xl lg:text-2xl font-semibold text-[#78B833] mb-6",children:N[t].updateProfile}),p.jsxs("div",{className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].firstName}),p.jsx("input",{type:"text",name:"firstName",value:c.firstName,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].lastName}),p.jsx("input",{type:"text",name:"lastName",value:c.lastName,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].email}),p.jsx("input",{type:"email",name:"email",value:c.email,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].mobileNumber}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("select",{value:f,onChange:L,className:"w-20 px-2 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200",children:[p.jsx("option",{value:"+966",children:"+966"}),p.jsx("option",{value:"+971",children:"+971"})]}),p.jsx("input",{type:"tel",name:"mobileNumber",value:c.mobileNumber.split(" ")[1]||"",onChange:j,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200",placeholder:"123456789"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].gender}),p.jsxs("select",{name:"gender",value:c.gender,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200",children:[p.jsx("option",{value:"",children:N[t].selectGender}),p.jsx("option",{value:t==="ar"?"":"Male",children:N[t].male}),p.jsx("option",{value:t==="ar"?"":"Female",children:N[t].female})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].dateOfBirth}),p.jsx("input",{type:"text",name:"dateOfBirth",value:c.dateOfBirth,onChange:D,placeholder:"dd/mm/yyyy",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].occupation}),p.jsx("input",{type:"text",name:"occupation",value:c.occupation,onChange:D,placeholder:N[t].enterOccupation,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].preferredStation}),p.jsx("input",{type:"text",name:"preferredStation",value:c.preferredStation,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].currentPassword}),p.jsx("input",{type:"password",name:"currentPassword",value:c.currentPassword,onChange:D,placeholder:N[t].enterCurrentPassword,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].newPassword}),p.jsx("input",{type:"password",name:"newPassword",value:c.newPassword,onChange:D,placeholder:N[t].enterNewPassword,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-gray-600 text-sm md:text-base mb-2 block font-medium",children:N[t].confirmNewPassword}),p.jsx("input",{type:"password",name:"confirmNewPassword",value:c.confirmNewPassword,onChange:D,placeholder:N[t].confirmNewPasswordPlaceholder,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#78B833] transition-all duration-200"})]}),v&&p.jsx("p",{className:"text-red-500 text-sm mt-2",children:v}),T&&p.jsx("p",{className:"text-[#78B833] text-sm mt-2",children:T})]}),p.jsx("button",{onClick:K,disabled:R,className:`mt-6 w-full bg-[#78B833] text-white py-3 rounded-full hover:bg-[#78B833]/90 transition-all duration-200 font-medium cursor-pointer ${R?"opacity-50 cursor-not-allowed":""}`,children:R?N[t].saving:N[t].update})]})})})]}):null},JU=({language:t="en"})=>{const e={en:{returnExchangePolicy:"Return & Exchange Policy",lastUpdated:"Last Updated: March 10, 2025",returnPolicy:"Return Policy",returnPolicyText:"Products can be returned in the following cases:",returnCases:[{title:"If the product does not match the description agreed upon in the invoice:",details:["The product must be in its original condition and accompanied by the invoice.","All products can be returned within a period not exceeding 3 days from the date of receiving the order, to maintain the product's quality and preservation."]},{title:"If the product is damaged from the same date of receiving the order:",details:["After confirmation from our quality team, the product will be replaced for the customer."]}]},ar:{returnExchangePolicy:"  ",lastUpdated:" : 10  2025",returnPolicy:" ",returnPolicyText:"     :",returnCases:[{title:"         :",details:["         .","        3          ."]},{title:"       :",details:["         ."]}]}};return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("div",{style:{backgroundImage:`url(${Zf})`},className:"bg-cover bg-center relative overflow-hidden min-h-screen",children:[p.jsx("div",{className:"absolute inset-0 bg-overlay"}),p.jsxs("div",{className:`container px-6 sm:px-8 lg:px-12 py-20 max-w-6xl ${t==="ar"?"rtl":"ltr"}`,children:[p.jsxs("div",{className:"fade-in",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mt-4 tracking-tight",children:e[t].returnExchangePolicy}),p.jsx("p",{className:"mt-2 text-white text-sm opacity-80",children:e[t].lastUpdated})]}),p.jsxs("section",{className:"mt-16 space-y-6 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white tracking-tight",children:e[t].returnPolicy}),p.jsx("p",{className:"text-white leading-relaxed text-base font-medium",children:e[t].returnPolicyText}),p.jsx("ol",{className:"list-decimal list-outside space-y-6 text-white text-base font-medium",children:e[t].returnCases.map((n,i)=>p.jsxs("li",{className:"font-semibold",children:[n.title,p.jsx("ul",{className:"mt-3 space-y-3 text-white list-disc",children:n.details.map((a,l)=>p.jsx("li",{className:"font-medium",children:a},l))})]},i))})]})]})]})})},eB=()=>p.jsx("div",{}),tB=()=>p.jsx("div",{}),nB=({language:t="en"})=>{const[e,n]=I.useState(""),[i,a]=I.useState(""),[l,c]=I.useState(""),[d,f]=I.useState(""),[g,v]=I.useState(!1),_=bn(),T={en:{signUp:"Sign Up",email:"Email",password:"Password",rePassword:"Re-Password",signUpButton:"Sign Up",signingUp:"Signing Up...",passwordsDoNotMatch:"Passwords do not match.",signupFailed:"Signup failed. Please try again.",orSignUpWith:"Or sign up with",signUpWithGoogle:"Sign up with Google",signUpWithApple:"Sign up with Apple",signUpWithX:"Sign up with X",alreadyHaveAccount:"Already have an account? Sign In"},ar:{signUp:" ",email:" ",password:" ",rePassword:"  ",signUpButton:" ",signingUp:"  ...",passwordsDoNotMatch:"   .",signupFailed:"  .   .",orSignUpWith:"   ",signUpWithGoogle:"   ",signUpWithApple:"   ",signUpWithX:"   ",alreadyHaveAccount:"    "}},E=async N=>{if(N.preventDefault(),f(""),v(!0),e!==i){f(T[t].passwordsDoNotMatch),v(!1);return}try{await aO(l,e),lt.setPersistence("local"),_("/dashboard")}catch(D){f(T[t].signupFailed),console.error("Signup error:",D.message,D.code)}finally{v(!1)}},R=async N=>{f(""),v(!0);try{await I5(N),lt.setPersistence("local"),_("/dashboard")}catch(D){f(D.message),console.error("Social signup error:",D.message,D.code)}finally{v(!1)}},V=()=>{_("/login")};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-overlay"})," ",p.jsxs("div",{className:`p-6 rounded-lg w-full max-w-md z-10 fade-in ${t==="ar"?"rtl":"ltr"}`,children:[p.jsx("h2",{className:"text-3xl font-medium text-center mb-6 text-white",children:T[t].signUp}),d&&p.jsx("div",{className:"bg-red-100 text-red-700 p-2 rounded mb-4 text-center",children:d}),p.jsxs("form",{onSubmit:E,children:[p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"email",value:l,onChange:N=>c(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none  bg-gray-100 text-gray-800",placeholder:T[t].email,required:!0})}),p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"password",value:e,onChange:N=>n(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none  bg-gray-100 text-gray-800",placeholder:T[t].password,required:!0})}),p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"password",value:i,onChange:N=>a(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none  bg-gray-100 text-gray-800",placeholder:T[t].rePassword,required:!0})}),p.jsx("button",{type:"submit",className:"w-full primary text-white py-3 rounded-lg mb-2 font-medium transition-all duration-200 hover:bg-[#78B833]/90",disabled:g,children:g?T[t].signingUp:T[t].signUpButton})]}),p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("hr",{className:"flex-1 border-gray-300"}),p.jsx("span",{className:"px-7 text-gray-400 text-sm",children:T[t].orSignUpWith}),p.jsx("hr",{className:"flex-1 border-gray-300"})]}),p.jsxs("button",{onClick:()=>R("Google"),className:"w-full bg-white text-gray-800 py-3 rounded-lg flex items-center justify-center cursor-pointer font-medium transition-all duration-200 hover:bg-gray-100",children:[p.jsx("img",{className:"mr-3 w-5 h-5",src:dE,alt:"Google"}),T[t].signUpWithGoogle]}),p.jsxs("button",{onClick:()=>R("Apple"),className:"w-full bg-white text-gray-800 py-3 rounded-lg flex items-center justify-center cursor-pointer font-medium transition-all duration-200 hover:bg-gray-100",disabled:!0,children:[p.jsx("img",{className:"mr-3 w-5 h-5",src:fE,alt:"Apple"}),T[t].signUpWithApple]}),p.jsxs("button",{onClick:()=>R("Twitter"),className:"w-full bg-white text-gray-800 py-3 rounded-lg flex items-center justify-center cursor-pointer font-medium transition-all duration-200 hover:bg-gray-100",children:[p.jsx("img",{className:"mr-3 w-5 h-5",src:hE,alt:"X"}),T[t].signUpWithX]})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:V,className:"hover:underline mb-2 block text-gray-400 text-sm bg-transparent border-none cursor-pointer",children:T[t].alreadyHaveAccount})})]})]})},iB=({language:t="en"})=>{const[e,n]=I.useState(""),[i,a]=I.useState(""),[l,c]=I.useState(""),[d,f]=I.useState(!1),g=bn(),v={en:{forgotPassword:"Forgot Password",enterEmail:"Enter email",resetPassword:"Reset Password",backToLogin:"Back to Login",resetting:"Resetting...",resetEmailSent:"Password reset email sent! Check your inbox.",emailNotFound:"No user found with this email."},ar:{forgotPassword:"  ",enterEmail:"  ",resetPassword:"   ",backToLogin:"   ",resetting:"  ...",resetEmailSent:"      !    .",emailNotFound:"       ."}},_=async E=>{E.preventDefault(),a(""),c(""),f(!0);try{await oO(e),c(v[t].resetEmailSent)}catch(R){R.code==="auth/user-not-found"?a(v[t].emailNotFound):a(R.message)}finally{f(!1)}},T=()=>{g("/login")};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-overlay"}),p.jsxs("div",{className:"p-6 rounded-lg w-full max-w-md z-10 fade-in",children:[p.jsx("h2",{className:"text-3xl font-medium text-center mb-6 text-white",children:v[t].forgotPassword}),i&&p.jsx("div",{className:"bg-red-100 text-red-700 p-2 rounded mb-4 text-center",children:i}),l&&p.jsx("div",{className:"bg-green-100 text-green-700 p-2 rounded mb-4 text-center",children:l}),p.jsxs("form",{onSubmit:_,children:[p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"email",value:e,onChange:E=>n(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none bg-gray-100 text-gray-800",placeholder:v[t].enterEmail,required:!0})}),p.jsx("button",{type:"submit",className:"w-full primary text-white py-3 rounded-lg mb-2 font-medium transition-all duration-200 hover:bg-[#78B833]/90",disabled:d,children:d?v[t].resetting:v[t].resetPassword})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:T,className:"hover:underline mb-2 block text-gray-400 text-sm bg-transparent border-none cursor-pointer",children:v[t].backToLogin})})]})]})},sB=({language:t="en"})=>{const e={en:{usagePolicy:"Usage Policy",lastUpdated:"Last Updated: March 10, 2025",introText:"This is the website of the United Feeds Company in the Kingdom of Saudi Arabia (referred to as 'the website' or 'the website'). It is available for the personal use of site visitors. Visitor access and use of this site are subject to these terms and conditions and the laws of the Kingdom of Saudi Arabia. The visitor's entry and use of this site constitute an unconditional agreement to the terms and conditions of use, whether registered or not. This agreement takes effect from the first use of this site - This website provides information, data, and services related to the business of the United Feeds Company (referred to as United Feeds Company). By using this website, you acknowledge and agree to refrain from the following:",prohibitedActions:["Providing or uploading files that contain software, materials, data, or other information that you do not own or have a license for.","Using this site in any way to send any commercial or unwanted email or any form of abuse.","Providing or uploading files on this site that contain viruses or corrupted data.","Publishing, advertising, distributing, or disseminating materials or information that defame, violate regulations, contain obscene or indecent content, or are in violation of public morality, or any illegal materials or information through the site.","Engaging through this site in unlawful or irregular activities within the Kingdom of Saudi Arabia.","Advertising on this site any product or service that puts us in violation of any applicable law or regulation in any field.","Using any means, software, or actions to obstruct or attempt to obstruct the proper operation of the site.","Taking any action that unreasonably or inappropriately imposes an undue or excessive burden on the site's infrastructure."],electronicLinks:"Electronic Links",electronicLinksText:"The United Feeds Company's website may contain electronic links to other websites or portals that may use methods to protect information and privacy different from ours. We are not responsible for the content, methods, and privacy of these other websites, and we recommend referring to their privacy notices.",propertyRights:"Property Rights",propertyRightsText:"This website is owned by the United Feeds Company. All website content, including software and information, is fully protected in accordance with Saudi copyright, trademark, and various property rights laws. Furthermore, all intellectual property rights for the website's content belong to the United Feeds Company. Except as otherwise indicated, you may not sell, license, rent, modify, copy, reproduce, reprint, download, advertise, transmit, distribute, publicly display, edit, or create derivative works from any materials or content from this website for public or commercial purposes without prior written consent from the website's management. Any modification of the website's content is strictly prohibited. In addition, the graphics and images on this website are protected by copyright, and may not be copied or used in any way without prior written consent from the website's management.",disclaimerPolicy:"Disclaimer Policy",disclaimerPolicyText:["This website is a private website managed by the United Feeds Company. Its content is published in collaboration with other government entities. The United Feeds Company does not guarantee the full accuracy and correctness of the website's content, as some information may change. Therefore, the company assumes no responsibility or consequences resulting from the use of the information provided on the website, including:","Accuracy and correctness of information.","Effectiveness in preventing breaches.","Relevance of the website content.","Continuity or validity.","Absence of viruses or harmful elements on the website or server.","The company is not legally responsible for any loss or damage of any kind (direct or indirect) resulting from the use of this website.","The servers operating the site automatically collect visitors' IP addresses when they visit one of the organization's websites. The IP address is used to help diagnose server problems and to perform statistics on its usage. The site uses cookies, and these files help users navigate the site easily. If desired, these files can be used to remember passwords and facilitate and speed up the login process to some sites. These files are stored on the computer's hard drive."],limitationOfLiability:"Limitation of Liability",limitationOfLiabilityText:"The electronic services and data provided by the website of the United Company for Feeds and obtaining any information about various government entities are only provided to facilitate manual procedures. By this, the user acknowledges full awareness that Internet communications may be subject to interception or interception by others, and that the website does not replace the information available through official authorities, and that requests and administrative procedures can be taken directly with the relevant authorities.",virusProtection:"Virus Protection",virusProtectionText:"The company makes every effort to examine and test the contents of this website at all stages of its preparation, and visitors are always advised to run an up-to-date antivirus program on all materials downloaded from the Internet. The company is not responsible for any loss, interruption, data damage to the user, their personal computer, or any damage that may occur when connecting to this website or using any material contained therein.",waiverOfClaims:"Waiver of Claims",waiverOfClaimsText:"In its entirety, the website of the United Feeds Company, including all its information, services, materials, and functions, or that which can be accessed through the website, is provided for your personal use as is, without any acknowledgments, promises, or warranties of any kind. The website's administration cannot guarantee or be held responsible for any interruptions, errors, or violations that may arise from using this website, its content, or any associated site, whether with or without the knowledge of the website's administration. Any communications or information sent by the user through this website shall not grant them ownership or the right to guarantee its confidentiality. Additionally, any interactive use contained within this website does not imply or intend to guarantee any rights, licenses, or privileges of any kind to the user.",compensation:"Compensation",compensationText:"By this, the user acknowledges not to take any action against the United Feeds Company or any of its management, and to indemnify and secure them from liability, as well as any parties or employees responsible for the management, maintenance, update, or provision of the website, from any and all obligations and responsibilities that may arise in connection with any claim arising from any violation on their part of the terms and conditions of use, or any of the prevailing laws, whether in the Kingdom of Saudi Arabia or the place where they reside.",terminationOfAccess:"Termination of Access",terminationOfAccessText:"The United Feeds Company may, at its absolute discretion, terminate, restrict, or suspend your right to access and use the website without notice and for any reason, including a violation of the terms and conditions of use or any other behavior we may consider, at our discretion, to be unlawful or harmful to others. In the event of termination, you will not be permitted to access this website.",judicialReference:"Judicial Reference",judicialReferenceText:"By this, the user exclusively agrees to submit to the judicial authorities in the Kingdom of Saudi Arabia regarding all claims and disputes arising from your use of this website."},ar:{usagePolicy:" ",lastUpdated:" : 10  2025",introText:"           (   ''  ' ').      .             .                  .         -             (     ).           :",prohibitedActions:["                  .","                   .","            .","                                .","               .","                   .","            .","               ."],electronicLinks:" ",electronicLinksText:"                     .                 .",propertyRights:" ",propertyRightsText:"     .                        .             .                                               .       .                          .",disclaimerPolicy:"   ",disclaimerPolicyText:["        .        .               .                  :","  .","   .","  .","  .","        .","            (   )     .","      IP        .   IP         .      (cookies)         .                   .       ."],limitationOfLiability:" ",limitationOfLiabilityText:"                     .                                       .",virusProtection:"  ",virusProtectionText:"                            .                              .",waiverOfClaims:"  ",waiverOfClaimsText:"                                  .                               .                  .                         .",compensation:"",compensationText:"                                                                   .",terminationOfAccess:" ",terminationOfAccessText:"                                       .          .",judicialReference:" ",judicialReferenceText:"                     ."}};return p.jsx("div",{className:"min-h-screen bg-gray-50",children:p.jsxs("div",{style:{backgroundImage:`url(${Zf})`},className:"bg-cover bg-center relative overflow-hidden min-h-screen",children:[p.jsx("div",{className:"absolute inset-0 bg-overlay"}),p.jsxs("div",{className:`container px-6 sm:px-8 lg:px-12 py-20 max-w-6xl ${t==="ar"?"rtl":"ltr"}`,children:[p.jsxs("div",{className:"fade-in",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mt-4 tracking-tight",children:e[t].usagePolicy}),p.jsx("p",{className:"mt-2 text-white text-sm opacity-80",children:e[t].lastUpdated})]}),p.jsxs("section",{className:"mt-16 fade-in",children:[p.jsx("p",{className:"text-white leading-relaxed text-lg font-medium",children:e[t].introText}),p.jsx("ol",{className:"list-decimal list-outside mt-6 space-y-4 text-white text-lg font-medium",children:e[t].prohibitedActions.map((n,i)=>p.jsx("li",{children:n},i))})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].electronicLinks}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:e[t].electronicLinksText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].propertyRights}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:e[t].propertyRightsText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].disclaimerPolicy}),e[t].disclaimerPolicyText.map((n,i)=>p.jsxs("p",{className:`text-lg text-white leading-relaxed font-medium ${i===0?"":"mt-4"}`,children:[i>0&&i<=5?p.jsx("span",{className:"mr-2",children:""}):null,n]},i))]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].limitationOfLiability}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:e[t].limitationOfLiabilityText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].virusProtection}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:e[t].virusProtectionText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].waiverOfClaims}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:e[t].waiverOfClaimsText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].compensation}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:e[t].compensationText})]}),p.jsxs("section",{className:"mt-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].terminationOfAccess}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:e[t].terminationOfAccessText})]}),p.jsxs("section",{className:"mt-12 mb-12 fade-in",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-6",children:e[t].judicialReference}),p.jsx("p",{className:"text-lg text-white leading-relaxed font-medium",children:e[t].judicialReferenceText})]})]})]})})},rB="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13%200C5.81491%200%200%205.81425%200%2013C0%2020.185%205.81425%2026%2013%2026C20.1851%2026%2026%2020.1857%2026%2013C26%205.81501%2020.1857%200%2013%200ZM14.335%2018.1604C14.335%2018.5712%2013.7361%2018.9818%2013.0003%2018.9818C12.2302%2018.9818%2011.6827%2018.5712%2011.6827%2018.1604V11.6408C11.6827%2011.1617%2012.2303%2010.8365%2013.0003%2010.8365C13.7361%2010.8365%2014.335%2011.1617%2014.335%2011.6408V18.1604ZM13.0003%209.2623C12.2131%209.2623%2011.5972%208.6805%2011.5972%208.03019C11.5972%207.37994%2012.2132%206.81525%2013.0003%206.81525C13.7704%206.81525%2014.3864%207.37994%2014.3864%208.03019C14.3864%208.6805%2013.7703%209.2623%2013.0003%209.2623Z'%20fill='white'/%3e%3c/svg%3e",aB="data:image/svg+xml,%3csvg%20width='23'%20height='19'%20viewBox='0%200%2023%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.4222%2012.209C12.85%2012.6393%2012.1853%2012.8667%2011.5%2012.8667C10.8148%2012.8667%2010.1501%2012.6393%209.5779%2012.209L0.153139%205.12251C0.10085%205.08319%200.0499083%205.0422%200%205.00005V16.6121C0%2017.9434%200.957961%2019%202.11731%2019H20.8827C22.0632%2019%2023%2017.9196%2023%2016.6121V5C22.95%205.04225%2022.899%205.08334%2022.8465%205.12271L13.4222%2012.209Z'%20fill='white'/%3e%3cpath%20d='M0.900684%204.00379L10.3254%2010.6241C10.6822%2010.8747%2011.0911%2011%2011.5%2011C11.9089%2011%2012.3178%2010.8747%2012.6746%2010.6241L22.0993%204.00379C22.6633%203.60787%2023%202.94524%2023%202.23007C23%201.00038%2022.0505%200%2020.8834%200H2.11658C0.949514%204.73306e-05%200%201.00043%200%202.23126C0%202.94524%200.336734%203.60787%200.900684%204.00379Z'%20fill='white'/%3e%3c/svg%3e",oB="data:image/svg+xml,%3csvg%20width='20'%20height='22'%20viewBox='0%200%2020%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.76%2014.9359C16.4636%2013.8271%2015.148%2013.1555%2013.8675%2014.2626L13.1029%2014.9317C12.5435%2015.4175%2011.5034%2017.6869%207.48203%2013.0609C3.46146%208.44071%205.85404%207.72135%206.41429%207.23982L7.18306%206.56986C8.45681%205.46025%207.97612%204.0634%207.05744%202.62551L6.50305%201.75457C5.58019%200.320025%204.57526%20-0.622098%203.29816%200.485839L2.60811%201.0888C2.04367%201.49998%200.465926%202.83654%200.0832146%205.37567C-0.377379%208.42229%201.07558%2011.9111%204.40442%2015.739C7.72907%2019.5687%2010.9842%2021.4923%2014.0677%2021.4588C16.6303%2021.4311%2018.1779%2020.0561%2018.6619%2019.5561L19.3545%2018.9523C20.6282%2017.8452%2019.8368%2016.718%2018.5396%2015.6067L17.76%2014.9359Z'%20fill='white'/%3e%3c/svg%3e",lB="data:image/svg+xml,%3csvg%20width='8'%20height='16'%20viewBox='0%200%208%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.53946%202.65645H8V0.112657C7.74802%200.0779935%206.88143%200%205.87218%200C3.76635%200%202.32381%201.32456%202.32381%203.75902V5.9995H0V8.84326H2.32381V15.9987H5.1729V8.84393H7.40272L7.75669%206.00017H5.17224V4.041C5.1729%203.21907%205.39422%202.65645%206.53946%202.65645Z'%20fill='%235C5C5C'/%3e%3c/svg%3e",cB="data:image/svg+xml,%3csvg%20width='15'%20height='15'%20viewBox='0%200%2015%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.6132%202.59081C14.7978%203.06569%2014.9267%203.61373%2014.9619%204.4109C14.997%205.21103%2015%205.46599%2015%207.50292C15%209.53984%2014.9912%209.7948%2014.956%2010.5949C14.9209%2011.3921%2014.7919%2011.9373%2014.6073%2012.415C14.2175%2013.4232%2013.4203%2014.2204%2012.4121%2014.6102C11.9373%2014.7948%2011.3892%2014.9238%2010.5921%2014.9589C9.79194%2014.9942%209.53698%2015.0029%207.50006%2015.0029C5.46313%2015.0029%205.20806%2014.9942%204.40803%2014.9589C3.61076%2014.9238%203.06569%2014.7948%202.58794%2014.6102C2.0897%2014.4227%201.63542%2014.1266%201.26026%2013.7456C0.879248%2013.3704%200.583303%2012.9191%200.3928%2012.415C0.208135%2011.9401%200.0791095%2011.3921%200.0439624%2010.5949C0.00881538%209.7948%200%209.53984%200%207.50292C0%205.46599%200.00881538%205.21104%200.046939%204.40792C0.0820861%203.61076%200.210997%203.06569%200.395662%202.58794C0.583303%202.0897%200.879248%201.63542%201.26026%201.26026C1.63542%200.876272%202.08673%200.583189%202.59092%200.392685C3.06569%200.208135%203.61373%200.0791095%204.4109%200.0439624C5.21103%200.00881538%205.46599%200%207.50292%200C9.53984%200%209.7948%200.00881538%2010.5979%200.046939C11.3951%200.0820861%2011.9403%200.210997%2012.4179%200.395662C12.9161%200.583189%2013.3704%200.879248%2013.7456%201.26026C14.1296%201.63542%2014.4226%202.08673%2014.6132%202.59081ZM13.3527%2011.9283C13.4553%2011.6645%2013.5784%2011.2688%2013.6106%2010.5361C13.6458%209.7448%2013.6546%209.51033%2013.6546%207.50856C13.6546%205.50678%2013.6458%205.26945%2013.6106%204.47813C13.5784%203.74828%2013.4553%203.34976%2013.3527%203.08598C13.2325%202.76061%2013.042%202.46753%2012.7929%202.22425C12.5526%201.97513%2012.2565%201.78463%2011.9313%201.66453C11.6675%201.56195%2011.2718%201.43888%2010.5391%201.40659C9.75066%201.37145%209.51333%201.36263%207.50857%201.36263C5.50691%201.36263%205.26947%201.37145%204.47814%201.40659C3.74841%201.43888%203.34977%201.56195%203.086%201.66453C2.76063%201.78463%202.46755%201.97513%202.22438%202.22425C1.97228%202.46467%201.78178%202.76061%201.66157%203.08598C1.55899%203.34976%201.43592%203.74542%201.40375%204.47813C1.36849%205.26647%201.35979%205.50678%201.35979%207.50856C1.35979%209.51033%201.36849%209.74778%201.40375%2010.5391C1.43592%2011.2688%201.55899%2011.6675%201.66157%2011.9312C1.78178%2012.2565%201.97228%2012.5496%202.2214%2012.7929C2.46171%2013.042%202.75777%2013.2325%203.08302%2013.3527C3.3468%2013.4553%203.74246%2013.5783%204.47517%2013.6105C5.26363%2013.6458%205.50393%2013.6545%207.50571%2013.6545C9.50749%2013.6545%209.74482%2013.6458%2010.5361%2013.6105C11.266%2013.5783%2011.6645%2013.4553%2011.9283%2013.3527C12.5819%2013.1006%2013.1006%2012.5819%2013.3527%2011.9283Z'%20fill='%235C5C5C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.64893%207.50296C3.64893%205.37514%205.37525%203.64893%207.50296%203.64893C9.63079%203.64893%2011.357%205.37514%2011.357%207.50296C11.357%209.63079%209.63079%2011.357%207.50296%2011.357C5.37525%2011.357%203.64893%209.63079%203.64893%207.50296ZM5.00315%207.50316C5.00315%208.88363%206.12282%2010.0032%207.50317%2010.0032C8.88364%2010.0032%2010.0032%208.88363%2010.0032%207.50316C10.0032%206.12269%208.88364%205.00314%207.50317%205.00314C6.12282%205.00314%205.00315%206.12269%205.00315%207.50316Z'%20fill='%235C5C5C'/%3e%3cpath%20d='M12.409%203.49642C12.409%203.99329%2012.0061%204.39616%2011.5091%204.39616C11.0122%204.39616%2010.6094%203.99329%2010.6094%203.49642C10.6094%202.99944%2011.0122%202.59668%2011.5091%202.59668C12.0061%202.59668%2012.409%202.99944%2012.409%203.49642Z'%20fill='%235C5C5C'/%3e%3c/svg%3e",uB="data:image/svg+xml,%3csvg%20width='15'%20height='15'%20viewBox='0%200%2015%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.99928%200C0.897698%200%200.000806558%200.896719%200%201.99917C0%203.10162%200.896892%203.99851%201.99928%203.99851C3.10127%203.99851%203.9977%203.10162%203.9977%201.99917C3.9977%200.896834%203.10121%200%201.99928%200Z'%20fill='%235C5C5C'/%3e%3cpath%20d='M3.49999%204.80176H0.498794C0.356033%204.80176%200.240234%204.9175%200.240234%205.06037V14.7203C0.240234%2014.8632%200.356033%2014.9789%200.498794%2014.9789H3.49994C3.64276%2014.9789%203.75855%2014.8631%203.75855%2014.7203V5.06037C3.75861%204.91744%203.64281%204.80176%203.49999%204.80176Z'%20fill='%235C5C5C'/%3e%3cpath%20d='M11.1721%204.68799C10.0738%204.68799%209.10862%205.02242%208.51966%205.56777V5.06033C8.51966%204.91745%208.40386%204.80171%208.26104%204.80171H5.38215C5.23933%204.80171%205.12354%204.91745%205.12354%205.06033V14.7203C5.12354%2014.8631%205.23933%2014.9789%205.38215%2014.9789H8.38047C8.52329%2014.9789%208.63909%2014.8631%208.63909%2014.7203V9.94104C8.63909%208.56978%208.89131%207.71984%2010.1501%207.71984C11.3902%207.72134%2011.483%208.63275%2011.483%2010.023V14.7203C11.483%2014.8631%2011.5988%2014.9789%2011.7417%2014.9789H14.7414C14.8841%2014.9789%2014.9999%2014.8631%2014.9999%2014.7203V9.42139C14.9999%207.21758%2014.5648%204.68799%2011.1721%204.68799Z'%20fill='%235C5C5C'/%3e%3c/svg%3e",dB="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.08823%2014C7.05202%2014%206.93489%2014%206.91135%2014C6.0819%2014%205.54971%2013.5993%205.0349%2013.2114C4.67942%2012.9438%204.34389%2012.6912%203.94868%2012.621C3.75579%2012.587%203.56384%2012.5699%203.37865%2012.5699C3.04423%2012.5699%202.78071%2012.6249%202.58824%2012.665C2.47129%2012.6894%202.37043%2012.7102%202.29364%2012.7102C2.21341%2012.7102%202.12694%2012.6918%202.08901%2012.5544C2.05631%2012.4352%202.03268%2012.3203%202.00965%2012.2086C1.95083%2011.9219%201.90905%2011.7454%201.79638%2011.7269C0.480882%2011.5105%200.104256%2011.2151%200.0203517%2011.0057C0.00853666%2010.9759%200.00168736%2010.9457%200.000231883%2010.9161C-0.00396333%2010.8356%200.0492044%2010.7645%200.124119%2010.7516C2.14612%2010.3969%203.05297%208.19486%203.09081%208.10146C3.09158%208.0989%203.09261%208.09635%203.09389%208.09389C3.21778%207.82663%203.24184%207.59458%203.16624%207.4044C3.02745%207.05623%202.57471%206.90309%202.27506%206.80175C2.20194%206.77694%202.13233%206.75368%202.07754%206.73033C1.47968%206.47857%201.43011%206.22026%201.45357%206.08863C1.49364%205.86397%201.77506%205.70754%202.00288%205.70754C2.06521%205.70754%202.12009%205.71958%202.16632%205.74248C2.4355%205.87647%202.67762%205.9447%202.88696%205.9447C3.17591%205.9447%203.30202%205.81527%203.31743%205.7983C3.30999%205.65254%203.301%205.5003%203.29158%205.34296C3.23148%204.32455%203.15656%203.05868%203.4593%202.33645C4.36581%200.171209%206.28798%200.0026452%206.8557%200.0026452C6.87017%200.0026452%207.10467%200%207.10467%200H7.13823C7.70698%200%209.63361%200.168472%2010.5407%202.33517C10.8432%203.05795%2010.7682%204.32464%2010.7079%205.34232L10.7055%205.38683C10.697%205.5284%2010.6889%205.66613%2010.6821%205.79812C10.6967%205.8139%2010.8127%205.93284%2011.0745%205.94351H11.0747C11.274%205.93549%2011.5027%205.86762%2011.754%205.74257C11.8273%205.7059%2011.9091%205.69824%2011.9647%205.69824C12.05%205.69824%2012.136%205.71575%2012.2075%205.74749L12.2119%205.74941C12.4148%205.82621%2012.5481%205.97772%2012.551%206.13616C12.5536%206.28547%2012.4467%206.50968%2011.9222%206.73033C11.8678%206.7534%2011.7982%206.77675%2011.7247%206.80175C11.4246%206.90309%2010.9723%207.05623%2010.8335%207.4044C10.7579%207.59458%2010.782%207.82635%2010.9059%208.09361C10.9069%208.09635%2010.9081%208.09872%2010.9092%208.10146C10.9468%208.19486%2011.8526%2010.3962%2013.8757%2010.7514C13.9504%2010.7645%2014.0039%2010.8356%2013.9998%2010.916C13.9981%2010.9461%2013.991%2010.9764%2013.979%2011.0061C13.8954%2011.2139%2013.5193%2011.5089%2012.2036%2011.7253C12.0959%2011.743%2012.0541%2011.8923%2011.9901%2012.2054C11.9667%2012.3191%2011.9432%2012.431%2011.9107%2012.5487C11.8827%2012.6509%2011.823%2012.6986%2011.7223%2012.6986H11.7061C11.6363%2012.6986%2011.5374%2012.6851%2011.4117%2012.6588C11.1889%2012.6125%2010.9392%2012.5699%2010.6213%2012.5699C10.4357%2012.5699%2010.2437%2012.5869%2010.0506%2012.6209C9.65604%2012.691%209.32076%2012.9431%208.96588%2013.2104C8.4503%2013.5992%207.91803%2014%207.08823%2014Z'%20fill='%235C5C5C'/%3e%3c/svg%3e",hB="/united-feeds/assets/xlogo-CYoLJ_nq.svg",fB="data:image/svg+xml,%3csvg%20width='16'%20height='12'%20viewBox='0%200%2016%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.3764%200.966606C14.7988%200.280051%2013.7325%200%2011.6961%200H4.30379C2.22075%200%201.13636%200.298116%200.560981%201.02906C0%201.74173%200%202.79179%200%204.24511V7.01512C0%209.83066%200.6656%2011.2602%204.30379%2011.2602H11.6961C13.4621%2011.2602%2014.4407%2011.0131%2015.0738%2010.4072C15.723%209.78586%2016%208.77141%2016%207.01512V4.24511C16%202.71246%2015.9566%201.65621%2015.3764%200.966606ZM10.2721%206.01254L6.91525%207.76692C6.84021%207.80614%206.75814%207.8256%206.67618%207.8256C6.58338%207.8256%206.49079%207.80062%206.40877%207.75097C6.25435%207.65739%206.16005%207.49001%206.16005%207.30947V3.81197C6.16005%203.63174%206.25409%203.46452%206.40821%203.37089C6.56237%203.27726%206.75412%203.27086%206.91406%203.35396L10.2709%205.09703C10.4417%205.1857%2010.5489%205.36201%2010.5492%205.55437C10.5494%205.74689%2010.4426%205.92346%2010.2721%206.01254Z'%20fill='%235C5C5C'/%3e%3c/svg%3e",mB="/united-feeds/assets/GooglePlay-R1yQFD3m.svg",pB="/united-feeds/assets/AppStore-B-KR-hwy.svg",gB="/united-feeds/assets/visa-CfscEMs5.svg",yB="/united-feeds/assets/tamara-CsonoxZ2.svg",vB="/united-feeds/assets/mada-D0SB6N_l.svg",bB="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1075_2430)'%3e%3cpath%20d='M8.3157%2015.0744C8.83373%2014.4264%209.18521%2013.5565%209.09257%2012.6675C8.33426%2012.7052%207.40888%2013.1678%206.87315%2013.8162C6.39207%2014.3715%205.96634%2015.2779%206.07737%2016.1296C6.92849%2016.2035%207.77902%2015.7042%208.3157%2015.0744Z'%20fill='black'/%3e%3cpath%20d='M9.08303%2016.2959C7.84682%2016.2223%206.79571%2016.9975%206.20532%2016.9975C5.61467%2016.9975%204.71061%2016.3331%203.73282%2016.3509C2.46017%2016.3697%201.2793%2017.0892%200.633479%2018.2337C-0.694857%2020.5231%200.28294%2023.9192%201.57467%2025.7838C2.20192%2026.7062%202.958%2027.722%203.9541%2027.6855C4.89529%2027.6486%205.26422%2027.076%206.40822%2027.076C7.55145%2027.076%207.88377%2027.6855%208.88004%2027.667C9.91327%2027.6486%2010.5592%2026.7441%2011.1864%2025.8207C11.9061%2024.769%2012.2007%2023.7537%2012.2191%2023.6979C12.2006%2023.6794%2010.2269%2022.9222%2010.2085%2020.6519C10.1899%2018.7508%2011.7582%2017.8465%2011.832%2017.7905C10.9465%2016.4808%209.56273%2016.3331%209.08303%2016.2959Z'%20fill='black'/%3e%3cpath%20d='M19.7112%2013.7231C22.3981%2013.7231%2024.2691%2015.5753%2024.2691%2018.2718C24.2691%2020.978%2022.3595%2022.8397%2019.6438%2022.8397H16.6689V27.5707H14.5195V13.7231H19.7112ZM16.6688%2021.0356H19.1351C21.0064%2021.0356%2022.0715%2020.028%2022.0715%2018.2814C22.0715%2016.535%2021.0064%2015.5369%2019.1447%2015.5369H16.6688V21.0356Z'%20fill='black'/%3e%3cpath%20d='M24.8311%2024.7014C24.8311%2022.9355%2026.1841%2021.8512%2028.5834%2021.7169L31.347%2021.5538V20.7765C31.347%2019.6538%2030.5889%2018.982%2029.3224%2018.982C28.1225%2018.982%2027.374%2019.5577%2027.1919%2020.4599H25.2343C25.3494%2018.6364%2026.9039%2017.293%2029.3991%2017.293C31.846%2017.293%2033.4102%2018.5885%2033.4102%2020.6133V27.5706H31.4237V25.9104H31.3759C30.7906%2027.0333%2029.5141%2027.7433%2028.1899%2027.7433C26.213%2027.7433%2024.8311%2026.5149%2024.8311%2024.7014ZM31.3469%2023.7898V22.9933L28.8614%2023.1468C27.6235%2023.2332%2026.923%2023.7802%2026.923%2024.6439C26.923%2025.5266%2027.6523%2026.1025%2028.7655%2026.1025C30.2145%2026.1023%2031.3469%2025.1043%2031.3469%2023.7898Z'%20fill='black'/%3e%3cpath%20d='M35.2852%2031.2848V29.6054C35.4385%2029.6437%2035.7839%2029.6437%2035.9567%2029.6437C36.9163%2029.6437%2037.4346%2029.2408%2037.7511%2028.2044C37.7511%2028.1851%2037.9336%2027.5902%2037.9336%2027.5805L34.2871%2017.4756H36.5324L39.0853%2025.6901H39.1235L41.6764%2017.4756H43.8642L40.0829%2028.0987C39.2196%2030.5459%2038.2215%2031.3327%2036.1295%2031.3327C35.9567%2031.3327%2035.4384%2031.3135%2035.2852%2031.2848Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1075_2430'%3e%3crect%20width='44'%20height='44'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",_B="data:image/svg+xml,%3csvg%20width='29'%20height='19'%20viewBox='0%200%2029%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1075_2440)'%3e%3cpath%20d='M9.0625%2019C14.0676%2019%2018.125%2014.7467%2018.125%209.5C18.125%204.25329%2014.0676%200%209.0625%200C4.05742%200%200%204.25329%200%209.5C0%2014.7467%204.05742%2019%209.0625%2019Z'%20fill='%23F93232'/%3e%3cpath%20d='M19.9375%200C17.9021%200%2016.0298%200.7125%2014.5181%201.9H14.5V1.9133C14.1411%202.1964%2013.8112%202.5156%2013.4968%202.85H15.5032C15.7823%203.14735%2016.0397%203.4656%2016.2781%203.8H12.7147C12.4954%204.10305%2012.2942%204.4194%2012.1102%204.75H16.8807C17.0511%205.0578%2017.2115%205.3713%2017.3502%205.7H11.6489C11.5193%206.00875%2011.4052%206.3251%2011.3073%206.65H17.6909C17.7852%206.9597%2017.8595%207.27795%2017.9247%207.6H11.0707C11.01%207.9116%2010.9593%208.227%2010.9285%208.55H18.0706C18.106%208.8616%2018.125%209.17795%2018.125%209.5H10.875C10.875%209.82205%2010.8995%2010.1365%2010.9294%2010.45H18.0724C18.038%2010.772%2017.9882%2011.0884%2017.9256%2011.4H11.0717C11.1342%2011.7239%2011.2148%2012.0393%2011.3082%2012.35H17.6918C17.5939%2012.6749%2017.4798%2012.9913%2017.3502%2013.3H11.6489C11.7858%2013.6268%2011.9398%2013.9441%2012.1102%2014.25H16.8807C16.6977%2014.5806%2016.4938%2014.8969%2016.2744%2015.2H12.7147C12.9557%2015.5344%2013.2158%2015.8526%2013.4959%2016.15H15.5032C15.1878%2016.4853%2014.8589%2016.8036%2014.5%2017.0867C16.0153%2018.2827%2017.8939%2019%2019.9375%2019C24.9427%2019%2029%2014.7459%2029%209.5C29%204.2541%2024.9427%200%2019.9375%200Z'%20fill='%23FED049'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1075_2440'%3e%3crect%20width='29'%20height='19'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",xB=({language:t="en"})=>{const e=bn(),n=mi(),i={en:{needHelp:"Do you need help?",helpOptions:"You can get help by choosing from any of these options",askUs:"Ask Us",emailUs:"Email Us",callUs:"Call Us",topCategories:"Top Categories",barley:"Barley",corn:"Corn",soya:"Soya",wheat:"Wheat",home:"Home",aboutUs:"About Us",usagePolicy:"Usage Policy",privacyPolicy:"Privacy Policy",returnExchangePolicy:"Return & Exchange Policy",station:"Station",contactUs:"Contact Us",account:"Account",profile:"Profile",orders:"Orders",favorites:"Favorites",downloadApp:"Download Our App",paymentMethods:"Payment Methods",copyright:"2023 UnitedFeeds. All rights reserved",subscribeNewsletter:"Subscribe To Our Newsletter",emailPlaceholder:"Enter your email address",subscribe:"Subscribe"},ar:{needHelp:"   ",helpOptions:"          ",askUs:"",emailUs:"   ",callUs:" ",topCategories:" ",barley:"",corn:"",soya:"",wheat:"",home:"",aboutUs:" ",usagePolicy:" ",privacyPolicy:" ",returnExchangePolicy:"  ",station:"",contactUs:" ",account:"",profile:" ",orders:"",favorites:"",downloadApp:"  ",paymentMethods:" ",copyright:"2023  .   ",subscribeNewsletter:"   ",emailPlaceholder:"   ",subscribe:""}},a=l=>{n.pathname===l?window.scrollTo({top:0,left:0,behavior:"smooth"}):(e(l,{replace:!0}),window.scrollTo({top:0,left:0,behavior:"smooth"}))};return p.jsxs("div",{className:`flex flex-col gap-6 ${t==="ar"?"rtl":"ltr"}`,children:[p.jsx("div",{className:"w-full primary py-4 md:py-6 md:px-20",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-12 justify-center",children:[p.jsxs("div",{className:"w-full md:w-1/6 px-4 md:px-0",children:[p.jsx("p",{className:"text-white text-sm font-medium mb-1",children:i[t].needHelp}),p.jsx("p",{className:"text-gray-200 text-xs font-light leading-relaxed",children:i[t].helpOptions})]}),p.jsxs("div",{className:"flex items-center w-full md:w-1/5 gap-3 px-4 md:px-0",children:[p.jsx("div",{className:"rounded-full p-2 flex-shrink-0",children:p.jsx("a",{href:"",children:p.jsx("img",{src:rB,alt:"Ask Us",className:"w-6 h-6"})})}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{className:"text-sm text-gray-300",children:i[t].askUs}),p.jsx("a",{href:"",className:"text-sm text-white",children:"help.ufc.com"})]})]}),p.jsxs("div",{className:"flex items-center w-full md:w-1/5 gap-3 px-4 md:px-0",children:[p.jsx("div",{className:"rounded-full p-2 flex-shrink-0",children:p.jsx("a",{href:"mailto:INFO@ufc.com.sa",children:p.jsx("img",{src:aB,alt:"Email Us",className:"w-6 h-6"})})}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{className:"text-sm text-gray-300",children:i[t].emailUs}),p.jsx("a",{href:"mailto:INFO@ufc.com.sa",className:"text-sm text-white",children:"INFO@ufc.com.sa"})]})]}),p.jsxs("div",{className:"flex items-center w-full md:w-1/5 gap-3 px-4 md:px-0",children:[p.jsx("div",{className:"rounded-full p-2 flex-shrink-0",children:p.jsx("a",{href:"tel:+920006839",children:p.jsx("img",{src:oB,alt:"Call Us",className:"w-6 h-6"})})}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{className:"text-sm text-gray-300",children:i[t].callUs}),p.jsx("a",{href:"tel:+920006839",className:"text-sm text-white",children:"+920 006 839"})]})]})]})}),p.jsxs("div",{className:"flex flex-col gap-6 px-4 pt-4 md:px-8 md:pt-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6 md:gap-12",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("h1",{className:"font-bold text-xl text-gray-700",children:i[t].topCategories}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{onClick:()=>a("/product/1"),className:"text-base text-gray-500 cursor-pointer",children:i[t].barley}),p.jsx("p",{onClick:()=>a("/product/2"),className:"text-base text-gray-500 cursor-pointer",children:i[t].corn}),p.jsx("p",{onClick:()=>a("/product/3"),className:"text-base text-gray-500 cursor-pointer",children:i[t].soya}),p.jsx("p",{onClick:()=>a("/product/4"),className:"text-base text-gray-500 cursor-pointer",children:i[t].wheat})]})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("h1",{className:"font-bold text-xl text-gray-700",children:i[t].home}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{onClick:()=>a("/about"),className:"text-base text-gray-500 cursor-pointer",children:i[t].aboutUs}),p.jsx("p",{onClick:()=>a("/usage-policy"),className:"text-base text-gray-500 cursor-pointer",children:i[t].usagePolicy}),p.jsx("p",{onClick:()=>a("/privacy-policy"),className:"text-base text-gray-500 cursor-pointer",children:i[t].privacyPolicy}),p.jsx("p",{onClick:()=>a("/returns-exchange"),className:"text-base text-gray-500 cursor-pointer",children:i[t].returnExchangePolicy}),p.jsx("p",{onClick:()=>a("/shop"),className:"text-base text-gray-500 cursor-pointer",children:i[t].station}),p.jsx("p",{onClick:()=>a("/contact"),className:"text-base text-gray-500 cursor-pointer",children:i[t].contactUs})]})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("h1",{className:"font-bold text-xl text-gray-700",children:i[t].account}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{onClick:()=>a("/profile"),className:"text-base text-gray-500 cursor-pointer",children:i[t].profile}),p.jsx("p",{onClick:()=>a("/cart"),className:"text-base text-gray-500 cursor-pointer",children:i[t].orders}),p.jsx("p",{onClick:()=>a("/favorites"),className:"text-base text-gray-500 cursor-pointer",children:i[t].favorites})]})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("h1",{className:"font-bold text-xl text-gray-700",children:i[t].contactUs}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx("a",{href:"https://x.com/unitedfeedsa?s=11",className:"p-1 hover:bg-gray-200 rounded-full",children:p.jsx("img",{src:hB,alt:"X",className:"w-5 h-5"})}),p.jsx("a",{href:"https://www.facebook.com/",className:"p-1 hover:bg-gray-200 rounded-full",children:p.jsx("img",{src:lB,alt:"Facebook",className:"w-5 h-5"})}),p.jsx("a",{href:"https://www.youtube.com/",className:"p-1 hover:bg-gray-200 rounded-full",children:p.jsx("img",{src:fB,alt:"YouTube",className:"w-5 h-5"})})]}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx("a",{href:"https://www.snapchat.com/add/unitedfeed_sa",className:"p-1 hover:bg-gray-200 rounded-full",children:p.jsx("img",{src:dB,alt:"Snapchat",className:"w-5 h-5"})}),p.jsx("a",{href:"https://www.instagram.com/unitedfeedsa/",className:"p-1 hover:bg-gray-200 rounded-full",children:p.jsx("img",{src:cB,alt:"Instagram",className:"w-5 h-5"})}),p.jsx("a",{href:"https://www.linkedin.com/company/unitedfeed/",className:"p-1 hover:bg-gray-200 rounded-full",children:p.jsx("img",{src:uB,alt:"LinkedIn",className:"w-5 h-5"})})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("h1",{className:"font-bold text-xl text-gray-700",children:i[t].downloadApp}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[p.jsx("a",{href:"https://apps.apple.com/us/app/united-feeds",children:p.jsx("img",{src:pB,alt:"App Store",className:"w-28"})}),p.jsx("a",{href:"https://play.google.com/store/apps/details?id=sa.com.ufc.mobile",children:p.jsx("img",{src:mB,alt:"Google Play",className:"w-28"})})]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("h1",{className:"font-bold text-lg text-gray-700",children:i[t].paymentMethods}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("img",{src:gB,alt:"Visa",className:"h-7"}),p.jsx("img",{src:vB,alt:"Mada",className:"h-7"}),p.jsx("img",{src:yB,alt:"Tamara",className:"h-7"}),p.jsx("img",{src:_B,alt:"Mastercard",className:"h-7"}),p.jsx("img",{src:bB,alt:"Apple Pay",className:"h-7"})]}),p.jsx("p",{className:"text-sm text-gray-500",children:i[t].copyright})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("h1",{className:"font-bold text-lg text-gray-700",children:i[t].subscribeNewsletter}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[p.jsx("input",{className:"rounded-full px-4 py-2 w-full sm:w-80 border border-gray-300",type:"text",placeholder:i[t].emailPlaceholder}),p.jsx("button",{className:"primary text-white rounded-full px-4 py-2 cursor-pointer",children:i[t].subscribe})]})]})]})]})]})},wB=({language:t="en"})=>{const{categoryNum:e}=uw();bn();const n=I.useContext(Hs),[i,a]=I.useState(!0);if(!n)return console.error("Product must be used within a ShopContextProvider"),p.jsx("div",{className:"text-center text-red-600 p-4",children:t==="ar"?":     ShopContext":"Error: ShopContext not found"});const{products:l}=n,[c,d]=I.useState([]),[f,g]=I.useState("ALL"),[v,_]=I.useState({Whole:!1,Loose:!1}),[T,E]=I.useState({"40 Kg":!1,"50 Kg":!1,"60 Kg":!1,"100 Kg":!1}),[R,V]=I.useState({"Under 100 SAR":!1,"100 SAR to 150 SAR":!1,"150 SAR to 200 SAR":!1,"200 SAR to 300 SAR":!1,"300 SAR to 500 SAR":!1,"500 SAR to 1000 SAR":!1}),[N,D]=I.useState({"This week":!1,"Last week":!1,"This month":!1}),[j,L]=I.useState({"Discounted Only":!1}),[Y,K]=I.useState(!1),[$,O]=I.useState("Suggested"),S={en:{product:"Product",products:"Products",noProductsFound:"No products found matching your criteria.",loading:"Loading products..."},ar:{product:"",products:"",noProductsFound:"      .",loading:"  ..."}},C=[{en:"ALL",ar:""},{en:"Barley",ar:""},{en:"Corn",ar:""},{en:"Soya",ar:""},{en:"Wheat",ar:""}];I.useEffect(()=>{a(!0);const se={1:"Barley",2:"Corn",3:"Soya",4:"Wheat"}[e]||"ALL";g(se),setTimeout(()=>{a(!1)},1e3)},[e]),I.useEffect(()=>{if(!l||l.length===0){d([]);return}let G=[...l];f&&f!=="ALL"&&(G=G.filter(J=>J.category&&J.category.en===f));const se=Object.keys(v).filter(J=>v[J]);se.length>0&&(G=G.filter(J=>se.includes(J.productType)));const Re=Object.keys(T).filter(J=>T[J]);Re.length>0&&(G=G.filter(J=>Re.includes(`${J.size} Kg`)));const F=Object.keys(R).filter(J=>R[J]);F.length>0&&(G=G.filter(J=>{const ie=J.price;return F.some(_e=>_e==="Under 100 SAR"?ie<100:_e==="100 SAR to 150 SAR"?ie>=100&&ie<=150:_e==="150 SAR to 200 SAR"?ie>150&&ie<=200:_e==="200 SAR to 300 SAR"?ie>200&&ie<=300:_e==="300 SAR to 500 SAR"?ie>300&&ie<=500:_e==="500 SAR to 1000 SAR"?ie>500&&ie<=1e3:!1)}));const le=Object.keys(N).filter(J=>N[J]);le.length>0&&(G=G.filter(J=>{const ie=new Date(J.arrivalDate),_e=new Date("2025-04-07"),Ee=24*60*60*1e3,ze=(_e-ie)/Ee;return le.some(Pe=>Pe==="This week"?ze<=7:Pe==="Last week"?ze>7&&ze<=14:Pe==="This month"?ze<=30:!1)}));const me=Object.keys(j).filter(J=>j[J]);switch(me.length>0&&(G=G.filter(J=>me.some(ie=>ie==="Discounted Only"?J.isDiscounted:!1))),$){case"New Arrivals":G=G.sort((J,ie)=>new Date(ie.arrivalDate)-new Date(J.arrivalDate));break;case"Price High to Low":G=G.sort((J,ie)=>ie.price-J.price);break;case"Price Low to High":G=G.sort((J,ie)=>J.price-ie.price);break;case"Discount":G=G.filter(J=>J.isDiscounted);break}d(G)},[f,v,T,R,N,j,$,l]);const k=G=>{g(G)},B=G=>{_(se=>({...se,[G]:!se[G]}))},z=G=>{E(se=>({...se,[G]:!se[G]}))},M=G=>{V(se=>({...se,[G]:!se[G]}))},ue=G=>{D(se=>({...se,[G]:!se[G]}))},Xe=G=>{L(se=>({...se,[G]:!se[G]}))},de=G=>{O(G),K(!1)};return i?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"})}):p.jsxs("div",{className:`flex min-h-screen w-full max-w-full ${t==="ar"?"rtl":"ltr"}`,children:[p.jsx("div",{className:"hidden md:block",children:p.jsx(mE,{productTypeFilters:v,handleProductTypeChange:B,sizeFilters:T,handleSizeChange:z,priceFilters:R,handlePriceChange:M,arrivalFilters:N,handleArrivalChange:ue,specialOfferFilters:j,handleSpecialOfferChange:Xe,productType:gE,size:yE,price:Sf,newArrivals:Ey,specialOffers:Cy,language:t})}),p.jsxs("div",{className:"flex-1 w-full max-w-full px-4 py-6 sm:px-6 md:px-8",children:[p.jsxs("div",{className:"mb-6 w-full max-w-full flex justify-between items-center",children:[p.jsx("div",{className:"flex-1",children:p.jsx(pE,{filters:C,activeFilter:f,handleFilterChange:k,isDropdownOpen:Y,suggestedOption:$,setIsDropdownOpen:K,handleSuggestedChange:de,language:t})}),p.jsxs("div",{className:"text-gray-400 text-xs font-light",children:[c.length," ",c.length===1?S[t].product:S[t].products]})]}),p.jsx("div",{className:"w-full max-w-full",children:c.length>0?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:c.map((G,se)=>p.jsx(Ku,{id:G._id,name_en:G.name.en,name_ar:G.name.ar,image:G.image,price:G.price,stars:G.stars||0,inStock:G.inStock,language:t},se))}):p.jsx("div",{className:"col-span-full text-center text-gray-500 py-10",children:S[t].noProductsFound})})]})]})},TB=()=>{const{pathname:t}=mi();return I.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),null},Ht=({children:t,language:e})=>{const[n,i]=I.useState(!1),a=()=>{i(!1)};return I.useEffect(()=>{const l=(c,d)=>{console.error("Error caught by ErrorBoundary:",c,d),i(!0)};return window.addEventListener("error",l),()=>window.removeEventListener("error",l)},[]),n?p.jsxs("div",{className:"p-6 text-center min-h-screen flex flex-col justify-center items-center bg-gray-50",children:[p.jsx("h1",{className:"text-red-600 text-3xl font-semibold mb-4",role:"alert",children:e==="ar"?"  .":"Something went wrong."}),p.jsx("p",{className:"text-gray-600 mb-6",children:e==="ar"?"      .":"Please try again or contact support."}),p.jsx("button",{onClick:a,className:"bg-green-600 text-white py-2 px-6 rounded-lg hover:bg-green-700 transition duration-300","aria-label":e==="ar"?"  ":"Try Again",children:e==="ar"?"  ":"Try Again"})]}):t},qc=({children:t,language:e})=>{const n=mi(),[i,a]=I.useState(null);return I.useEffect(()=>{const l=lt.onAuthStateChanged(c=>{a(!!c)});return()=>l()},[]),i===null?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"})}):i?t:(Ie.info(e==="ar"?"      .":"Please log in to access this page."),p.jsx(fw,{to:"/login",state:{from:n},replace:!0}))},EB=()=>{const[t,e]=I.useState("en"),[n,i]=I.useState(!0);return I.useEffect(()=>{const a=lt.onAuthStateChanged(()=>{i(!1)});return()=>a()},[]),n?p.jsx("div",{className:"flex justify-center items-center h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"})}):p.jsx(dS,{basename:"/united-feeds",children:p.jsx(lO,{children:p.jsxs("div",{className:`scrollbar-hide ${t==="ar"?"rtl":"ltr"}`,lang:t,dir:t==="ar"?"rtl":"ltr",children:[p.jsx(TB,{}),p.jsx(e8,{position:"top-right",autoClose:3e3,hideProgressBar:!1}),p.jsx(mO,{language:t,setLanguage:e}),p.jsx("main",{className:"min-h-screen",children:p.jsxs(zC,{children:[p.jsx(At,{path:"/about",element:p.jsx(Ht,{language:t,children:p.jsx(xO,{language:t})})}),p.jsx(At,{path:"/cart",element:p.jsx(Ht,{language:t,children:p.jsx(qc,{language:t,children:p.jsx(TO,{language:t})})})}),p.jsx(At,{path:"/checkout",element:p.jsx(Ht,{language:t,children:p.jsx(qc,{language:t,children:p.jsx(EO,{language:t})})})}),p.jsx(At,{path:"/contact",element:p.jsx(Ht,{language:t,children:p.jsx(OO,{language:t})})}),p.jsx(At,{path:"/favorites",element:p.jsx(Ht,{language:t,children:p.jsx(qc,{language:t,children:p.jsx(hU,{language:t})})})}),p.jsx(At,{path:"/",element:p.jsx(Ht,{language:t,children:p.jsx(UU,{language:t})})}),p.jsx(At,{path:"/login",element:p.jsx(Ht,{language:t,children:p.jsx(FU,{language:t})})}),p.jsx(At,{path:"/signup",element:p.jsx(Ht,{language:t,children:p.jsx(nB,{language:t})})}),p.jsx(At,{path:"/forgot-password",element:p.jsx(Ht,{language:t,children:p.jsx(iB,{language:t})})}),p.jsx(At,{path:"/order-history",element:p.jsx(Ht,{language:t,children:p.jsx(qc,{language:t,children:p.jsx(zU,{language:t})})})}),p.jsx(At,{path:"/privacy-policy",element:p.jsx(Ht,{language:t,children:p.jsx(HU,{language:t})})}),p.jsx(At,{path:"/product-details/:productId",element:p.jsx(Ht,{language:t,children:p.jsx(KU,{language:t})})}),p.jsx(At,{path:"/products",element:p.jsx(Ht,{language:t,children:p.jsx(XU,{language:t})})}),p.jsx(At,{path:"/product/:categoryNum",element:p.jsx(Ht,{language:t,children:p.jsx(wB,{language:t})})}),p.jsx(At,{path:"/profile",element:p.jsx(Ht,{language:t,children:p.jsx(qc,{language:t,children:p.jsx(ZU,{language:t})})})}),p.jsx(At,{path:"/returns-exchange",element:p.jsx(Ht,{language:t,children:p.jsx(JU,{language:t})})}),p.jsx(At,{path:"/shop-details",element:p.jsx(Ht,{language:t,children:p.jsx(eB,{language:t})})}),p.jsx(At,{path:"/shop",element:p.jsx(Ht,{language:t,children:p.jsx(tB,{language:t})})}),p.jsx(At,{path:"/usage-policy",element:p.jsx(Ht,{language:t,children:p.jsx(sB,{language:t})})}),p.jsx(At,{path:"*",element:p.jsx(fw,{to:"/",replace:!0})})]})}),p.jsx(xB,{language:t})]})})})};Z9.createRoot(document.getElementById("root")).render(p.jsx(Qe.StrictMode,{children:p.jsx(EB,{})}));
